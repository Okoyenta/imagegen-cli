{"version":3,"file":"bundle.js","sources":["../node_modules/commander/lib/error.js","../node_modules/commander/lib/argument.js","../node_modules/commander/lib/help.js","../node_modules/commander/lib/option.js","../node_modules/commander/lib/suggestSimilar.js","../node_modules/commander/index.js","../node_modules/commander/lib/command.js","../node_modules/figlet/lib/figlet.js","../node_modules/openai/internal/qs/formats.js","../node_modules/openai/internal/qs/utils.js","../node_modules/openai/internal/qs/stringify.js","../node_modules/openai/internal/qs/index.js","../node_modules/openai/version.js","../node_modules/openai/_shims/registry.mjs","../node_modules/openai/_shims/MultipartBody.js","../node_modules/openai/_shims/web-runtime.js","../node_modules/openai/_shims/index.js","../node_modules/openai/_shims/auto/runtime.js","../node_modules/openai/error.js","../node_modules/openai/internal/decoders/line.js","../node_modules/openai/streaming.js","../node_modules/openai/uploads.js","../node_modules/openai/core.js","../node_modules/openai/pagination.js","../node_modules/openai/resource.js","../node_modules/openai/resources/chat/completions.js","../node_modules/openai/resources/chat/chat.js","../node_modules/openai/resources/chat/index.js","../node_modules/openai/resources/shared.js","../node_modules/openai/resources/audio/speech.js","../node_modules/openai/resources/audio/transcriptions.js","../node_modules/openai/resources/audio/translations.js","../node_modules/openai/resources/audio/audio.js","../node_modules/openai/resources/batches.js","../node_modules/openai/resources/beta/assistants.js","../node_modules/openai/lib/RunnableFunction.js","../node_modules/openai/lib/chatCompletionUtils.js","../node_modules/openai/lib/EventStream.js","../node_modules/openai/lib/parser.js","../node_modules/openai/lib/AbstractChatCompletionRunner.js","../node_modules/openai/lib/ChatCompletionRunner.js","../node_modules/openai/_vendor/partial-json-parser/parser.js","../node_modules/openai/lib/ChatCompletionStream.js","../node_modules/openai/lib/ChatCompletionStreamingRunner.js","../node_modules/openai/resources/beta/chat/completions.js","../node_modules/openai/resources/beta/chat/chat.js","../node_modules/openai/lib/AssistantStream.js","../node_modules/openai/resources/beta/threads/messages.js","../node_modules/openai/resources/beta/threads/runs/steps.js","../node_modules/openai/resources/beta/threads/runs/runs.js","../node_modules/openai/resources/beta/threads/threads.js","../node_modules/openai/lib/Util.js","../node_modules/openai/resources/beta/vector-stores/files.js","../node_modules/openai/resources/beta/vector-stores/file-batches.js","../node_modules/openai/resources/beta/vector-stores/vector-stores.js","../node_modules/openai/resources/beta/beta.js","../node_modules/openai/resources/completions.js","../node_modules/openai/resources/embeddings.js","../node_modules/openai/resources/files.js","../node_modules/openai/resources/fine-tuning/jobs/checkpoints.js","../node_modules/openai/resources/fine-tuning/jobs/jobs.js","../node_modules/openai/resources/fine-tuning/fine-tuning.js","../node_modules/openai/resources/images.js","../node_modules/openai/resources/models.js","../node_modules/openai/resources/moderations.js","../node_modules/openai/resources/uploads/parts.js","../node_modules/openai/resources/uploads/uploads.js","../node_modules/openai/resources/index.js","../node_modules/openai/index.js","../node_modules/combined-stream/lib/combined_stream.js","../node_modules/delayed-stream/lib/delayed_stream.js","../node_modules/mime-types/index.js","../node_modules/mime-db/index.js","../node_modules/asynckit/lib/async.js","../node_modules/asynckit/lib/defer.js","../node_modules/asynckit/lib/abort.js","../node_modules/asynckit/lib/iterate.js","../node_modules/asynckit/lib/state.js","../node_modules/asynckit/lib/terminator.js","../node_modules/asynckit/parallel.js","../node_modules/asynckit/serialOrdered.js","../node_modules/asynckit/serial.js","../node_modules/asynckit/index.js","../node_modules/form-data/lib/populate.js","../node_modules/proxy-from-env/index.js","../node_modules/ms/index.js","../node_modules/debug/src/debug.js","../node_modules/debug/src/index.js","../node_modules/debug/src/browser.js","../node_modules/debug/src/node.js","../node_modules/follow-redirects/index.js","../node_modules/follow-redirects/debug.js","../node_modules/axios/dist/node/axios.cjs","../node_modules/form-data/lib/form_data.js","../service/imgToFile.js","../service/generateImage.js","../service/random.js","../index.js?commonjs-entry","../index.js","../node_modules/figlet/lib/node-figlet.js","../service/getApiKey.js"],"sourcesContent":["/**\n * CommanderError class\n */\nclass CommanderError extends Error {\n  /**\n   * Constructs the CommanderError class\n   * @param {number} exitCode suggested exit code which could be used with process.exit\n   * @param {string} code an id string representing the error\n   * @param {string} message human-readable description of the error\n   */\n  constructor(exitCode, code, message) {\n    super(message);\n    // properly capture stack trace in Node.js\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n    this.code = code;\n    this.exitCode = exitCode;\n    this.nestedError = undefined;\n  }\n}\n\n/**\n * InvalidArgumentError class\n */\nclass InvalidArgumentError extends CommanderError {\n  /**\n   * Constructs the InvalidArgumentError class\n   * @param {string} [message] explanation of why argument is invalid\n   */\n  constructor(message) {\n    super(1, 'commander.invalidArgument', message);\n    // properly capture stack trace in Node.js\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n  }\n}\n\nexports.CommanderError = CommanderError;\nexports.InvalidArgumentError = InvalidArgumentError;\n","const { InvalidArgumentError } = require('./error.js');\n\nclass Argument {\n  /**\n   * Initialize a new command argument with the given name and description.\n   * The default is that the argument is required, and you can explicitly\n   * indicate this with <> around the name. Put [] around the name for an optional argument.\n   *\n   * @param {string} name\n   * @param {string} [description]\n   */\n\n  constructor(name, description) {\n    this.description = description || '';\n    this.variadic = false;\n    this.parseArg = undefined;\n    this.defaultValue = undefined;\n    this.defaultValueDescription = undefined;\n    this.argChoices = undefined;\n\n    switch (name[0]) {\n      case '<': // e.g. <required>\n        this.required = true;\n        this._name = name.slice(1, -1);\n        break;\n      case '[': // e.g. [optional]\n        this.required = false;\n        this._name = name.slice(1, -1);\n        break;\n      default:\n        this.required = true;\n        this._name = name;\n        break;\n    }\n\n    if (this._name.length > 3 && this._name.slice(-3) === '...') {\n      this.variadic = true;\n      this._name = this._name.slice(0, -3);\n    }\n  }\n\n  /**\n   * Return argument name.\n   *\n   * @return {string}\n   */\n\n  name() {\n    return this._name;\n  }\n\n  /**\n   * @package\n   */\n\n  _concatValue(value, previous) {\n    if (previous === this.defaultValue || !Array.isArray(previous)) {\n      return [value];\n    }\n\n    return previous.concat(value);\n  }\n\n  /**\n   * Set the default value, and optionally supply the description to be displayed in the help.\n   *\n   * @param {*} value\n   * @param {string} [description]\n   * @return {Argument}\n   */\n\n  default(value, description) {\n    this.defaultValue = value;\n    this.defaultValueDescription = description;\n    return this;\n  }\n\n  /**\n   * Set the custom handler for processing CLI command arguments into argument values.\n   *\n   * @param {Function} [fn]\n   * @return {Argument}\n   */\n\n  argParser(fn) {\n    this.parseArg = fn;\n    return this;\n  }\n\n  /**\n   * Only allow argument value to be one of choices.\n   *\n   * @param {string[]} values\n   * @return {Argument}\n   */\n\n  choices(values) {\n    this.argChoices = values.slice();\n    this.parseArg = (arg, previous) => {\n      if (!this.argChoices.includes(arg)) {\n        throw new InvalidArgumentError(\n          `Allowed choices are ${this.argChoices.join(', ')}.`,\n        );\n      }\n      if (this.variadic) {\n        return this._concatValue(arg, previous);\n      }\n      return arg;\n    };\n    return this;\n  }\n\n  /**\n   * Make argument required.\n   *\n   * @returns {Argument}\n   */\n  argRequired() {\n    this.required = true;\n    return this;\n  }\n\n  /**\n   * Make argument optional.\n   *\n   * @returns {Argument}\n   */\n  argOptional() {\n    this.required = false;\n    return this;\n  }\n}\n\n/**\n * Takes an argument and returns its human readable equivalent for help usage.\n *\n * @param {Argument} arg\n * @return {string}\n * @private\n */\n\nfunction humanReadableArgName(arg) {\n  const nameOutput = arg.name() + (arg.variadic === true ? '...' : '');\n\n  return arg.required ? '<' + nameOutput + '>' : '[' + nameOutput + ']';\n}\n\nexports.Argument = Argument;\nexports.humanReadableArgName = humanReadableArgName;\n","const { humanReadableArgName } = require('./argument.js');\n\n/**\n * TypeScript import types for JSDoc, used by Visual Studio Code IntelliSense and `npm run typescript-checkJS`\n * https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html#import-types\n * @typedef { import(\"./argument.js\").Argument } Argument\n * @typedef { import(\"./command.js\").Command } Command\n * @typedef { import(\"./option.js\").Option } Option\n */\n\n// Although this is a class, methods are static in style to allow override using subclass or just functions.\nclass Help {\n  constructor() {\n    this.helpWidth = undefined;\n    this.sortSubcommands = false;\n    this.sortOptions = false;\n    this.showGlobalOptions = false;\n  }\n\n  /**\n   * Get an array of the visible subcommands. Includes a placeholder for the implicit help command, if there is one.\n   *\n   * @param {Command} cmd\n   * @returns {Command[]}\n   */\n\n  visibleCommands(cmd) {\n    const visibleCommands = cmd.commands.filter((cmd) => !cmd._hidden);\n    const helpCommand = cmd._getHelpCommand();\n    if (helpCommand && !helpCommand._hidden) {\n      visibleCommands.push(helpCommand);\n    }\n    if (this.sortSubcommands) {\n      visibleCommands.sort((a, b) => {\n        // @ts-ignore: because overloaded return type\n        return a.name().localeCompare(b.name());\n      });\n    }\n    return visibleCommands;\n  }\n\n  /**\n   * Compare options for sort.\n   *\n   * @param {Option} a\n   * @param {Option} b\n   * @returns {number}\n   */\n  compareOptions(a, b) {\n    const getSortKey = (option) => {\n      // WYSIWYG for order displayed in help. Short used for comparison if present. No special handling for negated.\n      return option.short\n        ? option.short.replace(/^-/, '')\n        : option.long.replace(/^--/, '');\n    };\n    return getSortKey(a).localeCompare(getSortKey(b));\n  }\n\n  /**\n   * Get an array of the visible options. Includes a placeholder for the implicit help option, if there is one.\n   *\n   * @param {Command} cmd\n   * @returns {Option[]}\n   */\n\n  visibleOptions(cmd) {\n    const visibleOptions = cmd.options.filter((option) => !option.hidden);\n    // Built-in help option.\n    const helpOption = cmd._getHelpOption();\n    if (helpOption && !helpOption.hidden) {\n      // Automatically hide conflicting flags. Bit dubious but a historical behaviour that is convenient for single-command programs.\n      const removeShort = helpOption.short && cmd._findOption(helpOption.short);\n      const removeLong = helpOption.long && cmd._findOption(helpOption.long);\n      if (!removeShort && !removeLong) {\n        visibleOptions.push(helpOption); // no changes needed\n      } else if (helpOption.long && !removeLong) {\n        visibleOptions.push(\n          cmd.createOption(helpOption.long, helpOption.description),\n        );\n      } else if (helpOption.short && !removeShort) {\n        visibleOptions.push(\n          cmd.createOption(helpOption.short, helpOption.description),\n        );\n      }\n    }\n    if (this.sortOptions) {\n      visibleOptions.sort(this.compareOptions);\n    }\n    return visibleOptions;\n  }\n\n  /**\n   * Get an array of the visible global options. (Not including help.)\n   *\n   * @param {Command} cmd\n   * @returns {Option[]}\n   */\n\n  visibleGlobalOptions(cmd) {\n    if (!this.showGlobalOptions) return [];\n\n    const globalOptions = [];\n    for (\n      let ancestorCmd = cmd.parent;\n      ancestorCmd;\n      ancestorCmd = ancestorCmd.parent\n    ) {\n      const visibleOptions = ancestorCmd.options.filter(\n        (option) => !option.hidden,\n      );\n      globalOptions.push(...visibleOptions);\n    }\n    if (this.sortOptions) {\n      globalOptions.sort(this.compareOptions);\n    }\n    return globalOptions;\n  }\n\n  /**\n   * Get an array of the arguments if any have a description.\n   *\n   * @param {Command} cmd\n   * @returns {Argument[]}\n   */\n\n  visibleArguments(cmd) {\n    // Side effect! Apply the legacy descriptions before the arguments are displayed.\n    if (cmd._argsDescription) {\n      cmd.registeredArguments.forEach((argument) => {\n        argument.description =\n          argument.description || cmd._argsDescription[argument.name()] || '';\n      });\n    }\n\n    // If there are any arguments with a description then return all the arguments.\n    if (cmd.registeredArguments.find((argument) => argument.description)) {\n      return cmd.registeredArguments;\n    }\n    return [];\n  }\n\n  /**\n   * Get the command term to show in the list of subcommands.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  subcommandTerm(cmd) {\n    // Legacy. Ignores custom usage string, and nested commands.\n    const args = cmd.registeredArguments\n      .map((arg) => humanReadableArgName(arg))\n      .join(' ');\n    return (\n      cmd._name +\n      (cmd._aliases[0] ? '|' + cmd._aliases[0] : '') +\n      (cmd.options.length ? ' [options]' : '') + // simplistic check for non-help option\n      (args ? ' ' + args : '')\n    );\n  }\n\n  /**\n   * Get the option term to show in the list of options.\n   *\n   * @param {Option} option\n   * @returns {string}\n   */\n\n  optionTerm(option) {\n    return option.flags;\n  }\n\n  /**\n   * Get the argument term to show in the list of arguments.\n   *\n   * @param {Argument} argument\n   * @returns {string}\n   */\n\n  argumentTerm(argument) {\n    return argument.name();\n  }\n\n  /**\n   * Get the longest command term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestSubcommandTermLength(cmd, helper) {\n    return helper.visibleCommands(cmd).reduce((max, command) => {\n      return Math.max(max, helper.subcommandTerm(command).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest option term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestOptionTermLength(cmd, helper) {\n    return helper.visibleOptions(cmd).reduce((max, option) => {\n      return Math.max(max, helper.optionTerm(option).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest global option term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestGlobalOptionTermLength(cmd, helper) {\n    return helper.visibleGlobalOptions(cmd).reduce((max, option) => {\n      return Math.max(max, helper.optionTerm(option).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest argument term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestArgumentTermLength(cmd, helper) {\n    return helper.visibleArguments(cmd).reduce((max, argument) => {\n      return Math.max(max, helper.argumentTerm(argument).length);\n    }, 0);\n  }\n\n  /**\n   * Get the command usage to be displayed at the top of the built-in help.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  commandUsage(cmd) {\n    // Usage\n    let cmdName = cmd._name;\n    if (cmd._aliases[0]) {\n      cmdName = cmdName + '|' + cmd._aliases[0];\n    }\n    let ancestorCmdNames = '';\n    for (\n      let ancestorCmd = cmd.parent;\n      ancestorCmd;\n      ancestorCmd = ancestorCmd.parent\n    ) {\n      ancestorCmdNames = ancestorCmd.name() + ' ' + ancestorCmdNames;\n    }\n    return ancestorCmdNames + cmdName + ' ' + cmd.usage();\n  }\n\n  /**\n   * Get the description for the command.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  commandDescription(cmd) {\n    // @ts-ignore: because overloaded return type\n    return cmd.description();\n  }\n\n  /**\n   * Get the subcommand summary to show in the list of subcommands.\n   * (Fallback to description for backwards compatibility.)\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  subcommandDescription(cmd) {\n    // @ts-ignore: because overloaded return type\n    return cmd.summary() || cmd.description();\n  }\n\n  /**\n   * Get the option description to show in the list of options.\n   *\n   * @param {Option} option\n   * @return {string}\n   */\n\n  optionDescription(option) {\n    const extraInfo = [];\n\n    if (option.argChoices) {\n      extraInfo.push(\n        // use stringify to match the display of the default value\n        `choices: ${option.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`,\n      );\n    }\n    if (option.defaultValue !== undefined) {\n      // default for boolean and negated more for programmer than end user,\n      // but show true/false for boolean option as may be for hand-rolled env or config processing.\n      const showDefault =\n        option.required ||\n        option.optional ||\n        (option.isBoolean() && typeof option.defaultValue === 'boolean');\n      if (showDefault) {\n        extraInfo.push(\n          `default: ${option.defaultValueDescription || JSON.stringify(option.defaultValue)}`,\n        );\n      }\n    }\n    // preset for boolean and negated are more for programmer than end user\n    if (option.presetArg !== undefined && option.optional) {\n      extraInfo.push(`preset: ${JSON.stringify(option.presetArg)}`);\n    }\n    if (option.envVar !== undefined) {\n      extraInfo.push(`env: ${option.envVar}`);\n    }\n    if (extraInfo.length > 0) {\n      return `${option.description} (${extraInfo.join(', ')})`;\n    }\n\n    return option.description;\n  }\n\n  /**\n   * Get the argument description to show in the list of arguments.\n   *\n   * @param {Argument} argument\n   * @return {string}\n   */\n\n  argumentDescription(argument) {\n    const extraInfo = [];\n    if (argument.argChoices) {\n      extraInfo.push(\n        // use stringify to match the display of the default value\n        `choices: ${argument.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`,\n      );\n    }\n    if (argument.defaultValue !== undefined) {\n      extraInfo.push(\n        `default: ${argument.defaultValueDescription || JSON.stringify(argument.defaultValue)}`,\n      );\n    }\n    if (extraInfo.length > 0) {\n      const extraDescripton = `(${extraInfo.join(', ')})`;\n      if (argument.description) {\n        return `${argument.description} ${extraDescripton}`;\n      }\n      return extraDescripton;\n    }\n    return argument.description;\n  }\n\n  /**\n   * Generate the built-in help text.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {string}\n   */\n\n  formatHelp(cmd, helper) {\n    const termWidth = helper.padWidth(cmd, helper);\n    const helpWidth = helper.helpWidth || 80;\n    const itemIndentWidth = 2;\n    const itemSeparatorWidth = 2; // between term and description\n    function formatItem(term, description) {\n      if (description) {\n        const fullText = `${term.padEnd(termWidth + itemSeparatorWidth)}${description}`;\n        return helper.wrap(\n          fullText,\n          helpWidth - itemIndentWidth,\n          termWidth + itemSeparatorWidth,\n        );\n      }\n      return term;\n    }\n    function formatList(textArray) {\n      return textArray.join('\\n').replace(/^/gm, ' '.repeat(itemIndentWidth));\n    }\n\n    // Usage\n    let output = [`Usage: ${helper.commandUsage(cmd)}`, ''];\n\n    // Description\n    const commandDescription = helper.commandDescription(cmd);\n    if (commandDescription.length > 0) {\n      output = output.concat([\n        helper.wrap(commandDescription, helpWidth, 0),\n        '',\n      ]);\n    }\n\n    // Arguments\n    const argumentList = helper.visibleArguments(cmd).map((argument) => {\n      return formatItem(\n        helper.argumentTerm(argument),\n        helper.argumentDescription(argument),\n      );\n    });\n    if (argumentList.length > 0) {\n      output = output.concat(['Arguments:', formatList(argumentList), '']);\n    }\n\n    // Options\n    const optionList = helper.visibleOptions(cmd).map((option) => {\n      return formatItem(\n        helper.optionTerm(option),\n        helper.optionDescription(option),\n      );\n    });\n    if (optionList.length > 0) {\n      output = output.concat(['Options:', formatList(optionList), '']);\n    }\n\n    if (this.showGlobalOptions) {\n      const globalOptionList = helper\n        .visibleGlobalOptions(cmd)\n        .map((option) => {\n          return formatItem(\n            helper.optionTerm(option),\n            helper.optionDescription(option),\n          );\n        });\n      if (globalOptionList.length > 0) {\n        output = output.concat([\n          'Global Options:',\n          formatList(globalOptionList),\n          '',\n        ]);\n      }\n    }\n\n    // Commands\n    const commandList = helper.visibleCommands(cmd).map((cmd) => {\n      return formatItem(\n        helper.subcommandTerm(cmd),\n        helper.subcommandDescription(cmd),\n      );\n    });\n    if (commandList.length > 0) {\n      output = output.concat(['Commands:', formatList(commandList), '']);\n    }\n\n    return output.join('\\n');\n  }\n\n  /**\n   * Calculate the pad width from the maximum term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  padWidth(cmd, helper) {\n    return Math.max(\n      helper.longestOptionTermLength(cmd, helper),\n      helper.longestGlobalOptionTermLength(cmd, helper),\n      helper.longestSubcommandTermLength(cmd, helper),\n      helper.longestArgumentTermLength(cmd, helper),\n    );\n  }\n\n  /**\n   * Wrap the given string to width characters per line, with lines after the first indented.\n   * Do not wrap if insufficient room for wrapping (minColumnWidth), or string is manually formatted.\n   *\n   * @param {string} str\n   * @param {number} width\n   * @param {number} indent\n   * @param {number} [minColumnWidth=40]\n   * @return {string}\n   *\n   */\n\n  wrap(str, width, indent, minColumnWidth = 40) {\n    // Full \\s characters, minus the linefeeds.\n    const indents =\n      ' \\\\f\\\\t\\\\v\\u00a0\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff';\n    // Detect manually wrapped and indented strings by searching for line break followed by spaces.\n    const manualIndent = new RegExp(`[\\\\n][${indents}]+`);\n    if (str.match(manualIndent)) return str;\n    // Do not wrap if not enough room for a wrapped column of text (as could end up with a word per line).\n    const columnWidth = width - indent;\n    if (columnWidth < minColumnWidth) return str;\n\n    const leadingStr = str.slice(0, indent);\n    const columnText = str.slice(indent).replace('\\r\\n', '\\n');\n    const indentString = ' '.repeat(indent);\n    const zeroWidthSpace = '\\u200B';\n    const breaks = `\\\\s${zeroWidthSpace}`;\n    // Match line end (so empty lines don't collapse),\n    // or as much text as will fit in column, or excess text up to first break.\n    const regex = new RegExp(\n      `\\n|.{1,${columnWidth - 1}}([${breaks}]|$)|[^${breaks}]+?([${breaks}]|$)`,\n      'g',\n    );\n    const lines = columnText.match(regex) || [];\n    return (\n      leadingStr +\n      lines\n        .map((line, i) => {\n          if (line === '\\n') return ''; // preserve empty lines\n          return (i > 0 ? indentString : '') + line.trimEnd();\n        })\n        .join('\\n')\n    );\n  }\n}\n\nexports.Help = Help;\n","const { InvalidArgumentError } = require('./error.js');\n\nclass Option {\n  /**\n   * Initialize a new `Option` with the given `flags` and `description`.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   */\n\n  constructor(flags, description) {\n    this.flags = flags;\n    this.description = description || '';\n\n    this.required = flags.includes('<'); // A value must be supplied when the option is specified.\n    this.optional = flags.includes('['); // A value is optional when the option is specified.\n    // variadic test ignores <value,...> et al which might be used to describe custom splitting of single argument\n    this.variadic = /\\w\\.\\.\\.[>\\]]$/.test(flags); // The option can take multiple values.\n    this.mandatory = false; // The option must have a value after parsing, which usually means it must be specified on command line.\n    const optionFlags = splitOptionFlags(flags);\n    this.short = optionFlags.shortFlag;\n    this.long = optionFlags.longFlag;\n    this.negate = false;\n    if (this.long) {\n      this.negate = this.long.startsWith('--no-');\n    }\n    this.defaultValue = undefined;\n    this.defaultValueDescription = undefined;\n    this.presetArg = undefined;\n    this.envVar = undefined;\n    this.parseArg = undefined;\n    this.hidden = false;\n    this.argChoices = undefined;\n    this.conflictsWith = [];\n    this.implied = undefined;\n  }\n\n  /**\n   * Set the default value, and optionally supply the description to be displayed in the help.\n   *\n   * @param {*} value\n   * @param {string} [description]\n   * @return {Option}\n   */\n\n  default(value, description) {\n    this.defaultValue = value;\n    this.defaultValueDescription = description;\n    return this;\n  }\n\n  /**\n   * Preset to use when option used without option-argument, especially optional but also boolean and negated.\n   * The custom processing (parseArg) is called.\n   *\n   * @example\n   * new Option('--color').default('GREYSCALE').preset('RGB');\n   * new Option('--donate [amount]').preset('20').argParser(parseFloat);\n   *\n   * @param {*} arg\n   * @return {Option}\n   */\n\n  preset(arg) {\n    this.presetArg = arg;\n    return this;\n  }\n\n  /**\n   * Add option name(s) that conflict with this option.\n   * An error will be displayed if conflicting options are found during parsing.\n   *\n   * @example\n   * new Option('--rgb').conflicts('cmyk');\n   * new Option('--js').conflicts(['ts', 'jsx']);\n   *\n   * @param {(string | string[])} names\n   * @return {Option}\n   */\n\n  conflicts(names) {\n    this.conflictsWith = this.conflictsWith.concat(names);\n    return this;\n  }\n\n  /**\n   * Specify implied option values for when this option is set and the implied options are not.\n   *\n   * The custom processing (parseArg) is not called on the implied values.\n   *\n   * @example\n   * program\n   *   .addOption(new Option('--log', 'write logging information to file'))\n   *   .addOption(new Option('--trace', 'log extra details').implies({ log: 'trace.txt' }));\n   *\n   * @param {object} impliedOptionValues\n   * @return {Option}\n   */\n  implies(impliedOptionValues) {\n    let newImplied = impliedOptionValues;\n    if (typeof impliedOptionValues === 'string') {\n      // string is not documented, but easy mistake and we can do what user probably intended.\n      newImplied = { [impliedOptionValues]: true };\n    }\n    this.implied = Object.assign(this.implied || {}, newImplied);\n    return this;\n  }\n\n  /**\n   * Set environment variable to check for option value.\n   *\n   * An environment variable is only used if when processed the current option value is\n   * undefined, or the source of the current value is 'default' or 'config' or 'env'.\n   *\n   * @param {string} name\n   * @return {Option}\n   */\n\n  env(name) {\n    this.envVar = name;\n    return this;\n  }\n\n  /**\n   * Set the custom handler for processing CLI option arguments into option values.\n   *\n   * @param {Function} [fn]\n   * @return {Option}\n   */\n\n  argParser(fn) {\n    this.parseArg = fn;\n    return this;\n  }\n\n  /**\n   * Whether the option is mandatory and must have a value after parsing.\n   *\n   * @param {boolean} [mandatory=true]\n   * @return {Option}\n   */\n\n  makeOptionMandatory(mandatory = true) {\n    this.mandatory = !!mandatory;\n    return this;\n  }\n\n  /**\n   * Hide option in help.\n   *\n   * @param {boolean} [hide=true]\n   * @return {Option}\n   */\n\n  hideHelp(hide = true) {\n    this.hidden = !!hide;\n    return this;\n  }\n\n  /**\n   * @package\n   */\n\n  _concatValue(value, previous) {\n    if (previous === this.defaultValue || !Array.isArray(previous)) {\n      return [value];\n    }\n\n    return previous.concat(value);\n  }\n\n  /**\n   * Only allow option value to be one of choices.\n   *\n   * @param {string[]} values\n   * @return {Option}\n   */\n\n  choices(values) {\n    this.argChoices = values.slice();\n    this.parseArg = (arg, previous) => {\n      if (!this.argChoices.includes(arg)) {\n        throw new InvalidArgumentError(\n          `Allowed choices are ${this.argChoices.join(', ')}.`,\n        );\n      }\n      if (this.variadic) {\n        return this._concatValue(arg, previous);\n      }\n      return arg;\n    };\n    return this;\n  }\n\n  /**\n   * Return option name.\n   *\n   * @return {string}\n   */\n\n  name() {\n    if (this.long) {\n      return this.long.replace(/^--/, '');\n    }\n    return this.short.replace(/^-/, '');\n  }\n\n  /**\n   * Return option name, in a camelcase format that can be used\n   * as a object attribute key.\n   *\n   * @return {string}\n   */\n\n  attributeName() {\n    return camelcase(this.name().replace(/^no-/, ''));\n  }\n\n  /**\n   * Check if `arg` matches the short or long flag.\n   *\n   * @param {string} arg\n   * @return {boolean}\n   * @package\n   */\n\n  is(arg) {\n    return this.short === arg || this.long === arg;\n  }\n\n  /**\n   * Return whether a boolean option.\n   *\n   * Options are one of boolean, negated, required argument, or optional argument.\n   *\n   * @return {boolean}\n   * @package\n   */\n\n  isBoolean() {\n    return !this.required && !this.optional && !this.negate;\n  }\n}\n\n/**\n * This class is to make it easier to work with dual options, without changing the existing\n * implementation. We support separate dual options for separate positive and negative options,\n * like `--build` and `--no-build`, which share a single option value. This works nicely for some\n * use cases, but is tricky for others where we want separate behaviours despite\n * the single shared option value.\n */\nclass DualOptions {\n  /**\n   * @param {Option[]} options\n   */\n  constructor(options) {\n    this.positiveOptions = new Map();\n    this.negativeOptions = new Map();\n    this.dualOptions = new Set();\n    options.forEach((option) => {\n      if (option.negate) {\n        this.negativeOptions.set(option.attributeName(), option);\n      } else {\n        this.positiveOptions.set(option.attributeName(), option);\n      }\n    });\n    this.negativeOptions.forEach((value, key) => {\n      if (this.positiveOptions.has(key)) {\n        this.dualOptions.add(key);\n      }\n    });\n  }\n\n  /**\n   * Did the value come from the option, and not from possible matching dual option?\n   *\n   * @param {*} value\n   * @param {Option} option\n   * @returns {boolean}\n   */\n  valueFromOption(value, option) {\n    const optionKey = option.attributeName();\n    if (!this.dualOptions.has(optionKey)) return true;\n\n    // Use the value to deduce if (probably) came from the option.\n    const preset = this.negativeOptions.get(optionKey).presetArg;\n    const negativeValue = preset !== undefined ? preset : false;\n    return option.negate === (negativeValue === value);\n  }\n}\n\n/**\n * Convert string from kebab-case to camelCase.\n *\n * @param {string} str\n * @return {string}\n * @private\n */\n\nfunction camelcase(str) {\n  return str.split('-').reduce((str, word) => {\n    return str + word[0].toUpperCase() + word.slice(1);\n  });\n}\n\n/**\n * Split the short and long flag out of something like '-m,--mixed <value>'\n *\n * @private\n */\n\nfunction splitOptionFlags(flags) {\n  let shortFlag;\n  let longFlag;\n  // Use original very loose parsing to maintain backwards compatibility for now,\n  // which allowed for example unintended `-sw, --short-word` [sic].\n  const flagParts = flags.split(/[ |,]+/);\n  if (flagParts.length > 1 && !/^[[<]/.test(flagParts[1]))\n    shortFlag = flagParts.shift();\n  longFlag = flagParts.shift();\n  // Add support for lone short flag without significantly changing parsing!\n  if (!shortFlag && /^-[^-]$/.test(longFlag)) {\n    shortFlag = longFlag;\n    longFlag = undefined;\n  }\n  return { shortFlag, longFlag };\n}\n\nexports.Option = Option;\nexports.DualOptions = DualOptions;\n","const maxDistance = 3;\n\nfunction editDistance(a, b) {\n  // https://en.wikipedia.org/wiki/Damerau–Levenshtein_distance\n  // Calculating optimal string alignment distance, no substring is edited more than once.\n  // (Simple implementation.)\n\n  // Quick early exit, return worst case.\n  if (Math.abs(a.length - b.length) > maxDistance)\n    return Math.max(a.length, b.length);\n\n  // distance between prefix substrings of a and b\n  const d = [];\n\n  // pure deletions turn a into empty string\n  for (let i = 0; i <= a.length; i++) {\n    d[i] = [i];\n  }\n  // pure insertions turn empty string into b\n  for (let j = 0; j <= b.length; j++) {\n    d[0][j] = j;\n  }\n\n  // fill matrix\n  for (let j = 1; j <= b.length; j++) {\n    for (let i = 1; i <= a.length; i++) {\n      let cost = 1;\n      if (a[i - 1] === b[j - 1]) {\n        cost = 0;\n      } else {\n        cost = 1;\n      }\n      d[i][j] = Math.min(\n        d[i - 1][j] + 1, // deletion\n        d[i][j - 1] + 1, // insertion\n        d[i - 1][j - 1] + cost, // substitution\n      );\n      // transposition\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + 1);\n      }\n    }\n  }\n\n  return d[a.length][b.length];\n}\n\n/**\n * Find close matches, restricted to same number of edits.\n *\n * @param {string} word\n * @param {string[]} candidates\n * @returns {string}\n */\n\nfunction suggestSimilar(word, candidates) {\n  if (!candidates || candidates.length === 0) return '';\n  // remove possible duplicates\n  candidates = Array.from(new Set(candidates));\n\n  const searchingOptions = word.startsWith('--');\n  if (searchingOptions) {\n    word = word.slice(2);\n    candidates = candidates.map((candidate) => candidate.slice(2));\n  }\n\n  let similar = [];\n  let bestDistance = maxDistance;\n  const minSimilarity = 0.4;\n  candidates.forEach((candidate) => {\n    if (candidate.length <= 1) return; // no one character guesses\n\n    const distance = editDistance(word, candidate);\n    const length = Math.max(word.length, candidate.length);\n    const similarity = (length - distance) / length;\n    if (similarity > minSimilarity) {\n      if (distance < bestDistance) {\n        // better edit distance, throw away previous worse matches\n        bestDistance = distance;\n        similar = [candidate];\n      } else if (distance === bestDistance) {\n        similar.push(candidate);\n      }\n    }\n  });\n\n  similar.sort((a, b) => a.localeCompare(b));\n  if (searchingOptions) {\n    similar = similar.map((candidate) => `--${candidate}`);\n  }\n\n  if (similar.length > 1) {\n    return `\\n(Did you mean one of ${similar.join(', ')}?)`;\n  }\n  if (similar.length === 1) {\n    return `\\n(Did you mean ${similar[0]}?)`;\n  }\n  return '';\n}\n\nexports.suggestSimilar = suggestSimilar;\n","const { Argument } = require('./lib/argument.js');\nconst { Command } = require('./lib/command.js');\nconst { CommanderError, InvalidArgumentError } = require('./lib/error.js');\nconst { Help } = require('./lib/help.js');\nconst { Option } = require('./lib/option.js');\n\nexports.program = new Command();\n\nexports.createCommand = (name) => new Command(name);\nexports.createOption = (flags, description) => new Option(flags, description);\nexports.createArgument = (name, description) => new Argument(name, description);\n\n/**\n * Expose classes\n */\n\nexports.Command = Command;\nexports.Option = Option;\nexports.Argument = Argument;\nexports.Help = Help;\n\nexports.CommanderError = CommanderError;\nexports.InvalidArgumentError = InvalidArgumentError;\nexports.InvalidOptionArgumentError = InvalidArgumentError; // Deprecated\n","const EventEmitter = require('node:events').EventEmitter;\nconst childProcess = require('node:child_process');\nconst path = require('node:path');\nconst fs = require('node:fs');\nconst process = require('node:process');\n\nconst { Argument, humanReadableArgName } = require('./argument.js');\nconst { CommanderError } = require('./error.js');\nconst { Help } = require('./help.js');\nconst { Option, DualOptions } = require('./option.js');\nconst { suggestSimilar } = require('./suggestSimilar');\n\nclass Command extends EventEmitter {\n  /**\n   * Initialize a new `Command`.\n   *\n   * @param {string} [name]\n   */\n\n  constructor(name) {\n    super();\n    /** @type {Command[]} */\n    this.commands = [];\n    /** @type {Option[]} */\n    this.options = [];\n    this.parent = null;\n    this._allowUnknownOption = false;\n    this._allowExcessArguments = true;\n    /** @type {Argument[]} */\n    this.registeredArguments = [];\n    this._args = this.registeredArguments; // deprecated old name\n    /** @type {string[]} */\n    this.args = []; // cli args with options removed\n    this.rawArgs = [];\n    this.processedArgs = []; // like .args but after custom processing and collecting variadic\n    this._scriptPath = null;\n    this._name = name || '';\n    this._optionValues = {};\n    this._optionValueSources = {}; // default, env, cli etc\n    this._storeOptionsAsProperties = false;\n    this._actionHandler = null;\n    this._executableHandler = false;\n    this._executableFile = null; // custom name for executable\n    this._executableDir = null; // custom search directory for subcommands\n    this._defaultCommandName = null;\n    this._exitCallback = null;\n    this._aliases = [];\n    this._combineFlagAndOptionalValue = true;\n    this._description = '';\n    this._summary = '';\n    this._argsDescription = undefined; // legacy\n    this._enablePositionalOptions = false;\n    this._passThroughOptions = false;\n    this._lifeCycleHooks = {}; // a hash of arrays\n    /** @type {(boolean | string)} */\n    this._showHelpAfterError = false;\n    this._showSuggestionAfterError = true;\n\n    // see .configureOutput() for docs\n    this._outputConfiguration = {\n      writeOut: (str) => process.stdout.write(str),\n      writeErr: (str) => process.stderr.write(str),\n      getOutHelpWidth: () =>\n        process.stdout.isTTY ? process.stdout.columns : undefined,\n      getErrHelpWidth: () =>\n        process.stderr.isTTY ? process.stderr.columns : undefined,\n      outputError: (str, write) => write(str),\n    };\n\n    this._hidden = false;\n    /** @type {(Option | null | undefined)} */\n    this._helpOption = undefined; // Lazy created on demand. May be null if help option is disabled.\n    this._addImplicitHelpCommand = undefined; // undecided whether true or false yet, not inherited\n    /** @type {Command} */\n    this._helpCommand = undefined; // lazy initialised, inherited\n    this._helpConfiguration = {};\n  }\n\n  /**\n   * Copy settings that are useful to have in common across root command and subcommands.\n   *\n   * (Used internally when adding a command using `.command()` so subcommands inherit parent settings.)\n   *\n   * @param {Command} sourceCommand\n   * @return {Command} `this` command for chaining\n   */\n  copyInheritedSettings(sourceCommand) {\n    this._outputConfiguration = sourceCommand._outputConfiguration;\n    this._helpOption = sourceCommand._helpOption;\n    this._helpCommand = sourceCommand._helpCommand;\n    this._helpConfiguration = sourceCommand._helpConfiguration;\n    this._exitCallback = sourceCommand._exitCallback;\n    this._storeOptionsAsProperties = sourceCommand._storeOptionsAsProperties;\n    this._combineFlagAndOptionalValue =\n      sourceCommand._combineFlagAndOptionalValue;\n    this._allowExcessArguments = sourceCommand._allowExcessArguments;\n    this._enablePositionalOptions = sourceCommand._enablePositionalOptions;\n    this._showHelpAfterError = sourceCommand._showHelpAfterError;\n    this._showSuggestionAfterError = sourceCommand._showSuggestionAfterError;\n\n    return this;\n  }\n\n  /**\n   * @returns {Command[]}\n   * @private\n   */\n\n  _getCommandAndAncestors() {\n    const result = [];\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    for (let command = this; command; command = command.parent) {\n      result.push(command);\n    }\n    return result;\n  }\n\n  /**\n   * Define a command.\n   *\n   * There are two styles of command: pay attention to where to put the description.\n   *\n   * @example\n   * // Command implemented using action handler (description is supplied separately to `.command`)\n   * program\n   *   .command('clone <source> [destination]')\n   *   .description('clone a repository into a newly created directory')\n   *   .action((source, destination) => {\n   *     console.log('clone command called');\n   *   });\n   *\n   * // Command implemented using separate executable file (description is second parameter to `.command`)\n   * program\n   *   .command('start <service>', 'start named service')\n   *   .command('stop [service]', 'stop named service, or all if no name supplied');\n   *\n   * @param {string} nameAndArgs - command name and arguments, args are `<required>` or `[optional]` and last may also be `variadic...`\n   * @param {(object | string)} [actionOptsOrExecDesc] - configuration options (for action), or description (for executable)\n   * @param {object} [execOpts] - configuration options (for executable)\n   * @return {Command} returns new command for action handler, or `this` for executable command\n   */\n\n  command(nameAndArgs, actionOptsOrExecDesc, execOpts) {\n    let desc = actionOptsOrExecDesc;\n    let opts = execOpts;\n    if (typeof desc === 'object' && desc !== null) {\n      opts = desc;\n      desc = null;\n    }\n    opts = opts || {};\n    const [, name, args] = nameAndArgs.match(/([^ ]+) *(.*)/);\n\n    const cmd = this.createCommand(name);\n    if (desc) {\n      cmd.description(desc);\n      cmd._executableHandler = true;\n    }\n    if (opts.isDefault) this._defaultCommandName = cmd._name;\n    cmd._hidden = !!(opts.noHelp || opts.hidden); // noHelp is deprecated old name for hidden\n    cmd._executableFile = opts.executableFile || null; // Custom name for executable file, set missing to null to match constructor\n    if (args) cmd.arguments(args);\n    this._registerCommand(cmd);\n    cmd.parent = this;\n    cmd.copyInheritedSettings(this);\n\n    if (desc) return this;\n    return cmd;\n  }\n\n  /**\n   * Factory routine to create a new unattached command.\n   *\n   * See .command() for creating an attached subcommand, which uses this routine to\n   * create the command. You can override createCommand to customise subcommands.\n   *\n   * @param {string} [name]\n   * @return {Command} new command\n   */\n\n  createCommand(name) {\n    return new Command(name);\n  }\n\n  /**\n   * You can customise the help with a subclass of Help by overriding createHelp,\n   * or by overriding Help properties using configureHelp().\n   *\n   * @return {Help}\n   */\n\n  createHelp() {\n    return Object.assign(new Help(), this.configureHelp());\n  }\n\n  /**\n   * You can customise the help by overriding Help properties using configureHelp(),\n   * or with a subclass of Help by overriding createHelp().\n   *\n   * @param {object} [configuration] - configuration options\n   * @return {(Command | object)} `this` command for chaining, or stored configuration\n   */\n\n  configureHelp(configuration) {\n    if (configuration === undefined) return this._helpConfiguration;\n\n    this._helpConfiguration = configuration;\n    return this;\n  }\n\n  /**\n   * The default output goes to stdout and stderr. You can customise this for special\n   * applications. You can also customise the display of errors by overriding outputError.\n   *\n   * The configuration properties are all functions:\n   *\n   *     // functions to change where being written, stdout and stderr\n   *     writeOut(str)\n   *     writeErr(str)\n   *     // matching functions to specify width for wrapping help\n   *     getOutHelpWidth()\n   *     getErrHelpWidth()\n   *     // functions based on what is being written out\n   *     outputError(str, write) // used for displaying errors, and not used for displaying help\n   *\n   * @param {object} [configuration] - configuration options\n   * @return {(Command | object)} `this` command for chaining, or stored configuration\n   */\n\n  configureOutput(configuration) {\n    if (configuration === undefined) return this._outputConfiguration;\n\n    Object.assign(this._outputConfiguration, configuration);\n    return this;\n  }\n\n  /**\n   * Display the help or a custom message after an error occurs.\n   *\n   * @param {(boolean|string)} [displayHelp]\n   * @return {Command} `this` command for chaining\n   */\n  showHelpAfterError(displayHelp = true) {\n    if (typeof displayHelp !== 'string') displayHelp = !!displayHelp;\n    this._showHelpAfterError = displayHelp;\n    return this;\n  }\n\n  /**\n   * Display suggestion of similar commands for unknown commands, or options for unknown options.\n   *\n   * @param {boolean} [displaySuggestion]\n   * @return {Command} `this` command for chaining\n   */\n  showSuggestionAfterError(displaySuggestion = true) {\n    this._showSuggestionAfterError = !!displaySuggestion;\n    return this;\n  }\n\n  /**\n   * Add a prepared subcommand.\n   *\n   * See .command() for creating an attached subcommand which inherits settings from its parent.\n   *\n   * @param {Command} cmd - new subcommand\n   * @param {object} [opts] - configuration options\n   * @return {Command} `this` command for chaining\n   */\n\n  addCommand(cmd, opts) {\n    if (!cmd._name) {\n      throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`);\n    }\n\n    opts = opts || {};\n    if (opts.isDefault) this._defaultCommandName = cmd._name;\n    if (opts.noHelp || opts.hidden) cmd._hidden = true; // modifying passed command due to existing implementation\n\n    this._registerCommand(cmd);\n    cmd.parent = this;\n    cmd._checkForBrokenPassThrough();\n\n    return this;\n  }\n\n  /**\n   * Factory routine to create a new unattached argument.\n   *\n   * See .argument() for creating an attached argument, which uses this routine to\n   * create the argument. You can override createArgument to return a custom argument.\n   *\n   * @param {string} name\n   * @param {string} [description]\n   * @return {Argument} new argument\n   */\n\n  createArgument(name, description) {\n    return new Argument(name, description);\n  }\n\n  /**\n   * Define argument syntax for command.\n   *\n   * The default is that the argument is required, and you can explicitly\n   * indicate this with <> around the name. Put [] around the name for an optional argument.\n   *\n   * @example\n   * program.argument('<input-file>');\n   * program.argument('[output-file]');\n   *\n   * @param {string} name\n   * @param {string} [description]\n   * @param {(Function|*)} [fn] - custom argument processing function\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n  argument(name, description, fn, defaultValue) {\n    const argument = this.createArgument(name, description);\n    if (typeof fn === 'function') {\n      argument.default(defaultValue).argParser(fn);\n    } else {\n      argument.default(fn);\n    }\n    this.addArgument(argument);\n    return this;\n  }\n\n  /**\n   * Define argument syntax for command, adding multiple at once (without descriptions).\n   *\n   * See also .argument().\n   *\n   * @example\n   * program.arguments('<cmd> [env]');\n   *\n   * @param {string} names\n   * @return {Command} `this` command for chaining\n   */\n\n  arguments(names) {\n    names\n      .trim()\n      .split(/ +/)\n      .forEach((detail) => {\n        this.argument(detail);\n      });\n    return this;\n  }\n\n  /**\n   * Define argument syntax for command, adding a prepared argument.\n   *\n   * @param {Argument} argument\n   * @return {Command} `this` command for chaining\n   */\n  addArgument(argument) {\n    const previousArgument = this.registeredArguments.slice(-1)[0];\n    if (previousArgument && previousArgument.variadic) {\n      throw new Error(\n        `only the last argument can be variadic '${previousArgument.name()}'`,\n      );\n    }\n    if (\n      argument.required &&\n      argument.defaultValue !== undefined &&\n      argument.parseArg === undefined\n    ) {\n      throw new Error(\n        `a default value for a required argument is never used: '${argument.name()}'`,\n      );\n    }\n    this.registeredArguments.push(argument);\n    return this;\n  }\n\n  /**\n   * Customise or override default help command. By default a help command is automatically added if your command has subcommands.\n   *\n   * @example\n   *    program.helpCommand('help [cmd]');\n   *    program.helpCommand('help [cmd]', 'show help');\n   *    program.helpCommand(false); // suppress default help command\n   *    program.helpCommand(true); // add help command even if no subcommands\n   *\n   * @param {string|boolean} enableOrNameAndArgs - enable with custom name and/or arguments, or boolean to override whether added\n   * @param {string} [description] - custom description\n   * @return {Command} `this` command for chaining\n   */\n\n  helpCommand(enableOrNameAndArgs, description) {\n    if (typeof enableOrNameAndArgs === 'boolean') {\n      this._addImplicitHelpCommand = enableOrNameAndArgs;\n      return this;\n    }\n\n    enableOrNameAndArgs = enableOrNameAndArgs ?? 'help [command]';\n    const [, helpName, helpArgs] = enableOrNameAndArgs.match(/([^ ]+) *(.*)/);\n    const helpDescription = description ?? 'display help for command';\n\n    const helpCommand = this.createCommand(helpName);\n    helpCommand.helpOption(false);\n    if (helpArgs) helpCommand.arguments(helpArgs);\n    if (helpDescription) helpCommand.description(helpDescription);\n\n    this._addImplicitHelpCommand = true;\n    this._helpCommand = helpCommand;\n\n    return this;\n  }\n\n  /**\n   * Add prepared custom help command.\n   *\n   * @param {(Command|string|boolean)} helpCommand - custom help command, or deprecated enableOrNameAndArgs as for `.helpCommand()`\n   * @param {string} [deprecatedDescription] - deprecated custom description used with custom name only\n   * @return {Command} `this` command for chaining\n   */\n  addHelpCommand(helpCommand, deprecatedDescription) {\n    // If not passed an object, call through to helpCommand for backwards compatibility,\n    // as addHelpCommand was originally used like helpCommand is now.\n    if (typeof helpCommand !== 'object') {\n      this.helpCommand(helpCommand, deprecatedDescription);\n      return this;\n    }\n\n    this._addImplicitHelpCommand = true;\n    this._helpCommand = helpCommand;\n    return this;\n  }\n\n  /**\n   * Lazy create help command.\n   *\n   * @return {(Command|null)}\n   * @package\n   */\n  _getHelpCommand() {\n    const hasImplicitHelpCommand =\n      this._addImplicitHelpCommand ??\n      (this.commands.length &&\n        !this._actionHandler &&\n        !this._findCommand('help'));\n\n    if (hasImplicitHelpCommand) {\n      if (this._helpCommand === undefined) {\n        this.helpCommand(undefined, undefined); // use default name and description\n      }\n      return this._helpCommand;\n    }\n    return null;\n  }\n\n  /**\n   * Add hook for life cycle event.\n   *\n   * @param {string} event\n   * @param {Function} listener\n   * @return {Command} `this` command for chaining\n   */\n\n  hook(event, listener) {\n    const allowedValues = ['preSubcommand', 'preAction', 'postAction'];\n    if (!allowedValues.includes(event)) {\n      throw new Error(`Unexpected value for event passed to hook : '${event}'.\nExpecting one of '${allowedValues.join(\"', '\")}'`);\n    }\n    if (this._lifeCycleHooks[event]) {\n      this._lifeCycleHooks[event].push(listener);\n    } else {\n      this._lifeCycleHooks[event] = [listener];\n    }\n    return this;\n  }\n\n  /**\n   * Register callback to use as replacement for calling process.exit.\n   *\n   * @param {Function} [fn] optional callback which will be passed a CommanderError, defaults to throwing\n   * @return {Command} `this` command for chaining\n   */\n\n  exitOverride(fn) {\n    if (fn) {\n      this._exitCallback = fn;\n    } else {\n      this._exitCallback = (err) => {\n        if (err.code !== 'commander.executeSubCommandAsync') {\n          throw err;\n        } else {\n          // Async callback from spawn events, not useful to throw.\n        }\n      };\n    }\n    return this;\n  }\n\n  /**\n   * Call process.exit, and _exitCallback if defined.\n   *\n   * @param {number} exitCode exit code for using with process.exit\n   * @param {string} code an id string representing the error\n   * @param {string} message human-readable description of the error\n   * @return never\n   * @private\n   */\n\n  _exit(exitCode, code, message) {\n    if (this._exitCallback) {\n      this._exitCallback(new CommanderError(exitCode, code, message));\n      // Expecting this line is not reached.\n    }\n    process.exit(exitCode);\n  }\n\n  /**\n   * Register callback `fn` for the command.\n   *\n   * @example\n   * program\n   *   .command('serve')\n   *   .description('start service')\n   *   .action(function() {\n   *      // do work here\n   *   });\n   *\n   * @param {Function} fn\n   * @return {Command} `this` command for chaining\n   */\n\n  action(fn) {\n    const listener = (args) => {\n      // The .action callback takes an extra parameter which is the command or options.\n      const expectedArgsCount = this.registeredArguments.length;\n      const actionArgs = args.slice(0, expectedArgsCount);\n      if (this._storeOptionsAsProperties) {\n        actionArgs[expectedArgsCount] = this; // backwards compatible \"options\"\n      } else {\n        actionArgs[expectedArgsCount] = this.opts();\n      }\n      actionArgs.push(this);\n\n      return fn.apply(this, actionArgs);\n    };\n    this._actionHandler = listener;\n    return this;\n  }\n\n  /**\n   * Factory routine to create a new unattached option.\n   *\n   * See .option() for creating an attached option, which uses this routine to\n   * create the option. You can override createOption to return a custom option.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @return {Option} new option\n   */\n\n  createOption(flags, description) {\n    return new Option(flags, description);\n  }\n\n  /**\n   * Wrap parseArgs to catch 'commander.invalidArgument'.\n   *\n   * @param {(Option | Argument)} target\n   * @param {string} value\n   * @param {*} previous\n   * @param {string} invalidArgumentMessage\n   * @private\n   */\n\n  _callParseArg(target, value, previous, invalidArgumentMessage) {\n    try {\n      return target.parseArg(value, previous);\n    } catch (err) {\n      if (err.code === 'commander.invalidArgument') {\n        const message = `${invalidArgumentMessage} ${err.message}`;\n        this.error(message, { exitCode: err.exitCode, code: err.code });\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Check for option flag conflicts.\n   * Register option if no conflicts found, or throw on conflict.\n   *\n   * @param {Option} option\n   * @private\n   */\n\n  _registerOption(option) {\n    const matchingOption =\n      (option.short && this._findOption(option.short)) ||\n      (option.long && this._findOption(option.long));\n    if (matchingOption) {\n      const matchingFlag =\n        option.long && this._findOption(option.long)\n          ? option.long\n          : option.short;\n      throw new Error(`Cannot add option '${option.flags}'${this._name && ` to command '${this._name}'`} due to conflicting flag '${matchingFlag}'\n-  already used by option '${matchingOption.flags}'`);\n    }\n\n    this.options.push(option);\n  }\n\n  /**\n   * Check for command name and alias conflicts with existing commands.\n   * Register command if no conflicts found, or throw on conflict.\n   *\n   * @param {Command} command\n   * @private\n   */\n\n  _registerCommand(command) {\n    const knownBy = (cmd) => {\n      return [cmd.name()].concat(cmd.aliases());\n    };\n\n    const alreadyUsed = knownBy(command).find((name) =>\n      this._findCommand(name),\n    );\n    if (alreadyUsed) {\n      const existingCmd = knownBy(this._findCommand(alreadyUsed)).join('|');\n      const newCmd = knownBy(command).join('|');\n      throw new Error(\n        `cannot add command '${newCmd}' as already have command '${existingCmd}'`,\n      );\n    }\n\n    this.commands.push(command);\n  }\n\n  /**\n   * Add an option.\n   *\n   * @param {Option} option\n   * @return {Command} `this` command for chaining\n   */\n  addOption(option) {\n    this._registerOption(option);\n\n    const oname = option.name();\n    const name = option.attributeName();\n\n    // store default value\n    if (option.negate) {\n      // --no-foo is special and defaults foo to true, unless a --foo option is already defined\n      const positiveLongFlag = option.long.replace(/^--no-/, '--');\n      if (!this._findOption(positiveLongFlag)) {\n        this.setOptionValueWithSource(\n          name,\n          option.defaultValue === undefined ? true : option.defaultValue,\n          'default',\n        );\n      }\n    } else if (option.defaultValue !== undefined) {\n      this.setOptionValueWithSource(name, option.defaultValue, 'default');\n    }\n\n    // handler for cli and env supplied values\n    const handleOptionValue = (val, invalidValueMessage, valueSource) => {\n      // val is null for optional option used without an optional-argument.\n      // val is undefined for boolean and negated option.\n      if (val == null && option.presetArg !== undefined) {\n        val = option.presetArg;\n      }\n\n      // custom processing\n      const oldValue = this.getOptionValue(name);\n      if (val !== null && option.parseArg) {\n        val = this._callParseArg(option, val, oldValue, invalidValueMessage);\n      } else if (val !== null && option.variadic) {\n        val = option._concatValue(val, oldValue);\n      }\n\n      // Fill-in appropriate missing values. Long winded but easy to follow.\n      if (val == null) {\n        if (option.negate) {\n          val = false;\n        } else if (option.isBoolean() || option.optional) {\n          val = true;\n        } else {\n          val = ''; // not normal, parseArg might have failed or be a mock function for testing\n        }\n      }\n      this.setOptionValueWithSource(name, val, valueSource);\n    };\n\n    this.on('option:' + oname, (val) => {\n      const invalidValueMessage = `error: option '${option.flags}' argument '${val}' is invalid.`;\n      handleOptionValue(val, invalidValueMessage, 'cli');\n    });\n\n    if (option.envVar) {\n      this.on('optionEnv:' + oname, (val) => {\n        const invalidValueMessage = `error: option '${option.flags}' value '${val}' from env '${option.envVar}' is invalid.`;\n        handleOptionValue(val, invalidValueMessage, 'env');\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Internal implementation shared by .option() and .requiredOption()\n   *\n   * @return {Command} `this` command for chaining\n   * @private\n   */\n  _optionEx(config, flags, description, fn, defaultValue) {\n    if (typeof flags === 'object' && flags instanceof Option) {\n      throw new Error(\n        'To add an Option object use addOption() instead of option() or requiredOption()',\n      );\n    }\n    const option = this.createOption(flags, description);\n    option.makeOptionMandatory(!!config.mandatory);\n    if (typeof fn === 'function') {\n      option.default(defaultValue).argParser(fn);\n    } else if (fn instanceof RegExp) {\n      // deprecated\n      const regex = fn;\n      fn = (val, def) => {\n        const m = regex.exec(val);\n        return m ? m[0] : def;\n      };\n      option.default(defaultValue).argParser(fn);\n    } else {\n      option.default(fn);\n    }\n\n    return this.addOption(option);\n  }\n\n  /**\n   * Define option with `flags`, `description`, and optional argument parsing function or `defaultValue` or both.\n   *\n   * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space. A required\n   * option-argument is indicated by `<>` and an optional option-argument by `[]`.\n   *\n   * See the README for more details, and see also addOption() and requiredOption().\n   *\n   * @example\n   * program\n   *     .option('-p, --pepper', 'add pepper')\n   *     .option('-p, --pizza-type <TYPE>', 'type of pizza') // required option-argument\n   *     .option('-c, --cheese [CHEESE]', 'add extra cheese', 'mozzarella') // optional option-argument with default\n   *     .option('-t, --tip <VALUE>', 'add tip to purchase cost', parseFloat) // custom parse function\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @param {(Function|*)} [parseArg] - custom option processing function or default value\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n\n  option(flags, description, parseArg, defaultValue) {\n    return this._optionEx({}, flags, description, parseArg, defaultValue);\n  }\n\n  /**\n   * Add a required option which must have a value after parsing. This usually means\n   * the option must be specified on the command line. (Otherwise the same as .option().)\n   *\n   * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @param {(Function|*)} [parseArg] - custom option processing function or default value\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n\n  requiredOption(flags, description, parseArg, defaultValue) {\n    return this._optionEx(\n      { mandatory: true },\n      flags,\n      description,\n      parseArg,\n      defaultValue,\n    );\n  }\n\n  /**\n   * Alter parsing of short flags with optional values.\n   *\n   * @example\n   * // for `.option('-f,--flag [value]'):\n   * program.combineFlagAndOptionalValue(true);  // `-f80` is treated like `--flag=80`, this is the default behaviour\n   * program.combineFlagAndOptionalValue(false) // `-fb` is treated like `-f -b`\n   *\n   * @param {boolean} [combine] - if `true` or omitted, an optional value can be specified directly after the flag.\n   * @return {Command} `this` command for chaining\n   */\n  combineFlagAndOptionalValue(combine = true) {\n    this._combineFlagAndOptionalValue = !!combine;\n    return this;\n  }\n\n  /**\n   * Allow unknown options on the command line.\n   *\n   * @param {boolean} [allowUnknown] - if `true` or omitted, no error will be thrown for unknown options.\n   * @return {Command} `this` command for chaining\n   */\n  allowUnknownOption(allowUnknown = true) {\n    this._allowUnknownOption = !!allowUnknown;\n    return this;\n  }\n\n  /**\n   * Allow excess command-arguments on the command line. Pass false to make excess arguments an error.\n   *\n   * @param {boolean} [allowExcess] - if `true` or omitted, no error will be thrown for excess arguments.\n   * @return {Command} `this` command for chaining\n   */\n  allowExcessArguments(allowExcess = true) {\n    this._allowExcessArguments = !!allowExcess;\n    return this;\n  }\n\n  /**\n   * Enable positional options. Positional means global options are specified before subcommands which lets\n   * subcommands reuse the same option names, and also enables subcommands to turn on passThroughOptions.\n   * The default behaviour is non-positional and global options may appear anywhere on the command line.\n   *\n   * @param {boolean} [positional]\n   * @return {Command} `this` command for chaining\n   */\n  enablePositionalOptions(positional = true) {\n    this._enablePositionalOptions = !!positional;\n    return this;\n  }\n\n  /**\n   * Pass through options that come after command-arguments rather than treat them as command-options,\n   * so actual command-options come before command-arguments. Turning this on for a subcommand requires\n   * positional options to have been enabled on the program (parent commands).\n   * The default behaviour is non-positional and options may appear before or after command-arguments.\n   *\n   * @param {boolean} [passThrough] for unknown options.\n   * @return {Command} `this` command for chaining\n   */\n  passThroughOptions(passThrough = true) {\n    this._passThroughOptions = !!passThrough;\n    this._checkForBrokenPassThrough();\n    return this;\n  }\n\n  /**\n   * @private\n   */\n\n  _checkForBrokenPassThrough() {\n    if (\n      this.parent &&\n      this._passThroughOptions &&\n      !this.parent._enablePositionalOptions\n    ) {\n      throw new Error(\n        `passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`,\n      );\n    }\n  }\n\n  /**\n   * Whether to store option values as properties on command object,\n   * or store separately (specify false). In both cases the option values can be accessed using .opts().\n   *\n   * @param {boolean} [storeAsProperties=true]\n   * @return {Command} `this` command for chaining\n   */\n\n  storeOptionsAsProperties(storeAsProperties = true) {\n    if (this.options.length) {\n      throw new Error('call .storeOptionsAsProperties() before adding options');\n    }\n    if (Object.keys(this._optionValues).length) {\n      throw new Error(\n        'call .storeOptionsAsProperties() before setting option values',\n      );\n    }\n    this._storeOptionsAsProperties = !!storeAsProperties;\n    return this;\n  }\n\n  /**\n   * Retrieve option value.\n   *\n   * @param {string} key\n   * @return {object} value\n   */\n\n  getOptionValue(key) {\n    if (this._storeOptionsAsProperties) {\n      return this[key];\n    }\n    return this._optionValues[key];\n  }\n\n  /**\n   * Store option value.\n   *\n   * @param {string} key\n   * @param {object} value\n   * @return {Command} `this` command for chaining\n   */\n\n  setOptionValue(key, value) {\n    return this.setOptionValueWithSource(key, value, undefined);\n  }\n\n  /**\n   * Store option value and where the value came from.\n   *\n   * @param {string} key\n   * @param {object} value\n   * @param {string} source - expected values are default/config/env/cli/implied\n   * @return {Command} `this` command for chaining\n   */\n\n  setOptionValueWithSource(key, value, source) {\n    if (this._storeOptionsAsProperties) {\n      this[key] = value;\n    } else {\n      this._optionValues[key] = value;\n    }\n    this._optionValueSources[key] = source;\n    return this;\n  }\n\n  /**\n   * Get source of option value.\n   * Expected values are default | config | env | cli | implied\n   *\n   * @param {string} key\n   * @return {string}\n   */\n\n  getOptionValueSource(key) {\n    return this._optionValueSources[key];\n  }\n\n  /**\n   * Get source of option value. See also .optsWithGlobals().\n   * Expected values are default | config | env | cli | implied\n   *\n   * @param {string} key\n   * @return {string}\n   */\n\n  getOptionValueSourceWithGlobals(key) {\n    // global overwrites local, like optsWithGlobals\n    let source;\n    this._getCommandAndAncestors().forEach((cmd) => {\n      if (cmd.getOptionValueSource(key) !== undefined) {\n        source = cmd.getOptionValueSource(key);\n      }\n    });\n    return source;\n  }\n\n  /**\n   * Get user arguments from implied or explicit arguments.\n   * Side-effects: set _scriptPath if args included script. Used for default program name, and subcommand searches.\n   *\n   * @private\n   */\n\n  _prepareUserArgs(argv, parseOptions) {\n    if (argv !== undefined && !Array.isArray(argv)) {\n      throw new Error('first parameter to parse must be array or undefined');\n    }\n    parseOptions = parseOptions || {};\n\n    // auto-detect argument conventions if nothing supplied\n    if (argv === undefined && parseOptions.from === undefined) {\n      if (process.versions?.electron) {\n        parseOptions.from = 'electron';\n      }\n      // check node specific options for scenarios where user CLI args follow executable without scriptname\n      const execArgv = process.execArgv ?? [];\n      if (\n        execArgv.includes('-e') ||\n        execArgv.includes('--eval') ||\n        execArgv.includes('-p') ||\n        execArgv.includes('--print')\n      ) {\n        parseOptions.from = 'eval'; // internal usage, not documented\n      }\n    }\n\n    // default to using process.argv\n    if (argv === undefined) {\n      argv = process.argv;\n    }\n    this.rawArgs = argv.slice();\n\n    // extract the user args and scriptPath\n    let userArgs;\n    switch (parseOptions.from) {\n      case undefined:\n      case 'node':\n        this._scriptPath = argv[1];\n        userArgs = argv.slice(2);\n        break;\n      case 'electron':\n        // @ts-ignore: because defaultApp is an unknown property\n        if (process.defaultApp) {\n          this._scriptPath = argv[1];\n          userArgs = argv.slice(2);\n        } else {\n          userArgs = argv.slice(1);\n        }\n        break;\n      case 'user':\n        userArgs = argv.slice(0);\n        break;\n      case 'eval':\n        userArgs = argv.slice(1);\n        break;\n      default:\n        throw new Error(\n          `unexpected parse option { from: '${parseOptions.from}' }`,\n        );\n    }\n\n    // Find default name for program from arguments.\n    if (!this._name && this._scriptPath)\n      this.nameFromFilename(this._scriptPath);\n    this._name = this._name || 'program';\n\n    return userArgs;\n  }\n\n  /**\n   * Parse `argv`, setting options and invoking commands when defined.\n   *\n   * Use parseAsync instead of parse if any of your action handlers are async.\n   *\n   * Call with no parameters to parse `process.argv`. Detects Electron and special node options like `node --eval`. Easy mode!\n   *\n   * Or call with an array of strings to parse, and optionally where the user arguments start by specifying where the arguments are `from`:\n   * - `'node'`: default, `argv[0]` is the application and `argv[1]` is the script being run, with user arguments after that\n   * - `'electron'`: `argv[0]` is the application and `argv[1]` varies depending on whether the electron application is packaged\n   * - `'user'`: just user arguments\n   *\n   * @example\n   * program.parse(); // parse process.argv and auto-detect electron and special node flags\n   * program.parse(process.argv); // assume argv[0] is app and argv[1] is script\n   * program.parse(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]\n   *\n   * @param {string[]} [argv] - optional, defaults to process.argv\n   * @param {object} [parseOptions] - optionally specify style of options with from: node/user/electron\n   * @param {string} [parseOptions.from] - where the args are from: 'node', 'user', 'electron'\n   * @return {Command} `this` command for chaining\n   */\n\n  parse(argv, parseOptions) {\n    const userArgs = this._prepareUserArgs(argv, parseOptions);\n    this._parseCommand([], userArgs);\n\n    return this;\n  }\n\n  /**\n   * Parse `argv`, setting options and invoking commands when defined.\n   *\n   * Call with no parameters to parse `process.argv`. Detects Electron and special node options like `node --eval`. Easy mode!\n   *\n   * Or call with an array of strings to parse, and optionally where the user arguments start by specifying where the arguments are `from`:\n   * - `'node'`: default, `argv[0]` is the application and `argv[1]` is the script being run, with user arguments after that\n   * - `'electron'`: `argv[0]` is the application and `argv[1]` varies depending on whether the electron application is packaged\n   * - `'user'`: just user arguments\n   *\n   * @example\n   * await program.parseAsync(); // parse process.argv and auto-detect electron and special node flags\n   * await program.parseAsync(process.argv); // assume argv[0] is app and argv[1] is script\n   * await program.parseAsync(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]\n   *\n   * @param {string[]} [argv]\n   * @param {object} [parseOptions]\n   * @param {string} parseOptions.from - where the args are from: 'node', 'user', 'electron'\n   * @return {Promise}\n   */\n\n  async parseAsync(argv, parseOptions) {\n    const userArgs = this._prepareUserArgs(argv, parseOptions);\n    await this._parseCommand([], userArgs);\n\n    return this;\n  }\n\n  /**\n   * Execute a sub-command executable.\n   *\n   * @private\n   */\n\n  _executeSubCommand(subcommand, args) {\n    args = args.slice();\n    let launchWithNode = false; // Use node for source targets so do not need to get permissions correct, and on Windows.\n    const sourceExt = ['.js', '.ts', '.tsx', '.mjs', '.cjs'];\n\n    function findFile(baseDir, baseName) {\n      // Look for specified file\n      const localBin = path.resolve(baseDir, baseName);\n      if (fs.existsSync(localBin)) return localBin;\n\n      // Stop looking if candidate already has an expected extension.\n      if (sourceExt.includes(path.extname(baseName))) return undefined;\n\n      // Try all the extensions.\n      const foundExt = sourceExt.find((ext) =>\n        fs.existsSync(`${localBin}${ext}`),\n      );\n      if (foundExt) return `${localBin}${foundExt}`;\n\n      return undefined;\n    }\n\n    // Not checking for help first. Unlikely to have mandatory and executable, and can't robustly test for help flags in external command.\n    this._checkForMissingMandatoryOptions();\n    this._checkForConflictingOptions();\n\n    // executableFile and executableDir might be full path, or just a name\n    let executableFile =\n      subcommand._executableFile || `${this._name}-${subcommand._name}`;\n    let executableDir = this._executableDir || '';\n    if (this._scriptPath) {\n      let resolvedScriptPath; // resolve possible symlink for installed npm binary\n      try {\n        resolvedScriptPath = fs.realpathSync(this._scriptPath);\n      } catch (err) {\n        resolvedScriptPath = this._scriptPath;\n      }\n      executableDir = path.resolve(\n        path.dirname(resolvedScriptPath),\n        executableDir,\n      );\n    }\n\n    // Look for a local file in preference to a command in PATH.\n    if (executableDir) {\n      let localFile = findFile(executableDir, executableFile);\n\n      // Legacy search using prefix of script name instead of command name\n      if (!localFile && !subcommand._executableFile && this._scriptPath) {\n        const legacyName = path.basename(\n          this._scriptPath,\n          path.extname(this._scriptPath),\n        );\n        if (legacyName !== this._name) {\n          localFile = findFile(\n            executableDir,\n            `${legacyName}-${subcommand._name}`,\n          );\n        }\n      }\n      executableFile = localFile || executableFile;\n    }\n\n    launchWithNode = sourceExt.includes(path.extname(executableFile));\n\n    let proc;\n    if (process.platform !== 'win32') {\n      if (launchWithNode) {\n        args.unshift(executableFile);\n        // add executable arguments to spawn\n        args = incrementNodeInspectorPort(process.execArgv).concat(args);\n\n        proc = childProcess.spawn(process.argv[0], args, { stdio: 'inherit' });\n      } else {\n        proc = childProcess.spawn(executableFile, args, { stdio: 'inherit' });\n      }\n    } else {\n      args.unshift(executableFile);\n      // add executable arguments to spawn\n      args = incrementNodeInspectorPort(process.execArgv).concat(args);\n      proc = childProcess.spawn(process.execPath, args, { stdio: 'inherit' });\n    }\n\n    if (!proc.killed) {\n      // testing mainly to avoid leak warnings during unit tests with mocked spawn\n      const signals = ['SIGUSR1', 'SIGUSR2', 'SIGTERM', 'SIGINT', 'SIGHUP'];\n      signals.forEach((signal) => {\n        process.on(signal, () => {\n          if (proc.killed === false && proc.exitCode === null) {\n            // @ts-ignore because signals not typed to known strings\n            proc.kill(signal);\n          }\n        });\n      });\n    }\n\n    // By default terminate process when spawned process terminates.\n    const exitCallback = this._exitCallback;\n    proc.on('close', (code) => {\n      code = code ?? 1; // code is null if spawned process terminated due to a signal\n      if (!exitCallback) {\n        process.exit(code);\n      } else {\n        exitCallback(\n          new CommanderError(\n            code,\n            'commander.executeSubCommandAsync',\n            '(close)',\n          ),\n        );\n      }\n    });\n    proc.on('error', (err) => {\n      // @ts-ignore: because err.code is an unknown property\n      if (err.code === 'ENOENT') {\n        const executableDirMessage = executableDir\n          ? `searched for local subcommand relative to directory '${executableDir}'`\n          : 'no directory for search for local subcommand, use .executableDir() to supply a custom directory';\n        const executableMissing = `'${executableFile}' does not exist\n - if '${subcommand._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${executableDirMessage}`;\n        throw new Error(executableMissing);\n        // @ts-ignore: because err.code is an unknown property\n      } else if (err.code === 'EACCES') {\n        throw new Error(`'${executableFile}' not executable`);\n      }\n      if (!exitCallback) {\n        process.exit(1);\n      } else {\n        const wrappedError = new CommanderError(\n          1,\n          'commander.executeSubCommandAsync',\n          '(error)',\n        );\n        wrappedError.nestedError = err;\n        exitCallback(wrappedError);\n      }\n    });\n\n    // Store the reference to the child process\n    this.runningCommand = proc;\n  }\n\n  /**\n   * @private\n   */\n\n  _dispatchSubcommand(commandName, operands, unknown) {\n    const subCommand = this._findCommand(commandName);\n    if (!subCommand) this.help({ error: true });\n\n    let promiseChain;\n    promiseChain = this._chainOrCallSubCommandHook(\n      promiseChain,\n      subCommand,\n      'preSubcommand',\n    );\n    promiseChain = this._chainOrCall(promiseChain, () => {\n      if (subCommand._executableHandler) {\n        this._executeSubCommand(subCommand, operands.concat(unknown));\n      } else {\n        return subCommand._parseCommand(operands, unknown);\n      }\n    });\n    return promiseChain;\n  }\n\n  /**\n   * Invoke help directly if possible, or dispatch if necessary.\n   * e.g. help foo\n   *\n   * @private\n   */\n\n  _dispatchHelpCommand(subcommandName) {\n    if (!subcommandName) {\n      this.help();\n    }\n    const subCommand = this._findCommand(subcommandName);\n    if (subCommand && !subCommand._executableHandler) {\n      subCommand.help();\n    }\n\n    // Fallback to parsing the help flag to invoke the help.\n    return this._dispatchSubcommand(\n      subcommandName,\n      [],\n      [this._getHelpOption()?.long ?? this._getHelpOption()?.short ?? '--help'],\n    );\n  }\n\n  /**\n   * Check this.args against expected this.registeredArguments.\n   *\n   * @private\n   */\n\n  _checkNumberOfArguments() {\n    // too few\n    this.registeredArguments.forEach((arg, i) => {\n      if (arg.required && this.args[i] == null) {\n        this.missingArgument(arg.name());\n      }\n    });\n    // too many\n    if (\n      this.registeredArguments.length > 0 &&\n      this.registeredArguments[this.registeredArguments.length - 1].variadic\n    ) {\n      return;\n    }\n    if (this.args.length > this.registeredArguments.length) {\n      this._excessArguments(this.args);\n    }\n  }\n\n  /**\n   * Process this.args using this.registeredArguments and save as this.processedArgs!\n   *\n   * @private\n   */\n\n  _processArguments() {\n    const myParseArg = (argument, value, previous) => {\n      // Extra processing for nice error message on parsing failure.\n      let parsedValue = value;\n      if (value !== null && argument.parseArg) {\n        const invalidValueMessage = `error: command-argument value '${value}' is invalid for argument '${argument.name()}'.`;\n        parsedValue = this._callParseArg(\n          argument,\n          value,\n          previous,\n          invalidValueMessage,\n        );\n      }\n      return parsedValue;\n    };\n\n    this._checkNumberOfArguments();\n\n    const processedArgs = [];\n    this.registeredArguments.forEach((declaredArg, index) => {\n      let value = declaredArg.defaultValue;\n      if (declaredArg.variadic) {\n        // Collect together remaining arguments for passing together as an array.\n        if (index < this.args.length) {\n          value = this.args.slice(index);\n          if (declaredArg.parseArg) {\n            value = value.reduce((processed, v) => {\n              return myParseArg(declaredArg, v, processed);\n            }, declaredArg.defaultValue);\n          }\n        } else if (value === undefined) {\n          value = [];\n        }\n      } else if (index < this.args.length) {\n        value = this.args[index];\n        if (declaredArg.parseArg) {\n          value = myParseArg(declaredArg, value, declaredArg.defaultValue);\n        }\n      }\n      processedArgs[index] = value;\n    });\n    this.processedArgs = processedArgs;\n  }\n\n  /**\n   * Once we have a promise we chain, but call synchronously until then.\n   *\n   * @param {(Promise|undefined)} promise\n   * @param {Function} fn\n   * @return {(Promise|undefined)}\n   * @private\n   */\n\n  _chainOrCall(promise, fn) {\n    // thenable\n    if (promise && promise.then && typeof promise.then === 'function') {\n      // already have a promise, chain callback\n      return promise.then(() => fn());\n    }\n    // callback might return a promise\n    return fn();\n  }\n\n  /**\n   *\n   * @param {(Promise|undefined)} promise\n   * @param {string} event\n   * @return {(Promise|undefined)}\n   * @private\n   */\n\n  _chainOrCallHooks(promise, event) {\n    let result = promise;\n    const hooks = [];\n    this._getCommandAndAncestors()\n      .reverse()\n      .filter((cmd) => cmd._lifeCycleHooks[event] !== undefined)\n      .forEach((hookedCommand) => {\n        hookedCommand._lifeCycleHooks[event].forEach((callback) => {\n          hooks.push({ hookedCommand, callback });\n        });\n      });\n    if (event === 'postAction') {\n      hooks.reverse();\n    }\n\n    hooks.forEach((hookDetail) => {\n      result = this._chainOrCall(result, () => {\n        return hookDetail.callback(hookDetail.hookedCommand, this);\n      });\n    });\n    return result;\n  }\n\n  /**\n   *\n   * @param {(Promise|undefined)} promise\n   * @param {Command} subCommand\n   * @param {string} event\n   * @return {(Promise|undefined)}\n   * @private\n   */\n\n  _chainOrCallSubCommandHook(promise, subCommand, event) {\n    let result = promise;\n    if (this._lifeCycleHooks[event] !== undefined) {\n      this._lifeCycleHooks[event].forEach((hook) => {\n        result = this._chainOrCall(result, () => {\n          return hook(this, subCommand);\n        });\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Process arguments in context of this command.\n   * Returns action result, in case it is a promise.\n   *\n   * @private\n   */\n\n  _parseCommand(operands, unknown) {\n    const parsed = this.parseOptions(unknown);\n    this._parseOptionsEnv(); // after cli, so parseArg not called on both cli and env\n    this._parseOptionsImplied();\n    operands = operands.concat(parsed.operands);\n    unknown = parsed.unknown;\n    this.args = operands.concat(unknown);\n\n    if (operands && this._findCommand(operands[0])) {\n      return this._dispatchSubcommand(operands[0], operands.slice(1), unknown);\n    }\n    if (\n      this._getHelpCommand() &&\n      operands[0] === this._getHelpCommand().name()\n    ) {\n      return this._dispatchHelpCommand(operands[1]);\n    }\n    if (this._defaultCommandName) {\n      this._outputHelpIfRequested(unknown); // Run the help for default command from parent rather than passing to default command\n      return this._dispatchSubcommand(\n        this._defaultCommandName,\n        operands,\n        unknown,\n      );\n    }\n    if (\n      this.commands.length &&\n      this.args.length === 0 &&\n      !this._actionHandler &&\n      !this._defaultCommandName\n    ) {\n      // probably missing subcommand and no handler, user needs help (and exit)\n      this.help({ error: true });\n    }\n\n    this._outputHelpIfRequested(parsed.unknown);\n    this._checkForMissingMandatoryOptions();\n    this._checkForConflictingOptions();\n\n    // We do not always call this check to avoid masking a \"better\" error, like unknown command.\n    const checkForUnknownOptions = () => {\n      if (parsed.unknown.length > 0) {\n        this.unknownOption(parsed.unknown[0]);\n      }\n    };\n\n    const commandEvent = `command:${this.name()}`;\n    if (this._actionHandler) {\n      checkForUnknownOptions();\n      this._processArguments();\n\n      let promiseChain;\n      promiseChain = this._chainOrCallHooks(promiseChain, 'preAction');\n      promiseChain = this._chainOrCall(promiseChain, () =>\n        this._actionHandler(this.processedArgs),\n      );\n      if (this.parent) {\n        promiseChain = this._chainOrCall(promiseChain, () => {\n          this.parent.emit(commandEvent, operands, unknown); // legacy\n        });\n      }\n      promiseChain = this._chainOrCallHooks(promiseChain, 'postAction');\n      return promiseChain;\n    }\n    if (this.parent && this.parent.listenerCount(commandEvent)) {\n      checkForUnknownOptions();\n      this._processArguments();\n      this.parent.emit(commandEvent, operands, unknown); // legacy\n    } else if (operands.length) {\n      if (this._findCommand('*')) {\n        // legacy default command\n        return this._dispatchSubcommand('*', operands, unknown);\n      }\n      if (this.listenerCount('command:*')) {\n        // skip option check, emit event for possible misspelling suggestion\n        this.emit('command:*', operands, unknown);\n      } else if (this.commands.length) {\n        this.unknownCommand();\n      } else {\n        checkForUnknownOptions();\n        this._processArguments();\n      }\n    } else if (this.commands.length) {\n      checkForUnknownOptions();\n      // This command has subcommands and nothing hooked up at this level, so display help (and exit).\n      this.help({ error: true });\n    } else {\n      checkForUnknownOptions();\n      this._processArguments();\n      // fall through for caller to handle after calling .parse()\n    }\n  }\n\n  /**\n   * Find matching command.\n   *\n   * @private\n   * @return {Command | undefined}\n   */\n  _findCommand(name) {\n    if (!name) return undefined;\n    return this.commands.find(\n      (cmd) => cmd._name === name || cmd._aliases.includes(name),\n    );\n  }\n\n  /**\n   * Return an option matching `arg` if any.\n   *\n   * @param {string} arg\n   * @return {Option}\n   * @package\n   */\n\n  _findOption(arg) {\n    return this.options.find((option) => option.is(arg));\n  }\n\n  /**\n   * Display an error message if a mandatory option does not have a value.\n   * Called after checking for help flags in leaf subcommand.\n   *\n   * @private\n   */\n\n  _checkForMissingMandatoryOptions() {\n    // Walk up hierarchy so can call in subcommand after checking for displaying help.\n    this._getCommandAndAncestors().forEach((cmd) => {\n      cmd.options.forEach((anOption) => {\n        if (\n          anOption.mandatory &&\n          cmd.getOptionValue(anOption.attributeName()) === undefined\n        ) {\n          cmd.missingMandatoryOptionValue(anOption);\n        }\n      });\n    });\n  }\n\n  /**\n   * Display an error message if conflicting options are used together in this.\n   *\n   * @private\n   */\n  _checkForConflictingLocalOptions() {\n    const definedNonDefaultOptions = this.options.filter((option) => {\n      const optionKey = option.attributeName();\n      if (this.getOptionValue(optionKey) === undefined) {\n        return false;\n      }\n      return this.getOptionValueSource(optionKey) !== 'default';\n    });\n\n    const optionsWithConflicting = definedNonDefaultOptions.filter(\n      (option) => option.conflictsWith.length > 0,\n    );\n\n    optionsWithConflicting.forEach((option) => {\n      const conflictingAndDefined = definedNonDefaultOptions.find((defined) =>\n        option.conflictsWith.includes(defined.attributeName()),\n      );\n      if (conflictingAndDefined) {\n        this._conflictingOption(option, conflictingAndDefined);\n      }\n    });\n  }\n\n  /**\n   * Display an error message if conflicting options are used together.\n   * Called after checking for help flags in leaf subcommand.\n   *\n   * @private\n   */\n  _checkForConflictingOptions() {\n    // Walk up hierarchy so can call in subcommand after checking for displaying help.\n    this._getCommandAndAncestors().forEach((cmd) => {\n      cmd._checkForConflictingLocalOptions();\n    });\n  }\n\n  /**\n   * Parse options from `argv` removing known options,\n   * and return argv split into operands and unknown arguments.\n   *\n   * Examples:\n   *\n   *     argv => operands, unknown\n   *     --known kkk op => [op], []\n   *     op --known kkk => [op], []\n   *     sub --unknown uuu op => [sub], [--unknown uuu op]\n   *     sub -- --unknown uuu op => [sub --unknown uuu op], []\n   *\n   * @param {string[]} argv\n   * @return {{operands: string[], unknown: string[]}}\n   */\n\n  parseOptions(argv) {\n    const operands = []; // operands, not options or values\n    const unknown = []; // first unknown option and remaining unknown args\n    let dest = operands;\n    const args = argv.slice();\n\n    function maybeOption(arg) {\n      return arg.length > 1 && arg[0] === '-';\n    }\n\n    // parse options\n    let activeVariadicOption = null;\n    while (args.length) {\n      const arg = args.shift();\n\n      // literal\n      if (arg === '--') {\n        if (dest === unknown) dest.push(arg);\n        dest.push(...args);\n        break;\n      }\n\n      if (activeVariadicOption && !maybeOption(arg)) {\n        this.emit(`option:${activeVariadicOption.name()}`, arg);\n        continue;\n      }\n      activeVariadicOption = null;\n\n      if (maybeOption(arg)) {\n        const option = this._findOption(arg);\n        // recognised option, call listener to assign value with possible custom processing\n        if (option) {\n          if (option.required) {\n            const value = args.shift();\n            if (value === undefined) this.optionMissingArgument(option);\n            this.emit(`option:${option.name()}`, value);\n          } else if (option.optional) {\n            let value = null;\n            // historical behaviour is optional value is following arg unless an option\n            if (args.length > 0 && !maybeOption(args[0])) {\n              value = args.shift();\n            }\n            this.emit(`option:${option.name()}`, value);\n          } else {\n            // boolean flag\n            this.emit(`option:${option.name()}`);\n          }\n          activeVariadicOption = option.variadic ? option : null;\n          continue;\n        }\n      }\n\n      // Look for combo options following single dash, eat first one if known.\n      if (arg.length > 2 && arg[0] === '-' && arg[1] !== '-') {\n        const option = this._findOption(`-${arg[1]}`);\n        if (option) {\n          if (\n            option.required ||\n            (option.optional && this._combineFlagAndOptionalValue)\n          ) {\n            // option with value following in same argument\n            this.emit(`option:${option.name()}`, arg.slice(2));\n          } else {\n            // boolean option, emit and put back remainder of arg for further processing\n            this.emit(`option:${option.name()}`);\n            args.unshift(`-${arg.slice(2)}`);\n          }\n          continue;\n        }\n      }\n\n      // Look for known long flag with value, like --foo=bar\n      if (/^--[^=]+=/.test(arg)) {\n        const index = arg.indexOf('=');\n        const option = this._findOption(arg.slice(0, index));\n        if (option && (option.required || option.optional)) {\n          this.emit(`option:${option.name()}`, arg.slice(index + 1));\n          continue;\n        }\n      }\n\n      // Not a recognised option by this command.\n      // Might be a command-argument, or subcommand option, or unknown option, or help command or option.\n\n      // An unknown option means further arguments also classified as unknown so can be reprocessed by subcommands.\n      if (maybeOption(arg)) {\n        dest = unknown;\n      }\n\n      // If using positionalOptions, stop processing our options at subcommand.\n      if (\n        (this._enablePositionalOptions || this._passThroughOptions) &&\n        operands.length === 0 &&\n        unknown.length === 0\n      ) {\n        if (this._findCommand(arg)) {\n          operands.push(arg);\n          if (args.length > 0) unknown.push(...args);\n          break;\n        } else if (\n          this._getHelpCommand() &&\n          arg === this._getHelpCommand().name()\n        ) {\n          operands.push(arg);\n          if (args.length > 0) operands.push(...args);\n          break;\n        } else if (this._defaultCommandName) {\n          unknown.push(arg);\n          if (args.length > 0) unknown.push(...args);\n          break;\n        }\n      }\n\n      // If using passThroughOptions, stop processing options at first command-argument.\n      if (this._passThroughOptions) {\n        dest.push(arg);\n        if (args.length > 0) dest.push(...args);\n        break;\n      }\n\n      // add arg\n      dest.push(arg);\n    }\n\n    return { operands, unknown };\n  }\n\n  /**\n   * Return an object containing local option values as key-value pairs.\n   *\n   * @return {object}\n   */\n  opts() {\n    if (this._storeOptionsAsProperties) {\n      // Preserve original behaviour so backwards compatible when still using properties\n      const result = {};\n      const len = this.options.length;\n\n      for (let i = 0; i < len; i++) {\n        const key = this.options[i].attributeName();\n        result[key] =\n          key === this._versionOptionName ? this._version : this[key];\n      }\n      return result;\n    }\n\n    return this._optionValues;\n  }\n\n  /**\n   * Return an object containing merged local and global option values as key-value pairs.\n   *\n   * @return {object}\n   */\n  optsWithGlobals() {\n    // globals overwrite locals\n    return this._getCommandAndAncestors().reduce(\n      (combinedOptions, cmd) => Object.assign(combinedOptions, cmd.opts()),\n      {},\n    );\n  }\n\n  /**\n   * Display error message and exit (or call exitOverride).\n   *\n   * @param {string} message\n   * @param {object} [errorOptions]\n   * @param {string} [errorOptions.code] - an id string representing the error\n   * @param {number} [errorOptions.exitCode] - used with process.exit\n   */\n  error(message, errorOptions) {\n    // output handling\n    this._outputConfiguration.outputError(\n      `${message}\\n`,\n      this._outputConfiguration.writeErr,\n    );\n    if (typeof this._showHelpAfterError === 'string') {\n      this._outputConfiguration.writeErr(`${this._showHelpAfterError}\\n`);\n    } else if (this._showHelpAfterError) {\n      this._outputConfiguration.writeErr('\\n');\n      this.outputHelp({ error: true });\n    }\n\n    // exit handling\n    const config = errorOptions || {};\n    const exitCode = config.exitCode || 1;\n    const code = config.code || 'commander.error';\n    this._exit(exitCode, code, message);\n  }\n\n  /**\n   * Apply any option related environment variables, if option does\n   * not have a value from cli or client code.\n   *\n   * @private\n   */\n  _parseOptionsEnv() {\n    this.options.forEach((option) => {\n      if (option.envVar && option.envVar in process.env) {\n        const optionKey = option.attributeName();\n        // Priority check. Do not overwrite cli or options from unknown source (client-code).\n        if (\n          this.getOptionValue(optionKey) === undefined ||\n          ['default', 'config', 'env'].includes(\n            this.getOptionValueSource(optionKey),\n          )\n        ) {\n          if (option.required || option.optional) {\n            // option can take a value\n            // keep very simple, optional always takes value\n            this.emit(`optionEnv:${option.name()}`, process.env[option.envVar]);\n          } else {\n            // boolean\n            // keep very simple, only care that envVar defined and not the value\n            this.emit(`optionEnv:${option.name()}`);\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * Apply any implied option values, if option is undefined or default value.\n   *\n   * @private\n   */\n  _parseOptionsImplied() {\n    const dualHelper = new DualOptions(this.options);\n    const hasCustomOptionValue = (optionKey) => {\n      return (\n        this.getOptionValue(optionKey) !== undefined &&\n        !['default', 'implied'].includes(this.getOptionValueSource(optionKey))\n      );\n    };\n    this.options\n      .filter(\n        (option) =>\n          option.implied !== undefined &&\n          hasCustomOptionValue(option.attributeName()) &&\n          dualHelper.valueFromOption(\n            this.getOptionValue(option.attributeName()),\n            option,\n          ),\n      )\n      .forEach((option) => {\n        Object.keys(option.implied)\n          .filter((impliedKey) => !hasCustomOptionValue(impliedKey))\n          .forEach((impliedKey) => {\n            this.setOptionValueWithSource(\n              impliedKey,\n              option.implied[impliedKey],\n              'implied',\n            );\n          });\n      });\n  }\n\n  /**\n   * Argument `name` is missing.\n   *\n   * @param {string} name\n   * @private\n   */\n\n  missingArgument(name) {\n    const message = `error: missing required argument '${name}'`;\n    this.error(message, { code: 'commander.missingArgument' });\n  }\n\n  /**\n   * `Option` is missing an argument.\n   *\n   * @param {Option} option\n   * @private\n   */\n\n  optionMissingArgument(option) {\n    const message = `error: option '${option.flags}' argument missing`;\n    this.error(message, { code: 'commander.optionMissingArgument' });\n  }\n\n  /**\n   * `Option` does not have a value, and is a mandatory option.\n   *\n   * @param {Option} option\n   * @private\n   */\n\n  missingMandatoryOptionValue(option) {\n    const message = `error: required option '${option.flags}' not specified`;\n    this.error(message, { code: 'commander.missingMandatoryOptionValue' });\n  }\n\n  /**\n   * `Option` conflicts with another option.\n   *\n   * @param {Option} option\n   * @param {Option} conflictingOption\n   * @private\n   */\n  _conflictingOption(option, conflictingOption) {\n    // The calling code does not know whether a negated option is the source of the\n    // value, so do some work to take an educated guess.\n    const findBestOptionFromValue = (option) => {\n      const optionKey = option.attributeName();\n      const optionValue = this.getOptionValue(optionKey);\n      const negativeOption = this.options.find(\n        (target) => target.negate && optionKey === target.attributeName(),\n      );\n      const positiveOption = this.options.find(\n        (target) => !target.negate && optionKey === target.attributeName(),\n      );\n      if (\n        negativeOption &&\n        ((negativeOption.presetArg === undefined && optionValue === false) ||\n          (negativeOption.presetArg !== undefined &&\n            optionValue === negativeOption.presetArg))\n      ) {\n        return negativeOption;\n      }\n      return positiveOption || option;\n    };\n\n    const getErrorMessage = (option) => {\n      const bestOption = findBestOptionFromValue(option);\n      const optionKey = bestOption.attributeName();\n      const source = this.getOptionValueSource(optionKey);\n      if (source === 'env') {\n        return `environment variable '${bestOption.envVar}'`;\n      }\n      return `option '${bestOption.flags}'`;\n    };\n\n    const message = `error: ${getErrorMessage(option)} cannot be used with ${getErrorMessage(conflictingOption)}`;\n    this.error(message, { code: 'commander.conflictingOption' });\n  }\n\n  /**\n   * Unknown option `flag`.\n   *\n   * @param {string} flag\n   * @private\n   */\n\n  unknownOption(flag) {\n    if (this._allowUnknownOption) return;\n    let suggestion = '';\n\n    if (flag.startsWith('--') && this._showSuggestionAfterError) {\n      // Looping to pick up the global options too\n      let candidateFlags = [];\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      let command = this;\n      do {\n        const moreFlags = command\n          .createHelp()\n          .visibleOptions(command)\n          .filter((option) => option.long)\n          .map((option) => option.long);\n        candidateFlags = candidateFlags.concat(moreFlags);\n        command = command.parent;\n      } while (command && !command._enablePositionalOptions);\n      suggestion = suggestSimilar(flag, candidateFlags);\n    }\n\n    const message = `error: unknown option '${flag}'${suggestion}`;\n    this.error(message, { code: 'commander.unknownOption' });\n  }\n\n  /**\n   * Excess arguments, more than expected.\n   *\n   * @param {string[]} receivedArgs\n   * @private\n   */\n\n  _excessArguments(receivedArgs) {\n    if (this._allowExcessArguments) return;\n\n    const expected = this.registeredArguments.length;\n    const s = expected === 1 ? '' : 's';\n    const forSubcommand = this.parent ? ` for '${this.name()}'` : '';\n    const message = `error: too many arguments${forSubcommand}. Expected ${expected} argument${s} but got ${receivedArgs.length}.`;\n    this.error(message, { code: 'commander.excessArguments' });\n  }\n\n  /**\n   * Unknown command.\n   *\n   * @private\n   */\n\n  unknownCommand() {\n    const unknownName = this.args[0];\n    let suggestion = '';\n\n    if (this._showSuggestionAfterError) {\n      const candidateNames = [];\n      this.createHelp()\n        .visibleCommands(this)\n        .forEach((command) => {\n          candidateNames.push(command.name());\n          // just visible alias\n          if (command.alias()) candidateNames.push(command.alias());\n        });\n      suggestion = suggestSimilar(unknownName, candidateNames);\n    }\n\n    const message = `error: unknown command '${unknownName}'${suggestion}`;\n    this.error(message, { code: 'commander.unknownCommand' });\n  }\n\n  /**\n   * Get or set the program version.\n   *\n   * This method auto-registers the \"-V, --version\" option which will print the version number.\n   *\n   * You can optionally supply the flags and description to override the defaults.\n   *\n   * @param {string} [str]\n   * @param {string} [flags]\n   * @param {string} [description]\n   * @return {(this | string | undefined)} `this` command for chaining, or version string if no arguments\n   */\n\n  version(str, flags, description) {\n    if (str === undefined) return this._version;\n    this._version = str;\n    flags = flags || '-V, --version';\n    description = description || 'output the version number';\n    const versionOption = this.createOption(flags, description);\n    this._versionOptionName = versionOption.attributeName();\n    this._registerOption(versionOption);\n\n    this.on('option:' + versionOption.name(), () => {\n      this._outputConfiguration.writeOut(`${str}\\n`);\n      this._exit(0, 'commander.version', str);\n    });\n    return this;\n  }\n\n  /**\n   * Set the description.\n   *\n   * @param {string} [str]\n   * @param {object} [argsDescription]\n   * @return {(string|Command)}\n   */\n  description(str, argsDescription) {\n    if (str === undefined && argsDescription === undefined)\n      return this._description;\n    this._description = str;\n    if (argsDescription) {\n      this._argsDescription = argsDescription;\n    }\n    return this;\n  }\n\n  /**\n   * Set the summary. Used when listed as subcommand of parent.\n   *\n   * @param {string} [str]\n   * @return {(string|Command)}\n   */\n  summary(str) {\n    if (str === undefined) return this._summary;\n    this._summary = str;\n    return this;\n  }\n\n  /**\n   * Set an alias for the command.\n   *\n   * You may call more than once to add multiple aliases. Only the first alias is shown in the auto-generated help.\n   *\n   * @param {string} [alias]\n   * @return {(string|Command)}\n   */\n\n  alias(alias) {\n    if (alias === undefined) return this._aliases[0]; // just return first, for backwards compatibility\n\n    /** @type {Command} */\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let command = this;\n    if (\n      this.commands.length !== 0 &&\n      this.commands[this.commands.length - 1]._executableHandler\n    ) {\n      // assume adding alias for last added executable subcommand, rather than this\n      command = this.commands[this.commands.length - 1];\n    }\n\n    if (alias === command._name)\n      throw new Error(\"Command alias can't be the same as its name\");\n    const matchingCommand = this.parent?._findCommand(alias);\n    if (matchingCommand) {\n      // c.f. _registerCommand\n      const existingCmd = [matchingCommand.name()]\n        .concat(matchingCommand.aliases())\n        .join('|');\n      throw new Error(\n        `cannot add alias '${alias}' to command '${this.name()}' as already have command '${existingCmd}'`,\n      );\n    }\n\n    command._aliases.push(alias);\n    return this;\n  }\n\n  /**\n   * Set aliases for the command.\n   *\n   * Only the first alias is shown in the auto-generated help.\n   *\n   * @param {string[]} [aliases]\n   * @return {(string[]|Command)}\n   */\n\n  aliases(aliases) {\n    // Getter for the array of aliases is the main reason for having aliases() in addition to alias().\n    if (aliases === undefined) return this._aliases;\n\n    aliases.forEach((alias) => this.alias(alias));\n    return this;\n  }\n\n  /**\n   * Set / get the command usage `str`.\n   *\n   * @param {string} [str]\n   * @return {(string|Command)}\n   */\n\n  usage(str) {\n    if (str === undefined) {\n      if (this._usage) return this._usage;\n\n      const args = this.registeredArguments.map((arg) => {\n        return humanReadableArgName(arg);\n      });\n      return []\n        .concat(\n          this.options.length || this._helpOption !== null ? '[options]' : [],\n          this.commands.length ? '[command]' : [],\n          this.registeredArguments.length ? args : [],\n        )\n        .join(' ');\n    }\n\n    this._usage = str;\n    return this;\n  }\n\n  /**\n   * Get or set the name of the command.\n   *\n   * @param {string} [str]\n   * @return {(string|Command)}\n   */\n\n  name(str) {\n    if (str === undefined) return this._name;\n    this._name = str;\n    return this;\n  }\n\n  /**\n   * Set the name of the command from script filename, such as process.argv[1],\n   * or require.main.filename, or __filename.\n   *\n   * (Used internally and public although not documented in README.)\n   *\n   * @example\n   * program.nameFromFilename(require.main.filename);\n   *\n   * @param {string} filename\n   * @return {Command}\n   */\n\n  nameFromFilename(filename) {\n    this._name = path.basename(filename, path.extname(filename));\n\n    return this;\n  }\n\n  /**\n   * Get or set the directory for searching for executable subcommands of this command.\n   *\n   * @example\n   * program.executableDir(__dirname);\n   * // or\n   * program.executableDir('subcommands');\n   *\n   * @param {string} [path]\n   * @return {(string|null|Command)}\n   */\n\n  executableDir(path) {\n    if (path === undefined) return this._executableDir;\n    this._executableDir = path;\n    return this;\n  }\n\n  /**\n   * Return program help documentation.\n   *\n   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to wrap for stderr instead of stdout\n   * @return {string}\n   */\n\n  helpInformation(contextOptions) {\n    const helper = this.createHelp();\n    if (helper.helpWidth === undefined) {\n      helper.helpWidth =\n        contextOptions && contextOptions.error\n          ? this._outputConfiguration.getErrHelpWidth()\n          : this._outputConfiguration.getOutHelpWidth();\n    }\n    return helper.formatHelp(this, helper);\n  }\n\n  /**\n   * @private\n   */\n\n  _getHelpContext(contextOptions) {\n    contextOptions = contextOptions || {};\n    const context = { error: !!contextOptions.error };\n    let write;\n    if (context.error) {\n      write = (arg) => this._outputConfiguration.writeErr(arg);\n    } else {\n      write = (arg) => this._outputConfiguration.writeOut(arg);\n    }\n    context.write = contextOptions.write || write;\n    context.command = this;\n    return context;\n  }\n\n  /**\n   * Output help information for this command.\n   *\n   * Outputs built-in help, and custom text added using `.addHelpText()`.\n   *\n   * @param {{ error: boolean } | Function} [contextOptions] - pass {error:true} to write to stderr instead of stdout\n   */\n\n  outputHelp(contextOptions) {\n    let deprecatedCallback;\n    if (typeof contextOptions === 'function') {\n      deprecatedCallback = contextOptions;\n      contextOptions = undefined;\n    }\n    const context = this._getHelpContext(contextOptions);\n\n    this._getCommandAndAncestors()\n      .reverse()\n      .forEach((command) => command.emit('beforeAllHelp', context));\n    this.emit('beforeHelp', context);\n\n    let helpInformation = this.helpInformation(context);\n    if (deprecatedCallback) {\n      helpInformation = deprecatedCallback(helpInformation);\n      if (\n        typeof helpInformation !== 'string' &&\n        !Buffer.isBuffer(helpInformation)\n      ) {\n        throw new Error('outputHelp callback must return a string or a Buffer');\n      }\n    }\n    context.write(helpInformation);\n\n    if (this._getHelpOption()?.long) {\n      this.emit(this._getHelpOption().long); // deprecated\n    }\n    this.emit('afterHelp', context);\n    this._getCommandAndAncestors().forEach((command) =>\n      command.emit('afterAllHelp', context),\n    );\n  }\n\n  /**\n   * You can pass in flags and a description to customise the built-in help option.\n   * Pass in false to disable the built-in help option.\n   *\n   * @example\n   * program.helpOption('-?, --help' 'show help'); // customise\n   * program.helpOption(false); // disable\n   *\n   * @param {(string | boolean)} flags\n   * @param {string} [description]\n   * @return {Command} `this` command for chaining\n   */\n\n  helpOption(flags, description) {\n    // Support disabling built-in help option.\n    if (typeof flags === 'boolean') {\n      if (flags) {\n        this._helpOption = this._helpOption ?? undefined; // preserve existing option\n      } else {\n        this._helpOption = null; // disable\n      }\n      return this;\n    }\n\n    // Customise flags and description.\n    flags = flags ?? '-h, --help';\n    description = description ?? 'display help for command';\n    this._helpOption = this.createOption(flags, description);\n\n    return this;\n  }\n\n  /**\n   * Lazy create help option.\n   * Returns null if has been disabled with .helpOption(false).\n   *\n   * @returns {(Option | null)} the help option\n   * @package\n   */\n  _getHelpOption() {\n    // Lazy create help option on demand.\n    if (this._helpOption === undefined) {\n      this.helpOption(undefined, undefined);\n    }\n    return this._helpOption;\n  }\n\n  /**\n   * Supply your own option to use for the built-in help option.\n   * This is an alternative to using helpOption() to customise the flags and description etc.\n   *\n   * @param {Option} option\n   * @return {Command} `this` command for chaining\n   */\n  addHelpOption(option) {\n    this._helpOption = option;\n    return this;\n  }\n\n  /**\n   * Output help information and exit.\n   *\n   * Outputs built-in help, and custom text added using `.addHelpText()`.\n   *\n   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to write to stderr instead of stdout\n   */\n\n  help(contextOptions) {\n    this.outputHelp(contextOptions);\n    let exitCode = process.exitCode || 0;\n    if (\n      exitCode === 0 &&\n      contextOptions &&\n      typeof contextOptions !== 'function' &&\n      contextOptions.error\n    ) {\n      exitCode = 1;\n    }\n    // message: do not have all displayed text available so only passing placeholder.\n    this._exit(exitCode, 'commander.help', '(outputHelp)');\n  }\n\n  /**\n   * Add additional text to be displayed with the built-in help.\n   *\n   * Position is 'before' or 'after' to affect just this command,\n   * and 'beforeAll' or 'afterAll' to affect this command and all its subcommands.\n   *\n   * @param {string} position - before or after built-in help\n   * @param {(string | Function)} text - string to add, or a function returning a string\n   * @return {Command} `this` command for chaining\n   */\n  addHelpText(position, text) {\n    const allowedValues = ['beforeAll', 'before', 'after', 'afterAll'];\n    if (!allowedValues.includes(position)) {\n      throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${allowedValues.join(\"', '\")}'`);\n    }\n    const helpEvent = `${position}Help`;\n    this.on(helpEvent, (context) => {\n      let helpStr;\n      if (typeof text === 'function') {\n        helpStr = text({ error: context.error, command: context.command });\n      } else {\n        helpStr = text;\n      }\n      // Ignore falsy value when nothing to output.\n      if (helpStr) {\n        context.write(`${helpStr}\\n`);\n      }\n    });\n    return this;\n  }\n\n  /**\n   * Output help information if help flags specified\n   *\n   * @param {Array} args - array of options to search for help flags\n   * @private\n   */\n\n  _outputHelpIfRequested(args) {\n    const helpOption = this._getHelpOption();\n    const helpRequested = helpOption && args.find((arg) => helpOption.is(arg));\n    if (helpRequested) {\n      this.outputHelp();\n      // (Do not have all displayed text available so only passing placeholder.)\n      this._exit(0, 'commander.helpDisplayed', '(outputHelp)');\n    }\n  }\n}\n\n/**\n * Scan arguments and increment port number for inspect calls (to avoid conflicts when spawning new command).\n *\n * @param {string[]} args - array of arguments from node.execArgv\n * @returns {string[]}\n * @private\n */\n\nfunction incrementNodeInspectorPort(args) {\n  // Testing for these options:\n  //  --inspect[=[host:]port]\n  //  --inspect-brk[=[host:]port]\n  //  --inspect-port=[host:]port\n  return args.map((arg) => {\n    if (!arg.startsWith('--inspect')) {\n      return arg;\n    }\n    let debugOption;\n    let debugHost = '127.0.0.1';\n    let debugPort = '9229';\n    let match;\n    if ((match = arg.match(/^(--inspect(-brk)?)$/)) !== null) {\n      // e.g. --inspect\n      debugOption = match[1];\n    } else if (\n      (match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+)$/)) !== null\n    ) {\n      debugOption = match[1];\n      if (/^\\d+$/.test(match[3])) {\n        // e.g. --inspect=1234\n        debugPort = match[3];\n      } else {\n        // e.g. --inspect=localhost\n        debugHost = match[3];\n      }\n    } else if (\n      (match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+):(\\d+)$/)) !== null\n    ) {\n      // e.g. --inspect=localhost:1234\n      debugOption = match[1];\n      debugHost = match[3];\n      debugPort = match[4];\n    }\n\n    if (debugOption && debugPort !== '0') {\n      return `${debugOption}=${debugHost}:${parseInt(debugPort) + 1}`;\n    }\n    return arg;\n  });\n}\n\nexports.Command = Command;\n","/*\n    FIGlet.js (a FIGDriver for FIGlet fonts)\n    Written by https://github.com/patorjk/figlet.js/graphs/contributors\n    Originally Written For: http://patorjk.com/software/taag/\n    License: MIT (with this header staying intact)\n\n    This JavaScript code aims to fully implement the FIGlet spec.\n    Full FIGlet spec: http://patorjk.com/software/taag/docs/figfont.txt\n\n    FIGlet fonts are actually kind of complex, which is why you will see\n    a lot of code about parsing and interpreting rules. The actual generation\n    code is pretty simple and is done near the bottom of the code.\n*/\n\n\"use strict\";\n\nconst figlet = (() => {\n  // ---------------------------------------------------------------------\n  // Private static variables\n\n  const FULL_WIDTH = 0,\n    FITTING = 1,\n    SMUSHING = 2,\n    CONTROLLED_SMUSHING = 3;\n\n  // ---------------------------------------------------------------------\n  // Variable that will hold information about the fonts\n\n  const figFonts = {}; // What stores all of the FIGlet font data\n  const figDefaults = {\n    font: \"Standard\",\n    fontPath: \"./fonts\",\n  };\n\n  // ---------------------------------------------------------------------\n  // Private static methods\n\n  /*\n        This method takes in the oldLayout and newLayout data from the FIGfont header file and returns\n        the layout information.\n    */\n  function getSmushingRules(oldLayout, newLayout) {\n    let rules = {};\n    let val, index, len, code;\n    let codes = [\n      [16384, \"vLayout\", SMUSHING],\n      [8192, \"vLayout\", FITTING],\n      [4096, \"vRule5\", true],\n      [2048, \"vRule4\", true],\n      [1024, \"vRule3\", true],\n      [512, \"vRule2\", true],\n      [256, \"vRule1\", true],\n      [128, \"hLayout\", SMUSHING],\n      [64, \"hLayout\", FITTING],\n      [32, \"hRule6\", true],\n      [16, \"hRule5\", true],\n      [8, \"hRule4\", true],\n      [4, \"hRule3\", true],\n      [2, \"hRule2\", true],\n      [1, \"hRule1\", true],\n    ];\n\n    val = newLayout !== null ? newLayout : oldLayout;\n    index = 0;\n    len = codes.length;\n    while (index < len) {\n      code = codes[index];\n      if (val >= code[0]) {\n        val = val - code[0];\n        rules[code[1]] =\n          typeof rules[code[1]] === \"undefined\" ? code[2] : rules[code[1]];\n      } else if (code[1] !== \"vLayout\" && code[1] !== \"hLayout\") {\n        rules[code[1]] = false;\n      }\n      index++;\n    }\n\n    if (typeof rules[\"hLayout\"] === \"undefined\") {\n      if (oldLayout === 0) {\n        rules[\"hLayout\"] = FITTING;\n      } else if (oldLayout === -1) {\n        rules[\"hLayout\"] = FULL_WIDTH;\n      } else {\n        if (\n          rules[\"hRule1\"] ||\n          rules[\"hRule2\"] ||\n          rules[\"hRule3\"] ||\n          rules[\"hRule4\"] ||\n          rules[\"hRule5\"] ||\n          rules[\"hRule6\"]\n        ) {\n          rules[\"hLayout\"] = CONTROLLED_SMUSHING;\n        } else {\n          rules[\"hLayout\"] = SMUSHING;\n        }\n      }\n    } else if (rules[\"hLayout\"] === SMUSHING) {\n      if (\n        rules[\"hRule1\"] ||\n        rules[\"hRule2\"] ||\n        rules[\"hRule3\"] ||\n        rules[\"hRule4\"] ||\n        rules[\"hRule5\"] ||\n        rules[\"hRule6\"]\n      ) {\n        rules[\"hLayout\"] = CONTROLLED_SMUSHING;\n      }\n    }\n\n    if (typeof rules[\"vLayout\"] === \"undefined\") {\n      if (\n        rules[\"vRule1\"] ||\n        rules[\"vRule2\"] ||\n        rules[\"vRule3\"] ||\n        rules[\"vRule4\"] ||\n        rules[\"vRule5\"]\n      ) {\n        rules[\"vLayout\"] = CONTROLLED_SMUSHING;\n      } else {\n        rules[\"vLayout\"] = FULL_WIDTH;\n      }\n    } else if (rules[\"vLayout\"] === SMUSHING) {\n      if (\n        rules[\"vRule1\"] ||\n        rules[\"vRule2\"] ||\n        rules[\"vRule3\"] ||\n        rules[\"vRule4\"] ||\n        rules[\"vRule5\"]\n      ) {\n        rules[\"vLayout\"] = CONTROLLED_SMUSHING;\n      }\n    }\n\n    return rules;\n  }\n\n  /* The [vh]Rule[1-6]_Smush functions return the smushed character OR false if the two characters can't be smushed */\n\n  /*\n        Rule 1: EQUAL CHARACTER SMUSHING (code value 1)\n\n            Two sub-characters are smushed into a single sub-character\n            if they are the same.  This rule does not smush\n            hardblanks.  (See rule 6 on hardblanks below)\n    */\n  function hRule1_Smush(ch1, ch2, hardBlank) {\n    if (ch1 === ch2 && ch1 !== hardBlank) {\n      return ch1;\n    }\n    return false;\n  }\n\n  /*\n        Rule 2: UNDERSCORE SMUSHING (code value 2)\n\n            An underscore (\"_\") will be replaced by any of: \"|\", \"/\",\n            \"\\\", \"[\", \"]\", \"{\", \"}\", \"(\", \")\", \"<\" or \">\".\n    */\n  function hRule2_Smush(ch1, ch2) {\n    let rule2Str = \"|/\\\\[]{}()<>\";\n    if (ch1 === \"_\") {\n      if (rule2Str.indexOf(ch2) !== -1) {\n        return ch2;\n      }\n    } else if (ch2 === \"_\") {\n      if (rule2Str.indexOf(ch1) !== -1) {\n        return ch1;\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 3: HIERARCHY SMUSHING (code value 4)\n\n            A hierarchy of six classes is used: \"|\", \"/\\\", \"[]\", \"{}\",\n            \"()\", and \"<>\".  When two smushing sub-characters are\n            from different classes, the one from the latter class\n            will be used.\n    */\n  function hRule3_Smush(ch1, ch2) {\n    let rule3Classes = \"| /\\\\ [] {} () <>\";\n    let r3_pos1 = rule3Classes.indexOf(ch1);\n    let r3_pos2 = rule3Classes.indexOf(ch2);\n    if (r3_pos1 !== -1 && r3_pos2 !== -1) {\n      if (r3_pos1 !== r3_pos2 && Math.abs(r3_pos1 - r3_pos2) !== 1) {\n        const startPos = Math.max(r3_pos1, r3_pos2);\n        const endPos = startPos + 1;\n        return rule3Classes.substring(startPos, endPos);\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 4: OPPOSITE PAIR SMUSHING (code value 8)\n\n            Smushes opposing brackets (\"[]\" or \"][\"), braces (\"{}\" or\n            \"}{\") and parentheses (\"()\" or \")(\") together, replacing\n            any such pair with a vertical bar (\"|\").\n    */\n  function hRule4_Smush(ch1, ch2) {\n    let rule4Str = \"[] {} ()\";\n    let r4_pos1 = rule4Str.indexOf(ch1);\n    let r4_pos2 = rule4Str.indexOf(ch2);\n    if (r4_pos1 !== -1 && r4_pos2 !== -1) {\n      if (Math.abs(r4_pos1 - r4_pos2) <= 1) {\n        return \"|\";\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 5: BIG X SMUSHING (code value 16)\n\n            Smushes \"/\\\" into \"|\", \"\\/\" into \"Y\", and \"><\" into \"X\".\n            Note that \"<>\" is not smushed in any way by this rule.\n            The name \"BIG X\" is historical; originally all three pairs\n            were smushed into \"X\".\n    */\n  function hRule5_Smush(ch1, ch2) {\n    let rule5Str = \"/\\\\ \\\\/ ><\";\n    let rule5Hash = { 0: \"|\", 3: \"Y\", 6: \"X\" };\n    let r5_pos1 = rule5Str.indexOf(ch1);\n    let r5_pos2 = rule5Str.indexOf(ch2);\n    if (r5_pos1 !== -1 && r5_pos2 !== -1) {\n      if (r5_pos2 - r5_pos1 === 1) {\n        return rule5Hash[r5_pos1];\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 6: HARDBLANK SMUSHING (code value 32)\n\n            Smushes two hardblanks together, replacing them with a\n            single hardblank.  (See \"Hardblanks\" below.)\n    */\n  function hRule6_Smush(ch1, ch2, hardBlank) {\n    if (ch1 === hardBlank && ch2 === hardBlank) {\n      return hardBlank;\n    }\n    return false;\n  }\n\n  /*\n        Rule 1: EQUAL CHARACTER SMUSHING (code value 256)\n\n            Same as horizontal smushing rule 1.\n    */\n  function vRule1_Smush(ch1, ch2) {\n    if (ch1 === ch2) {\n      return ch1;\n    }\n    return false;\n  }\n\n  /*\n        Rule 2: UNDERSCORE SMUSHING (code value 512)\n\n            Same as horizontal smushing rule 2.\n    */\n  function vRule2_Smush(ch1, ch2) {\n    let rule2Str = \"|/\\\\[]{}()<>\";\n    if (ch1 === \"_\") {\n      if (rule2Str.indexOf(ch2) !== -1) {\n        return ch2;\n      }\n    } else if (ch2 === \"_\") {\n      if (rule2Str.indexOf(ch1) !== -1) {\n        return ch1;\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 3: HIERARCHY SMUSHING (code value 1024)\n\n            Same as horizontal smushing rule 3.\n    */\n  function vRule3_Smush(ch1, ch2) {\n    let rule3Classes = \"| /\\\\ [] {} () <>\";\n    let r3_pos1 = rule3Classes.indexOf(ch1);\n    let r3_pos2 = rule3Classes.indexOf(ch2);\n    if (r3_pos1 !== -1 && r3_pos2 !== -1) {\n      if (r3_pos1 !== r3_pos2 && Math.abs(r3_pos1 - r3_pos2) !== 1) {\n        const startPos = Math.max(r3_pos1, r3_pos2);\n        const endPos = startPos + 1;\n        return rule3Classes.substring(startPos, endPos);\n      }\n    }\n    return false;\n  }\n\n  /*\n        Rule 4: HORIZONTAL LINE SMUSHING (code value 2048)\n\n            Smushes stacked pairs of \"-\" and \"_\", replacing them with\n            a single \"=\" sub-character.  It does not matter which is\n            found above the other.  Note that vertical smushing rule 1\n            will smush IDENTICAL pairs of horizontal lines, while this\n            rule smushes horizontal lines consisting of DIFFERENT\n            sub-characters.\n    */\n  function vRule4_Smush(ch1, ch2) {\n    if ((ch1 === \"-\" && ch2 === \"_\") || (ch1 === \"_\" && ch2 === \"-\")) {\n      return \"=\";\n    }\n    return false;\n  }\n\n  /*\n        Rule 5: VERTICAL LINE SUPERSMUSHING (code value 4096)\n\n            This one rule is different from all others, in that it\n            \"supersmushes\" vertical lines consisting of several\n            vertical bars (\"|\").  This creates the illusion that\n            FIGcharacters have slid vertically against each other.\n            Supersmushing continues until any sub-characters other\n            than \"|\" would have to be smushed.  Supersmushing can\n            produce impressive results, but it is seldom possible,\n            since other sub-characters would usually have to be\n            considered for smushing as soon as any such stacked\n            vertical lines are encountered.\n    */\n  function vRule5_Smush(ch1, ch2) {\n    if (ch1 === \"|\" && ch2 === \"|\") {\n      return \"|\";\n    }\n    return false;\n  }\n\n  /*\n        Universal smushing simply overrides the sub-character from the\n        earlier FIGcharacter with the sub-character from the later\n        FIGcharacter.  This produces an \"overlapping\" effect with some\n        FIGfonts, wherin the latter FIGcharacter may appear to be \"in\n        front\".\n    */\n  function uni_Smush(ch1, ch2, hardBlank) {\n    if (ch2 === \" \" || ch2 === \"\") {\n      return ch1;\n    } else if (ch2 === hardBlank && ch1 !== \" \") {\n      return ch1;\n    } else {\n      return ch2;\n    }\n  }\n\n  // --------------------------------------------------------------------------\n  // main vertical smush routines (excluding rules)\n\n  /*\n        txt1 - A line of text\n        txt2 - A line of text\n        opts - FIGlet options array\n\n        About: Takes in two lines of text and returns one of the following:\n        \"valid\" - These lines can be smushed together given the current smushing rules\n        \"end\" - The lines can be smushed, but we're at a stopping point\n        \"invalid\" - The two lines cannot be smushed together\n    */\n  function canVerticalSmush(txt1, txt2, opts) {\n    if (opts.fittingRules.vLayout === FULL_WIDTH) {\n      return \"invalid\";\n    }\n    let ii,\n      len = Math.min(txt1.length, txt2.length),\n      ch1,\n      ch2,\n      endSmush = false,\n      validSmush;\n    if (len === 0) {\n      return \"invalid\";\n    }\n\n    for (ii = 0; ii < len; ii++) {\n      ch1 = txt1.substring(ii, ii + 1);\n      ch2 = txt2.substring(ii, ii + 1);\n      if (ch1 !== \" \" && ch2 !== \" \") {\n        if (opts.fittingRules.vLayout === FITTING) {\n          return \"invalid\";\n        } else if (opts.fittingRules.vLayout === SMUSHING) {\n          return \"end\";\n        } else {\n          if (vRule5_Smush(ch1, ch2)) {\n            endSmush = endSmush || false;\n            continue;\n          } // rule 5 allow for \"super\" smushing, but only if we're not already ending this smush\n          validSmush = false;\n          validSmush = opts.fittingRules.vRule1\n            ? vRule1_Smush(ch1, ch2)\n            : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule2\n              ? vRule2_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule3\n              ? vRule3_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule4\n              ? vRule4_Smush(ch1, ch2)\n              : validSmush;\n          endSmush = true;\n          if (!validSmush) {\n            return \"invalid\";\n          }\n        }\n      }\n    }\n    if (endSmush) {\n      return \"end\";\n    } else {\n      return \"valid\";\n    }\n  }\n\n  function getVerticalSmushDist(lines1, lines2, opts) {\n    let maxDist = lines1.length;\n    let len1 = lines1.length;\n    let len2 = lines2.length;\n    let subLines1, subLines2, slen;\n    let curDist = 1;\n    let ii, ret, result;\n    while (curDist <= maxDist) {\n      subLines1 = lines1.slice(Math.max(0, len1 - curDist), len1);\n      subLines2 = lines2.slice(0, Math.min(maxDist, curDist));\n\n      slen = subLines2.length; //TODO:check this\n      result = \"\";\n      for (ii = 0; ii < slen; ii++) {\n        ret = canVerticalSmush(subLines1[ii], subLines2[ii], opts);\n        if (ret === \"end\") {\n          result = ret;\n        } else if (ret === \"invalid\") {\n          result = ret;\n          break;\n        } else {\n          if (result === \"\") {\n            result = \"valid\";\n          }\n        }\n      }\n\n      if (result === \"invalid\") {\n        curDist--;\n        break;\n      }\n      if (result === \"end\") {\n        break;\n      }\n      if (result === \"valid\") {\n        curDist++;\n      }\n    }\n\n    return Math.min(maxDist, curDist);\n  }\n\n  function verticallySmushLines(line1, line2, opts) {\n    let ii,\n      len = Math.min(line1.length, line2.length);\n    let ch1,\n      ch2,\n      result = \"\",\n      validSmush;\n\n    for (ii = 0; ii < len; ii++) {\n      ch1 = line1.substring(ii, ii + 1);\n      ch2 = line2.substring(ii, ii + 1);\n      if (ch1 !== \" \" && ch2 !== \" \") {\n        if (opts.fittingRules.vLayout === FITTING) {\n          result += uni_Smush(ch1, ch2);\n        } else if (opts.fittingRules.vLayout === SMUSHING) {\n          result += uni_Smush(ch1, ch2);\n        } else {\n          validSmush = false;\n          validSmush = opts.fittingRules.vRule5\n            ? vRule5_Smush(ch1, ch2)\n            : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule1\n              ? vRule1_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule2\n              ? vRule2_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule3\n              ? vRule3_Smush(ch1, ch2)\n              : validSmush;\n          validSmush =\n            !validSmush && opts.fittingRules.vRule4\n              ? vRule4_Smush(ch1, ch2)\n              : validSmush;\n          result += validSmush;\n        }\n      } else {\n        result += uni_Smush(ch1, ch2);\n      }\n    }\n    return result;\n  }\n\n  function verticalSmush(lines1, lines2, overlap, opts) {\n    let len1 = lines1.length;\n    let len2 = lines2.length;\n    let piece1 = lines1.slice(0, Math.max(0, len1 - overlap));\n    let piece2_1 = lines1.slice(Math.max(0, len1 - overlap), len1);\n    let piece2_2 = lines2.slice(0, Math.min(overlap, len2));\n    let ii,\n      len,\n      line,\n      piece2 = [],\n      piece3,\n      result = [];\n\n    len = piece2_1.length;\n    for (ii = 0; ii < len; ii++) {\n      if (ii >= len2) {\n        line = piece2_1[ii];\n      } else {\n        line = verticallySmushLines(piece2_1[ii], piece2_2[ii], opts);\n      }\n      piece2.push(line);\n    }\n\n    piece3 = lines2.slice(Math.min(overlap, len2), len2);\n\n    return result.concat(piece1, piece2, piece3);\n  }\n\n  function padLines(lines, numSpaces) {\n    let ii,\n      len = lines.length,\n      padding = \"\";\n    for (ii = 0; ii < numSpaces; ii++) {\n      padding += \" \";\n    }\n    for (ii = 0; ii < len; ii++) {\n      lines[ii] += padding;\n    }\n  }\n\n  function smushVerticalFigLines(output, lines, opts) {\n    let len1 = output[0].length;\n    let len2 = lines[0].length;\n    let overlap;\n    if (len1 > len2) {\n      padLines(lines, len1 - len2);\n    } else if (len2 > len1) {\n      padLines(output, len2 - len1);\n    }\n    overlap = getVerticalSmushDist(output, lines, opts);\n    return verticalSmush(output, lines, overlap, opts);\n  }\n\n  // -------------------------------------------------------------------------\n  // Main horizontal smush routines (excluding rules)\n\n  function getHorizontalSmushLength(txt1, txt2, opts) {\n    if (opts.fittingRules.hLayout === FULL_WIDTH) {\n      return 0;\n    }\n    let ii,\n      len1 = txt1.length,\n      len2 = txt2.length;\n    let maxDist = len1;\n    let curDist = 1;\n    let breakAfter = false;\n    let validSmush = false;\n    let seg1, seg2, ch1, ch2;\n    if (len1 === 0) {\n      return 0;\n    }\n\n    distCal: while (curDist <= maxDist) {\n      const seg1StartPos = len1 - curDist;\n      seg1 = txt1.substring(seg1StartPos, seg1StartPos + curDist);\n      seg2 = txt2.substring(0, Math.min(curDist, len2));\n      for (ii = 0; ii < Math.min(curDist, len2); ii++) {\n        ch1 = seg1.substring(ii, ii + 1);\n        ch2 = seg2.substring(ii, ii + 1);\n        if (ch1 !== \" \" && ch2 !== \" \") {\n          if (opts.fittingRules.hLayout === FITTING) {\n            curDist = curDist - 1;\n            break distCal;\n          } else if (opts.fittingRules.hLayout === SMUSHING) {\n            if (ch1 === opts.hardBlank || ch2 === opts.hardBlank) {\n              curDist = curDist - 1; // universal smushing does not smush hardblanks\n            }\n            break distCal;\n          } else {\n            breakAfter = true; // we know we need to break, but we need to check if our smushing rules will allow us to smush the overlapped characters\n            validSmush = false; // the below checks will let us know if we can smush these characters\n\n            validSmush = opts.fittingRules.hRule1\n              ? hRule1_Smush(ch1, ch2, opts.hardBlank)\n              : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule2\n                ? hRule2_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule3\n                ? hRule3_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule4\n                ? hRule4_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule5\n                ? hRule5_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n            validSmush =\n              !validSmush && opts.fittingRules.hRule6\n                ? hRule6_Smush(ch1, ch2, opts.hardBlank)\n                : validSmush;\n\n            if (!validSmush) {\n              curDist = curDist - 1;\n              break distCal;\n            }\n          }\n        }\n      }\n      if (breakAfter) {\n        break;\n      }\n      curDist++;\n    }\n    return Math.min(maxDist, curDist);\n  }\n\n  function horizontalSmush(textBlock1, textBlock2, overlap, opts) {\n    let ii,\n      jj,\n      outputFig = [],\n      overlapStart,\n      piece1,\n      piece2,\n      piece3,\n      len1,\n      len2,\n      txt1,\n      txt2;\n\n    for (ii = 0; ii < opts.height; ii++) {\n      txt1 = textBlock1[ii];\n      txt2 = textBlock2[ii];\n      len1 = txt1.length;\n      len2 = txt2.length;\n      overlapStart = len1 - overlap;\n      piece1 = txt1.substr(0, Math.max(0, overlapStart));\n      piece2 = \"\";\n\n      // determine overlap piece\n      const seg1StartPos = Math.max(0, len1 - overlap);\n      var seg1 = txt1.substring(seg1StartPos, seg1StartPos + overlap);\n      var seg2 = txt2.substring(0, Math.min(overlap, len2));\n\n      for (jj = 0; jj < overlap; jj++) {\n        var ch1 = jj < len1 ? seg1.substring(jj, jj + 1) : \" \";\n        var ch2 = jj < len2 ? seg2.substring(jj, jj + 1) : \" \";\n\n        if (ch1 !== \" \" && ch2 !== \" \") {\n          if (opts.fittingRules.hLayout === FITTING) {\n            piece2 += uni_Smush(ch1, ch2, opts.hardBlank);\n          } else if (opts.fittingRules.hLayout === SMUSHING) {\n            piece2 += uni_Smush(ch1, ch2, opts.hardBlank);\n          } else {\n            // Controlled Smushing\n            var nextCh = \"\";\n            nextCh =\n              !nextCh && opts.fittingRules.hRule1\n                ? hRule1_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule2\n                ? hRule2_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule3\n                ? hRule3_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule4\n                ? hRule4_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule5\n                ? hRule5_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh =\n              !nextCh && opts.fittingRules.hRule6\n                ? hRule6_Smush(ch1, ch2, opts.hardBlank)\n                : nextCh;\n            nextCh = nextCh || uni_Smush(ch1, ch2, opts.hardBlank);\n            piece2 += nextCh;\n          }\n        } else {\n          piece2 += uni_Smush(ch1, ch2, opts.hardBlank);\n        }\n      }\n\n      if (overlap >= len2) {\n        piece3 = \"\";\n      } else {\n        piece3 = txt2.substring(overlap, overlap + Math.max(0, len2 - overlap));\n      }\n      outputFig[ii] = piece1 + piece2 + piece3;\n    }\n    return outputFig;\n  }\n\n  /*\n        Creates new empty ASCII placeholder of give len\n        - len - number\n    */\n  function newFigChar(len) {\n    let outputFigText = [],\n      row;\n    for (row = 0; row < len; row++) {\n      outputFigText[row] = \"\";\n    }\n    return outputFigText;\n  }\n\n  /*\n        Return max line of the ASCII Art\n        - text is array of lines for text\n        - char is next character\n     */\n  const figLinesWidth = function (textLines) {\n    return Math.max.apply(\n      Math,\n      textLines.map(function (line, i) {\n        return line.length;\n      })\n    );\n  };\n\n  /*\n       join words or single characaters into single Fig line\n       - array - array of ASCII words or single characters: {fig: array, overlap: number}\n       - len - height of the Characters (number of rows)\n       - opt - options object\n    */\n  function joinFigArray(array, len, opts) {\n    return array.reduce(function (acc, data) {\n      return horizontalSmush(acc, data.fig, data.overlap, opts);\n    }, newFigChar(len));\n  }\n\n  /*\n       break long word return leftover characters and line before the break\n       - figChars - list of single ASCII characters in form {fig, overlap}\n       - len - number of rows\n       - opt - options object\n    */\n  function breakWord(figChars, len, opts) {\n    const result = {};\n    for (let i = figChars.length; --i; ) {\n      let w = joinFigArray(figChars.slice(0, i), len, opts);\n      if (figLinesWidth(w) <= opts.width) {\n        result.outputFigText = w;\n        if (i < figChars.length) {\n          result.chars = figChars.slice(i);\n        } else {\n          result.chars = [];\n        }\n        break;\n      }\n    }\n    return result;\n  }\n\n  function generateFigTextLines(txt, figChars, opts) {\n    let charIndex,\n      figChar,\n      overlap = 0,\n      row,\n      outputFigText,\n      len,\n      height = opts.height,\n      outputFigLines = [],\n      maxWidth,\n      nextFigChars,\n      figWords = [],\n      char,\n      isSpace,\n      textFigWord,\n      textFigLine,\n      tmpBreak;\n\n    outputFigText = newFigChar(height);\n    if (opts.width > 0 && opts.whitespaceBreak) {\n      // list of characters is used to break in the middle of the word when word is logner\n      // chars is array of characters with {fig, overlap} and overlap is for whole word\n      nextFigChars = {\n        chars: [],\n        overlap: overlap,\n      };\n    }\n    if (opts.printDirection === 1) {\n      txt = txt.split(\"\").reverse().join(\"\");\n    }\n    len = txt.length;\n    for (charIndex = 0; charIndex < len; charIndex++) {\n      char = txt.substring(charIndex, charIndex + 1);\n      isSpace = char.match(/\\s/);\n      figChar = figChars[char.charCodeAt(0)];\n      textFigLine = null;\n      if (figChar) {\n        if (opts.fittingRules.hLayout !== FULL_WIDTH) {\n          overlap = 10000; // a value too high to be the overlap\n          for (row = 0; row < opts.height; row++) {\n            overlap = Math.min(\n              overlap,\n              getHorizontalSmushLength(outputFigText[row], figChar[row], opts)\n            );\n          }\n          overlap = overlap === 10000 ? 0 : overlap;\n        }\n        if (opts.width > 0) {\n          if (opts.whitespaceBreak) {\n            // next character in last word (figChars have same data as words)\n            textFigWord = joinFigArray(\n              nextFigChars.chars.concat([\n                {\n                  fig: figChar,\n                  overlap: overlap,\n                },\n              ]),\n              height,\n              opts\n            );\n            textFigLine = joinFigArray(\n              figWords.concat([\n                {\n                  fig: textFigWord,\n                  overlap: nextFigChars.overlap,\n                },\n              ]),\n              height,\n              opts\n            );\n            maxWidth = figLinesWidth(textFigLine);\n          } else {\n            textFigLine = horizontalSmush(\n              outputFigText,\n              figChar,\n              overlap,\n              opts\n            );\n            maxWidth = figLinesWidth(textFigLine);\n          }\n          if (maxWidth >= opts.width && charIndex > 0) {\n            if (opts.whitespaceBreak) {\n              outputFigText = joinFigArray(figWords.slice(0, -1), height, opts);\n              if (figWords.length > 1) {\n                outputFigLines.push(outputFigText);\n                outputFigText = newFigChar(height);\n              }\n              figWords = [];\n            } else {\n              outputFigLines.push(outputFigText);\n              outputFigText = newFigChar(height);\n            }\n          }\n        }\n        if (opts.width > 0 && opts.whitespaceBreak) {\n          if (!isSpace || charIndex === len - 1) {\n            nextFigChars.chars.push({ fig: figChar, overlap: overlap });\n          }\n          if (isSpace || charIndex === len - 1) {\n            // break long words\n            tmpBreak = null;\n            while (true) {\n              textFigLine = joinFigArray(nextFigChars.chars, height, opts);\n              maxWidth = figLinesWidth(textFigLine);\n              if (maxWidth >= opts.width) {\n                tmpBreak = breakWord(nextFigChars.chars, height, opts);\n                nextFigChars = { chars: tmpBreak.chars };\n                outputFigLines.push(tmpBreak.outputFigText);\n              } else {\n                break;\n              }\n            }\n            // any leftovers\n            if (maxWidth > 0) {\n              if (tmpBreak) {\n                figWords.push({ fig: textFigLine, overlap: 1 });\n              } else {\n                figWords.push({\n                  fig: textFigLine,\n                  overlap: nextFigChars.overlap,\n                });\n              }\n            }\n            // save space character and current overlap for smush in joinFigWords\n            if (isSpace) {\n              figWords.push({ fig: figChar, overlap: overlap });\n              outputFigText = newFigChar(height);\n            }\n            if (charIndex === len - 1) {\n              // last line\n              outputFigText = joinFigArray(figWords, height, opts);\n            }\n            nextFigChars = {\n              chars: [],\n              overlap: overlap,\n            };\n            continue;\n          }\n        }\n        outputFigText = horizontalSmush(outputFigText, figChar, overlap, opts);\n      }\n    }\n    // special case when last line would be empty\n    // this may happen if text fit exactly opt.width\n    if (figLinesWidth(outputFigText) > 0) {\n      outputFigLines.push(outputFigText);\n    }\n    // remove hardblanks\n    if (opts.showHardBlanks !== true) {\n      outputFigLines.forEach(function (outputFigText) {\n        len = outputFigText.length;\n        for (row = 0; row < len; row++) {\n          outputFigText[row] = outputFigText[row].replace(\n            new RegExp(\"\\\\\" + opts.hardBlank, \"g\"),\n            \" \"\n          );\n        }\n      });\n    }\n    return outputFigLines;\n  }\n\n  // -------------------------------------------------------------------------\n  // Parsing and Generation methods\n\n  const getHorizontalFittingRules = function (layout, options) {\n    let props = [\n        \"hLayout\",\n        \"hRule1\",\n        \"hRule2\",\n        \"hRule3\",\n        \"hRule4\",\n        \"hRule5\",\n        \"hRule6\",\n      ],\n      params = {},\n      ii;\n    if (layout === \"default\") {\n      for (ii = 0; ii < props.length; ii++) {\n        params[props[ii]] = options.fittingRules[props[ii]];\n      }\n    } else if (layout === \"full\") {\n      params = {\n        hLayout: FULL_WIDTH,\n        hRule1: false,\n        hRule2: false,\n        hRule3: false,\n        hRule4: false,\n        hRule5: false,\n        hRule6: false,\n      };\n    } else if (layout === \"fitted\") {\n      params = {\n        hLayout: FITTING,\n        hRule1: false,\n        hRule2: false,\n        hRule3: false,\n        hRule4: false,\n        hRule5: false,\n        hRule6: false,\n      };\n    } else if (layout === \"controlled smushing\") {\n      params = {\n        hLayout: CONTROLLED_SMUSHING,\n        hRule1: true,\n        hRule2: true,\n        hRule3: true,\n        hRule4: true,\n        hRule5: true,\n        hRule6: true,\n      };\n    } else if (layout === \"universal smushing\") {\n      params = {\n        hLayout: SMUSHING,\n        hRule1: false,\n        hRule2: false,\n        hRule3: false,\n        hRule4: false,\n        hRule5: false,\n        hRule6: false,\n      };\n    } else {\n      return;\n    }\n    return params;\n  };\n\n  const getVerticalFittingRules = function (layout, options) {\n    let props = [\"vLayout\", \"vRule1\", \"vRule2\", \"vRule3\", \"vRule4\", \"vRule5\"],\n      params = {},\n      ii;\n    if (layout === \"default\") {\n      for (ii = 0; ii < props.length; ii++) {\n        params[props[ii]] = options.fittingRules[props[ii]];\n      }\n    } else if (layout === \"full\") {\n      params = {\n        vLayout: FULL_WIDTH,\n        vRule1: false,\n        vRule2: false,\n        vRule3: false,\n        vRule4: false,\n        vRule5: false,\n      };\n    } else if (layout === \"fitted\") {\n      params = {\n        vLayout: FITTING,\n        vRule1: false,\n        vRule2: false,\n        vRule3: false,\n        vRule4: false,\n        vRule5: false,\n      };\n    } else if (layout === \"controlled smushing\") {\n      params = {\n        vLayout: CONTROLLED_SMUSHING,\n        vRule1: true,\n        vRule2: true,\n        vRule3: true,\n        vRule4: true,\n        vRule5: true,\n      };\n    } else if (layout === \"universal smushing\") {\n      params = {\n        vLayout: SMUSHING,\n        vRule1: false,\n        vRule2: false,\n        vRule3: false,\n        vRule4: false,\n        vRule5: false,\n      };\n    } else {\n      return;\n    }\n    return params;\n  };\n\n  /*\n        Generates the ASCII Art\n        - fontName: Font to use\n        - option: Options to override the defaults\n        - txt: The text to make into ASCII Art\n    */\n  const generateText = function (fontName, options, txt) {\n    txt = txt.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n    let lines = txt.split(\"\\n\");\n    let figLines = [];\n    let ii, len, output;\n    len = lines.length;\n    for (ii = 0; ii < len; ii++) {\n      figLines = figLines.concat(\n        generateFigTextLines(lines[ii], figFonts[fontName], options)\n      );\n    }\n    len = figLines.length;\n    output = figLines[0];\n    for (ii = 1; ii < len; ii++) {\n      output = smushVerticalFigLines(output, figLines[ii], options);\n    }\n\n    return output ? output.join(\"\\n\") : \"\";\n  };\n\n  /*\n      takes assigned options and merges them with the default options from the choosen font\n     */\n  function _reworkFontOpts(fontOpts, options) {\n    let myOpts = JSON.parse(JSON.stringify(fontOpts)), // make a copy because we may edit this (see below)\n      params,\n      prop;\n\n    /*\n         If the user is chosing to use a specific type of layout (e.g., 'full', 'fitted', etc etc)\n         Then we need to override the default font options.\n         */\n    if (typeof options.horizontalLayout !== \"undefined\") {\n      params = getHorizontalFittingRules(options.horizontalLayout, fontOpts);\n      for (prop in params) {\n        if (params.hasOwnProperty(prop)) {\n          myOpts.fittingRules[prop] = params[prop];\n        }\n      }\n    }\n    if (typeof options.verticalLayout !== \"undefined\") {\n      params = getVerticalFittingRules(options.verticalLayout, fontOpts);\n      for (prop in params) {\n        if (params.hasOwnProperty(prop)) {\n          myOpts.fittingRules[prop] = params[prop];\n        }\n      }\n    }\n    myOpts.printDirection =\n      typeof options.printDirection !== \"undefined\"\n        ? options.printDirection\n        : fontOpts.printDirection;\n    myOpts.showHardBlanks = options.showHardBlanks || false;\n    myOpts.width = options.width || -1;\n    myOpts.whitespaceBreak = options.whitespaceBreak || false;\n\n    return myOpts;\n  }\n\n  // -------------------------------------------------------------------------\n  // Public methods\n\n  /*\n        A short-cut for the figlet.text method\n\n        Parameters:\n        - txt (string): The text to make into ASCII Art\n        - options (object/string - optional): Options that will override the current font's default options.\n          If a string is provided instead of an object, it is assumed to be the font name.\n\n            * font\n            * horizontalLayout\n            * verticalLayout\n            * showHardBlanks - Wont remove hardblank characters\n\n        - next (function): A callback function, it will contained the outputted ASCII Art.\n    */\n  const me = function (txt, options, next) {\n    return me.text(txt, options, next);\n  };\n  me.text = async function (txt, options, next) {\n    let fontName = \"\";\n\n    // Validate inputs\n    txt = txt + \"\";\n\n    if (typeof arguments[1] === \"function\") {\n      next = options;\n      options = {};\n      options.font = figDefaults.font; // default font\n    }\n\n    if (typeof options === \"string\") {\n      fontName = options;\n      options = {};\n    } else {\n      options = options || {};\n      fontName = options.font || figDefaults.font;\n    }\n\n    return await new Promise((resolve, reject) => {\n      /*\n          Load the font. If it loads, it's data will be contained in the figFonts object.\n          The callback will recieve a fontsOpts object, which contains the default\n          options of the font (its fitting rules, etc etc).\n      */\n      me.loadFont(fontName, function (err, fontOpts) {\n        if (err) {\n          reject(err);\n          if (next) next(err);\n          return;\n        }\n\n        const generatedTxt = generateText(\n          fontName,\n          _reworkFontOpts(fontOpts, options),\n          txt\n        );\n\n        resolve(generatedTxt);\n        if (next) next(null, generatedTxt);\n      });\n    });\n  };\n\n  /*\n        Synchronous version of figlet.text.\n        Accepts the same parameters.\n     */\n  me.textSync = function (txt, options) {\n    let fontName = \"\";\n\n    // Validate inputs\n    txt = txt + \"\";\n\n    if (typeof options === \"string\") {\n      fontName = options;\n      options = {};\n    } else {\n      options = options || {};\n      fontName = options.font || figDefaults.font;\n    }\n\n    var fontOpts = _reworkFontOpts(me.loadFontSync(fontName), options);\n    return generateText(fontName, fontOpts, txt);\n  };\n\n  /*\n        Returns metadata about a specfic FIGlet font.\n\n        Returns:\n            next(err, options, headerComment)\n            - err: The error if an error occurred, otherwise null/falsey.\n            - options (object): The options defined for the font.\n            - headerComment (string): The font's header comment.\n    */\n  me.metadata = function (fontName, next) {\n    fontName = fontName + \"\";\n\n    /*\n            Load the font. If it loads, it's data will be contained in the figFonts object.\n            The callback will recieve a fontsOpts object, which contains the default\n            options of the font (its fitting rules, etc etc).\n        */\n    return new Promise(function(resolve, reject) {\n      me.loadFont(fontName, function (err, fontOpts) {\n        if (err) {\n          if (next) next(err);\n          reject(err);\n          return;\n        }\n\n        if (next) {\n          next(null, fontOpts, figFonts[fontName].comment);\n        }\n        resolve([fontOpts, figFonts[fontName].comment]);\n      });\n    });\n  };\n\n  /*\n        Allows you to override defaults. See the definition of the figDefaults object up above\n        to see what properties can be overridden.\n        Returns the options for the font.\n    */\n  me.defaults = function (opts) {\n    if (typeof opts === \"object\" && opts !== null) {\n      for (var prop in opts) {\n        if (opts.hasOwnProperty(prop)) {\n          figDefaults[prop] = opts[prop];\n        }\n      }\n    }\n    return JSON.parse(JSON.stringify(figDefaults));\n  };\n\n  /*\n        Parses data from a FIGlet font file and places it into the figFonts object.\n    */\n  me.parseFont = function (fontName, data) {\n    data = data.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\n    figFonts[fontName] = {};\n\n    var lines = data.split(\"\\n\");\n    var headerData = lines.splice(0, 1)[0].split(\" \");\n    var figFont = figFonts[fontName];\n    var opts = {};\n\n    opts.hardBlank = headerData[0].substr(5, 1);\n    opts.height = parseInt(headerData[1], 10);\n    opts.baseline = parseInt(headerData[2], 10);\n    opts.maxLength = parseInt(headerData[3], 10);\n    opts.oldLayout = parseInt(headerData[4], 10);\n    opts.numCommentLines = parseInt(headerData[5], 10);\n    opts.printDirection =\n      headerData.length >= 6 ? parseInt(headerData[6], 10) : 0;\n    opts.fullLayout =\n      headerData.length >= 7 ? parseInt(headerData[7], 10) : null;\n    opts.codeTagCount =\n      headerData.length >= 8 ? parseInt(headerData[8], 10) : null;\n    opts.fittingRules = getSmushingRules(opts.oldLayout, opts.fullLayout);\n\n    figFont.options = opts;\n\n    // error check\n    if (\n      opts.hardBlank.length !== 1 ||\n      isNaN(opts.height) ||\n      isNaN(opts.baseline) ||\n      isNaN(opts.maxLength) ||\n      isNaN(opts.oldLayout) ||\n      isNaN(opts.numCommentLines)\n    ) {\n      throw new Error(\"FIGlet header contains invalid values.\");\n    }\n\n    /*\n            All FIGlet fonts must contain chars 32-126, 196, 214, 220, 228, 246, 252, 223\n        */\n\n    let charNums = [],\n      ii;\n    for (ii = 32; ii <= 126; ii++) {\n      charNums.push(ii);\n    }\n    charNums = charNums.concat(196, 214, 220, 228, 246, 252, 223);\n\n    // error check - validate that there are enough lines in the file\n    if (lines.length < opts.numCommentLines + opts.height * charNums.length) {\n      throw new Error(\"FIGlet file is missing data.\");\n    }\n\n    /*\n            Parse out the context of the file and put it into our figFont object\n        */\n\n    let cNum,\n      endCharRegEx,\n      parseError = false;\n\n    figFont.comment = lines.splice(0, opts.numCommentLines).join(\"\\n\");\n    figFont.numChars = 0;\n\n    while (lines.length > 0 && figFont.numChars < charNums.length) {\n      cNum = charNums[figFont.numChars];\n      figFont[cNum] = lines.splice(0, opts.height);\n      // remove end sub-chars\n      for (ii = 0; ii < opts.height; ii++) {\n        if (typeof figFont[cNum][ii] === \"undefined\") {\n          figFont[cNum][ii] = \"\";\n        } else {\n          endCharRegEx = new RegExp(\n            \"\\\\\" +\n              figFont[cNum][ii].substr(figFont[cNum][ii].length - 1, 1) +\n              \"+$\"\n          );\n          figFont[cNum][ii] = figFont[cNum][ii].replace(endCharRegEx, \"\");\n        }\n      }\n      figFont.numChars++;\n    }\n\n    /*\n            Now we check to see if any additional characters are present\n        */\n\n    while (lines.length > 0) {\n      cNum = lines.splice(0, 1)[0].split(\" \")[0];\n      if (/^0[xX][0-9a-fA-F]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 16);\n      } else if (/^0[0-7]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 8);\n      } else if (/^[0-9]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 10);\n      } else if (/^-0[xX][0-9a-fA-F]+$/.test(cNum)) {\n        cNum = parseInt(cNum, 16);\n      } else {\n        if (cNum === \"\") {\n          break;\n        }\n        // something's wrong\n        console.log(\"Invalid data:\" + cNum);\n        parseError = true;\n        break;\n      }\n\n      figFont[cNum] = lines.splice(0, opts.height);\n      // remove end sub-chars\n      for (ii = 0; ii < opts.height; ii++) {\n        if (typeof figFont[cNum][ii] === \"undefined\") {\n          figFont[cNum][ii] = \"\";\n        } else {\n          endCharRegEx = new RegExp(\n            \"\\\\\" +\n              figFont[cNum][ii].substr(figFont[cNum][ii].length - 1, 1) +\n              \"+$\"\n          );\n          figFont[cNum][ii] = figFont[cNum][ii].replace(endCharRegEx, \"\");\n        }\n      }\n      figFont.numChars++;\n    }\n\n    // error check\n    if (parseError === true) {\n      throw new Error(\"Error parsing data.\");\n    }\n\n    return opts;\n  };\n\n  /*\n        Loads a font.\n    */\n  me.loadFont = function (fontName, next) {\n    if (figFonts[fontName]) {\n      if (next) {\n        next(null, figFonts[fontName].options);\n      }\n      return Promise.resolve();\n    }\n\n    if (typeof fetch !== \"function\") {\n      console.error(\n        \"figlet.js requires the fetch API or a fetch polyfill such as https://cdnjs.com/libraries/fetch\"\n      );\n      throw new Error(\"fetch is required for figlet.js to work.\");\n    }\n\n    return fetch(figDefaults.fontPath + \"/\" + fontName + \".flf\")\n      .then(function (response) {\n        if (response.ok) {\n          return response.text();\n        }\n\n        console.log(\"Unexpected response\", response);\n        throw new Error(\"Network response was not ok.\");\n      })\n      .then(function (text) {\n        if (next) {\n          next(null, me.parseFont(fontName, text));\n        }\n      })\n      .catch(next);\n  };\n\n  /*\n        loads a font synchronously, not implemented for the browser\n     */\n  me.loadFontSync = function (name) {\n    if (figFonts[name]) {\n      return figFonts[name].options;\n    }\n    throw new Error(\n      \"synchronous font loading is not implemented for the browser\"\n    );\n  };\n\n  /*\n        preloads a list of fonts prior to using textSync\n        - fonts: an array of font names (i.e. [\"Standard\",\"Soft\"])\n        - next: callback function\n     */\n  me.preloadFonts = function (fonts, next) {\n    let fontData = [];\n\n    return fonts\n      .reduce(function (promise, name) {\n        return promise.then(function () {\n          return fetch(figDefaults.fontPath + \"/\" + name + \".flf\")\n            .then((response) => {\n              return response.text();\n            })\n            .then(function (data) {\n              fontData.push(data);\n            });\n        });\n      }, Promise.resolve())\n      .then(function (res) {\n        for (var i in fonts) {\n          if (fonts.hasOwnProperty(i)) {\n            me.parseFont(fonts[i], fontData[i]);\n          }\n        }\n\n        if (next) next();\n      });\n  };\n\n  me.figFonts = figFonts;\n\n  return me;\n})();\n\n// for node.js\nif (typeof module !== \"undefined\") {\n  if (typeof module.exports !== \"undefined\") {\n    module.exports = figlet;\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RFC3986 = exports.RFC1738 = exports.formatters = exports.default_format = void 0;\nexports.default_format = 'RFC3986';\nexports.formatters = {\n    RFC1738: (v) => String(v).replace(/%20/g, '+'),\n    RFC3986: (v) => String(v),\n};\nexports.RFC1738 = 'RFC1738';\nexports.RFC3986 = 'RFC3986';\n//# sourceMappingURL=formats.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.maybe_map = exports.combine = exports.is_buffer = exports.is_regexp = exports.compact = exports.encode = exports.decode = exports.assign_single_source = exports.merge = void 0;\nconst formats_1 = require(\"./formats.js\");\nconst has = Object.prototype.hasOwnProperty;\nconst is_array = Array.isArray;\nconst hex_table = (() => {\n    const array = [];\n    for (let i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n    return array;\n})();\nfunction compact_queue(queue) {\n    while (queue.length > 1) {\n        const item = queue.pop();\n        if (!item)\n            continue;\n        const obj = item.obj[item.prop];\n        if (is_array(obj)) {\n            const compacted = [];\n            for (let j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n            // @ts-ignore\n            item.obj[item.prop] = compacted;\n        }\n    }\n}\nfunction array_to_object(source, options) {\n    const obj = options && options.plainObjects ? Object.create(null) : {};\n    for (let i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n    return obj;\n}\nfunction merge(target, source, options = {}) {\n    if (!source) {\n        return target;\n    }\n    if (typeof source !== 'object') {\n        if (is_array(target)) {\n            target.push(source);\n        }\n        else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) ||\n                !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        }\n        else {\n            return [target, source];\n        }\n        return target;\n    }\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n    let mergeTarget = target;\n    if (is_array(target) && !is_array(source)) {\n        // @ts-ignore\n        mergeTarget = array_to_object(target, options);\n    }\n    if (is_array(target) && is_array(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                const targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                }\n                else {\n                    target.push(item);\n                }\n            }\n            else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n    return Object.keys(source).reduce(function (acc, key) {\n        const value = source[key];\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        }\n        else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n}\nexports.merge = merge;\nfunction assign_single_source(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n}\nexports.assign_single_source = assign_single_source;\nfunction decode(str, _, charset) {\n    const strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    }\n    catch (e) {\n        return strWithoutPlus;\n    }\n}\nexports.decode = decode;\nconst limit = 1024;\nconst encode = (str, _defaultEncoder, charset, _kind, format) => {\n    // This code was originally written by Brian White for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n    let string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    }\n    else if (typeof str !== 'string') {\n        string = String(str);\n    }\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n    let out = '';\n    for (let j = 0; j < string.length; j += limit) {\n        const segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        const arr = [];\n        for (let i = 0; i < segment.length; ++i) {\n            let c = segment.charCodeAt(i);\n            if (c === 0x2d || // -\n                c === 0x2e || // .\n                c === 0x5f || // _\n                c === 0x7e || // ~\n                (c >= 0x30 && c <= 0x39) || // 0-9\n                (c >= 0x41 && c <= 0x5a) || // a-z\n                (c >= 0x61 && c <= 0x7a) || // A-Z\n                (format === formats_1.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n            if (c < 0x80) {\n                arr[arr.length] = hex_table[c];\n                continue;\n            }\n            if (c < 0x800) {\n                arr[arr.length] = hex_table[0xc0 | (c >> 6)] + hex_table[0x80 | (c & 0x3f)];\n                continue;\n            }\n            if (c < 0xd800 || c >= 0xe000) {\n                arr[arr.length] =\n                    hex_table[0xe0 | (c >> 12)] + hex_table[0x80 | ((c >> 6) & 0x3f)] + hex_table[0x80 | (c & 0x3f)];\n                continue;\n            }\n            i += 1;\n            c = 0x10000 + (((c & 0x3ff) << 10) | (segment.charCodeAt(i) & 0x3ff));\n            arr[arr.length] =\n                hex_table[0xf0 | (c >> 18)] +\n                    hex_table[0x80 | ((c >> 12) & 0x3f)] +\n                    hex_table[0x80 | ((c >> 6) & 0x3f)] +\n                    hex_table[0x80 | (c & 0x3f)];\n        }\n        out += arr.join('');\n    }\n    return out;\n};\nexports.encode = encode;\nfunction compact(value) {\n    const queue = [{ obj: { o: value }, prop: 'o' }];\n    const refs = [];\n    for (let i = 0; i < queue.length; ++i) {\n        const item = queue[i];\n        // @ts-ignore\n        const obj = item.obj[item.prop];\n        const keys = Object.keys(obj);\n        for (let j = 0; j < keys.length; ++j) {\n            const key = keys[j];\n            const val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n    compact_queue(queue);\n    return value;\n}\nexports.compact = compact;\nfunction is_regexp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\nexports.is_regexp = is_regexp;\nfunction is_buffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n}\nexports.is_buffer = is_buffer;\nfunction combine(a, b) {\n    return [].concat(a, b);\n}\nexports.combine = combine;\nfunction maybe_map(val, fn) {\n    if (is_array(val)) {\n        const mapped = [];\n        for (let i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n}\nexports.maybe_map = maybe_map;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = void 0;\nconst utils_1 = require(\"./utils.js\");\nconst formats_1 = require(\"./formats.js\");\nconst has = Object.prototype.hasOwnProperty;\nconst array_prefix_generators = {\n    brackets(prefix) {\n        return String(prefix) + '[]';\n    },\n    comma: 'comma',\n    indices(prefix, key) {\n        return String(prefix) + '[' + key + ']';\n    },\n    repeat(prefix) {\n        return String(prefix);\n    },\n};\nconst is_array = Array.isArray;\nconst push = Array.prototype.push;\nconst push_to_array = function (arr, value_or_array) {\n    push.apply(arr, is_array(value_or_array) ? value_or_array : [value_or_array]);\n};\nconst to_ISO = Date.prototype.toISOString;\nconst defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: utils_1.encode,\n    encodeValuesOnly: false,\n    format: formats_1.default_format,\n    formatter: formats_1.formatters[formats_1.default_format],\n    /** @deprecated */\n    indices: false,\n    serializeDate(date) {\n        return to_ISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false,\n};\nfunction is_non_nullish_primitive(v) {\n    return (typeof v === 'string' ||\n        typeof v === 'number' ||\n        typeof v === 'boolean' ||\n        typeof v === 'symbol' ||\n        typeof v === 'bigint');\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n    let obj = object;\n    let tmp_sc = sideChannel;\n    let step = 0;\n    let find_flag = false;\n    while ((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag) {\n        // Where object last appeared in the ref tree\n        const pos = tmp_sc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            }\n            else {\n                find_flag = true; // Break while\n            }\n        }\n        if (typeof tmp_sc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    }\n    else if (obj instanceof Date) {\n        obj = serializeDate?.(obj);\n    }\n    else if (generateArrayPrefix === 'comma' && is_array(obj)) {\n        obj = (0, utils_1.maybe_map)(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate?.(value);\n            }\n            return value;\n        });\n    }\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ?\n                // @ts-expect-error\n                encoder(prefix, defaults.encoder, charset, 'key', format)\n                : prefix;\n        }\n        obj = '';\n    }\n    if (is_non_nullish_primitive(obj) || (0, utils_1.is_buffer)(obj)) {\n        if (encoder) {\n            const key_value = encodeValuesOnly ? prefix\n                // @ts-expect-error\n                : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [\n                formatter?.(key_value) +\n                    '=' +\n                    // @ts-expect-error\n                    formatter?.(encoder(obj, defaults.encoder, charset, 'value', format)),\n            ];\n        }\n        return [formatter?.(prefix) + '=' + formatter?.(String(obj))];\n    }\n    const values = [];\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n    let obj_keys;\n    if (generateArrayPrefix === 'comma' && is_array(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            // @ts-expect-error values only\n            obj = (0, utils_1.maybe_map)(obj, encoder);\n        }\n        obj_keys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    }\n    else if (is_array(filter)) {\n        obj_keys = filter;\n    }\n    else {\n        const keys = Object.keys(obj);\n        obj_keys = sort ? keys.sort(sort) : keys;\n    }\n    const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n    const adjusted_prefix = commaRoundTrip && is_array(obj) && obj.length === 1 ? encoded_prefix + '[]' : encoded_prefix;\n    if (allowEmptyArrays && is_array(obj) && obj.length === 0) {\n        return adjusted_prefix + '[]';\n    }\n    for (let j = 0; j < obj_keys.length; ++j) {\n        const key = obj_keys[j];\n        const value = \n        // @ts-ignore\n        typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n        if (skipNulls && value === null) {\n            continue;\n        }\n        // @ts-ignore\n        const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        const key_prefix = is_array(obj) ?\n            typeof generateArrayPrefix === 'function' ?\n                generateArrayPrefix(adjusted_prefix, encoded_key)\n                : adjusted_prefix\n            : adjusted_prefix + (allowDots ? '.' + encoded_key : '[' + encoded_key + ']');\n        sideChannel.set(object, step);\n        const valueSideChannel = new WeakMap();\n        valueSideChannel.set(sentinel, sideChannel);\n        push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, \n        // @ts-ignore\n        generateArrayPrefix === 'comma' && encodeValuesOnly && is_array(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n    }\n    return values;\n}\nfunction normalize_stringify_options(opts = defaults) {\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n    const charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    let format = formats_1.default_format;\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats_1.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    const formatter = formats_1.formatters[format];\n    let filter = defaults.filter;\n    if (typeof opts.filter === 'function' || is_array(opts.filter)) {\n        filter = opts.filter;\n    }\n    let arrayFormat;\n    if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n        arrayFormat = opts.arrayFormat;\n    }\n    else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    }\n    else {\n        arrayFormat = defaults.arrayFormat;\n    }\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    const allowDots = typeof opts.allowDots === 'undefined' ?\n        !!opts.encodeDotInKeys === true ?\n            true\n            : defaults.allowDots\n        : !!opts.allowDots;\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        // @ts-ignore\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        // @ts-ignore\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n    };\n}\nfunction stringify(object, opts = {}) {\n    let obj = object;\n    const options = normalize_stringify_options(opts);\n    let obj_keys;\n    let filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    }\n    else if (is_array(options.filter)) {\n        filter = options.filter;\n        obj_keys = filter;\n    }\n    const keys = [];\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n    const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n    const commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n    if (!obj_keys) {\n        obj_keys = Object.keys(obj);\n    }\n    if (options.sort) {\n        obj_keys.sort(options.sort);\n    }\n    const sideChannel = new WeakMap();\n    for (let i = 0; i < obj_keys.length; ++i) {\n        const key = obj_keys[i];\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        push_to_array(keys, inner_stringify(obj[key], key, \n        // @ts-expect-error\n        generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n    }\n    const joined = keys.join(options.delimiter);\n    let prefix = options.addQueryPrefix === true ? '?' : '';\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        }\n        else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n    return joined.length > 0 ? prefix + joined : '';\n}\nexports.stringify = stringify;\n//# sourceMappingURL=stringify.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formats = exports.stringify = void 0;\nconst formats_1 = require(\"./formats.js\");\nconst formats = {\n    formatters: formats_1.formatters,\n    RFC1738: formats_1.RFC1738,\n    RFC3986: formats_1.RFC3986,\n    default: formats_1.default_format,\n};\nexports.formats = formats;\nvar stringify_1 = require(\"./stringify.js\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return stringify_1.stringify; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VERSION = void 0;\nexports.VERSION = '4.72.0'; // x-release-please-version\n//# sourceMappingURL=version.js.map","export let auto = false;\nexport let kind = undefined;\nexport let fetch = undefined;\nexport let Request = undefined;\nexport let Response = undefined;\nexport let Headers = undefined;\nexport let FormData = undefined;\nexport let Blob = undefined;\nexport let File = undefined;\nexport let ReadableStream = undefined;\nexport let getMultipartRequestOptions = undefined;\nexport let getDefaultAgent = undefined;\nexport let fileFromPath = undefined;\nexport let isFsReadStream = undefined;\nexport function setShims(shims, options = { auto: false }) {\n    if (auto) {\n        throw new Error(`you must \\`import 'openai/shims/${shims.kind}'\\` before importing anything else from openai`);\n    }\n    if (kind) {\n        throw new Error(`can't \\`import 'openai/shims/${shims.kind}'\\` after \\`import 'openai/shims/${kind}'\\``);\n    }\n    auto = options.auto;\n    kind = shims.kind;\n    fetch = shims.fetch;\n    Request = shims.Request;\n    Response = shims.Response;\n    Headers = shims.Headers;\n    FormData = shims.FormData;\n    Blob = shims.Blob;\n    File = shims.File;\n    ReadableStream = shims.ReadableStream;\n    getMultipartRequestOptions = shims.getMultipartRequestOptions;\n    getDefaultAgent = shims.getDefaultAgent;\n    fileFromPath = shims.fileFromPath;\n    isFsReadStream = shims.isFsReadStream;\n}\n//# sourceMappingURL=registry.mjs.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultipartBody = void 0;\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nclass MultipartBody {\n    constructor(body) {\n        this.body = body;\n    }\n    get [Symbol.toStringTag]() {\n        return 'MultipartBody';\n    }\n}\nexports.MultipartBody = MultipartBody;\n//# sourceMappingURL=MultipartBody.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRuntime = void 0;\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nconst MultipartBody_1 = require(\"./MultipartBody.js\");\nfunction getRuntime({ manuallyImported } = {}) {\n    const recommendation = manuallyImported ?\n        `You may need to use polyfills`\n        : `Add one of these imports before your first \\`import … from 'openai'\\`:\n- \\`import 'openai/shims/node'\\` (if you're running on Node)\n- \\`import 'openai/shims/web'\\` (otherwise)\n`;\n    let _fetch, _Request, _Response, _Headers;\n    try {\n        // @ts-ignore\n        _fetch = fetch;\n        // @ts-ignore\n        _Request = Request;\n        // @ts-ignore\n        _Response = Response;\n        // @ts-ignore\n        _Headers = Headers;\n    }\n    catch (error) {\n        throw new Error(`this environment is missing the following Web Fetch API type: ${error.message}. ${recommendation}`);\n    }\n    return {\n        kind: 'web',\n        fetch: _fetch,\n        Request: _Request,\n        Response: _Response,\n        Headers: _Headers,\n        FormData: \n        // @ts-ignore\n        typeof FormData !== 'undefined' ? FormData : (class FormData {\n            // @ts-ignore\n            constructor() {\n                throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${recommendation}`);\n            }\n        }),\n        Blob: typeof Blob !== 'undefined' ? Blob : (class Blob {\n            constructor() {\n                throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${recommendation}`);\n            }\n        }),\n        File: \n        // @ts-ignore\n        typeof File !== 'undefined' ? File : (class File {\n            // @ts-ignore\n            constructor() {\n                throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${recommendation}`);\n            }\n        }),\n        ReadableStream: \n        // @ts-ignore\n        typeof ReadableStream !== 'undefined' ? ReadableStream : (class ReadableStream {\n            // @ts-ignore\n            constructor() {\n                throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${recommendation}`);\n            }\n        }),\n        getMultipartRequestOptions: async (\n        // @ts-ignore\n        form, opts) => ({\n            ...opts,\n            body: new MultipartBody_1.MultipartBody(form),\n        }),\n        getDefaultAgent: (url) => undefined,\n        fileFromPath: () => {\n            throw new Error('The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads');\n        },\n        isFsReadStream: (value) => false,\n    };\n}\nexports.getRuntime = getRuntime;\n//# sourceMappingURL=web-runtime.js.map","/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nconst shims = require('./registry');\nconst auto = require('openai/_shims/auto/runtime');\nif (!shims.kind) shims.setShims(auto.getRuntime(), { auto: true });\nfor (const property of Object.keys(shims)) {\n  Object.defineProperty(exports, property, {\n    get() {\n      return shims[property];\n    },\n  });\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\n__exportStar(require(\"../web-runtime.js\"), exports);\n//# sourceMappingURL=runtime.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContentFilterFinishReasonError = exports.LengthFinishReasonError = exports.InternalServerError = exports.RateLimitError = exports.UnprocessableEntityError = exports.ConflictError = exports.NotFoundError = exports.PermissionDeniedError = exports.AuthenticationError = exports.BadRequestError = exports.APIConnectionTimeoutError = exports.APIConnectionError = exports.APIUserAbortError = exports.APIError = exports.OpenAIError = void 0;\nconst core_1 = require(\"./core.js\");\nclass OpenAIError extends Error {\n}\nexports.OpenAIError = OpenAIError;\nclass APIError extends OpenAIError {\n    constructor(status, error, message, headers) {\n        super(`${APIError.makeMessage(status, error, message)}`);\n        this.status = status;\n        this.headers = headers;\n        this.request_id = headers?.['x-request-id'];\n        const data = error;\n        this.error = data;\n        this.code = data?.['code'];\n        this.param = data?.['param'];\n        this.type = data?.['type'];\n    }\n    static makeMessage(status, error, message) {\n        const msg = error?.message ?\n            typeof error.message === 'string' ?\n                error.message\n                : JSON.stringify(error.message)\n            : error ? JSON.stringify(error)\n                : message;\n        if (status && msg) {\n            return `${status} ${msg}`;\n        }\n        if (status) {\n            return `${status} status code (no body)`;\n        }\n        if (msg) {\n            return msg;\n        }\n        return '(no status code or body)';\n    }\n    static generate(status, errorResponse, message, headers) {\n        if (!status) {\n            return new APIConnectionError({ message, cause: (0, core_1.castToError)(errorResponse) });\n        }\n        const error = errorResponse?.['error'];\n        if (status === 400) {\n            return new BadRequestError(status, error, message, headers);\n        }\n        if (status === 401) {\n            return new AuthenticationError(status, error, message, headers);\n        }\n        if (status === 403) {\n            return new PermissionDeniedError(status, error, message, headers);\n        }\n        if (status === 404) {\n            return new NotFoundError(status, error, message, headers);\n        }\n        if (status === 409) {\n            return new ConflictError(status, error, message, headers);\n        }\n        if (status === 422) {\n            return new UnprocessableEntityError(status, error, message, headers);\n        }\n        if (status === 429) {\n            return new RateLimitError(status, error, message, headers);\n        }\n        if (status >= 500) {\n            return new InternalServerError(status, error, message, headers);\n        }\n        return new APIError(status, error, message, headers);\n    }\n}\nexports.APIError = APIError;\nclass APIUserAbortError extends APIError {\n    constructor({ message } = {}) {\n        super(undefined, undefined, message || 'Request was aborted.', undefined);\n        this.status = undefined;\n    }\n}\nexports.APIUserAbortError = APIUserAbortError;\nclass APIConnectionError extends APIError {\n    constructor({ message, cause }) {\n        super(undefined, undefined, message || 'Connection error.', undefined);\n        this.status = undefined;\n        // in some environments the 'cause' property is already declared\n        // @ts-ignore\n        if (cause)\n            this.cause = cause;\n    }\n}\nexports.APIConnectionError = APIConnectionError;\nclass APIConnectionTimeoutError extends APIConnectionError {\n    constructor({ message } = {}) {\n        super({ message: message ?? 'Request timed out.' });\n    }\n}\nexports.APIConnectionTimeoutError = APIConnectionTimeoutError;\nclass BadRequestError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 400;\n    }\n}\nexports.BadRequestError = BadRequestError;\nclass AuthenticationError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 401;\n    }\n}\nexports.AuthenticationError = AuthenticationError;\nclass PermissionDeniedError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 403;\n    }\n}\nexports.PermissionDeniedError = PermissionDeniedError;\nclass NotFoundError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 404;\n    }\n}\nexports.NotFoundError = NotFoundError;\nclass ConflictError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 409;\n    }\n}\nexports.ConflictError = ConflictError;\nclass UnprocessableEntityError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 422;\n    }\n}\nexports.UnprocessableEntityError = UnprocessableEntityError;\nclass RateLimitError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 429;\n    }\n}\nexports.RateLimitError = RateLimitError;\nclass InternalServerError extends APIError {\n}\nexports.InternalServerError = InternalServerError;\nclass LengthFinishReasonError extends OpenAIError {\n    constructor() {\n        super(`Could not parse response content as the length limit was reached`);\n    }\n}\nexports.LengthFinishReasonError = LengthFinishReasonError;\nclass ContentFilterFinishReasonError extends OpenAIError {\n    constructor() {\n        super(`Could not parse response content as the request was rejected by the content filter`);\n    }\n}\nexports.ContentFilterFinishReasonError = ContentFilterFinishReasonError;\n//# sourceMappingURL=error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LineDecoder = void 0;\nconst error_1 = require(\"../../error.js\");\n/**\n * A re-implementation of httpx's `LineDecoder` in Python that handles incrementally\n * reading lines from text.\n *\n * https://github.com/encode/httpx/blob/920333ea98118e9cf617f246905d7b202510941c/httpx/_decoders.py#L258\n */\nclass LineDecoder {\n    constructor() {\n        this.buffer = [];\n        this.trailingCR = false;\n    }\n    decode(chunk) {\n        let text = this.decodeText(chunk);\n        if (this.trailingCR) {\n            text = '\\r' + text;\n            this.trailingCR = false;\n        }\n        if (text.endsWith('\\r')) {\n            this.trailingCR = true;\n            text = text.slice(0, -1);\n        }\n        if (!text) {\n            return [];\n        }\n        const trailingNewline = LineDecoder.NEWLINE_CHARS.has(text[text.length - 1] || '');\n        let lines = text.split(LineDecoder.NEWLINE_REGEXP);\n        // if there is a trailing new line then the last entry will be an empty\n        // string which we don't care about\n        if (trailingNewline) {\n            lines.pop();\n        }\n        if (lines.length === 1 && !trailingNewline) {\n            this.buffer.push(lines[0]);\n            return [];\n        }\n        if (this.buffer.length > 0) {\n            lines = [this.buffer.join('') + lines[0], ...lines.slice(1)];\n            this.buffer = [];\n        }\n        if (!trailingNewline) {\n            this.buffer = [lines.pop() || ''];\n        }\n        return lines;\n    }\n    decodeText(bytes) {\n        if (bytes == null)\n            return '';\n        if (typeof bytes === 'string')\n            return bytes;\n        // Node:\n        if (typeof Buffer !== 'undefined') {\n            if (bytes instanceof Buffer) {\n                return bytes.toString();\n            }\n            if (bytes instanceof Uint8Array) {\n                return Buffer.from(bytes).toString();\n            }\n            throw new error_1.OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global \"Buffer\" defined, which this library assumes to be Node. Please report this error.`);\n        }\n        // Browser\n        if (typeof TextDecoder !== 'undefined') {\n            if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {\n                this.textDecoder ?? (this.textDecoder = new TextDecoder('utf8'));\n                return this.textDecoder.decode(bytes);\n            }\n            throw new error_1.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);\n        }\n        throw new error_1.OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);\n    }\n    flush() {\n        if (!this.buffer.length && !this.trailingCR) {\n            return [];\n        }\n        const lines = [this.buffer.join('')];\n        this.buffer = [];\n        this.trailingCR = false;\n        return lines;\n    }\n}\nexports.LineDecoder = LineDecoder;\n// prettier-ignore\nLineDecoder.NEWLINE_CHARS = new Set(['\\n', '\\r']);\nLineDecoder.NEWLINE_REGEXP = /\\r\\n|[\\n\\r]/g;\n//# sourceMappingURL=line.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readableStreamAsyncIterable = exports._decodeChunks = exports._iterSSEMessages = exports.Stream = void 0;\nconst index_1 = require(\"./_shims/index.js\");\nconst error_1 = require(\"./error.js\");\nconst line_1 = require(\"./internal/decoders/line.js\");\nconst error_2 = require(\"./error.js\");\nclass Stream {\n    constructor(iterator, controller) {\n        this.iterator = iterator;\n        this.controller = controller;\n    }\n    static fromSSEResponse(response, controller) {\n        let consumed = false;\n        async function* iterator() {\n            if (consumed) {\n                throw new Error('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const sse of _iterSSEMessages(response, controller)) {\n                    if (done)\n                        continue;\n                    if (sse.data.startsWith('[DONE]')) {\n                        done = true;\n                        continue;\n                    }\n                    if (sse.event === null) {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        if (data && data.error) {\n                            throw new error_2.APIError(undefined, data.error, undefined, undefined);\n                        }\n                        yield data;\n                    }\n                    else {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        // TODO: Is this where the error should be thrown?\n                        if (sse.event == 'error') {\n                            throw new error_2.APIError(undefined, data.error, data.message, undefined);\n                        }\n                        yield { event: sse.event, data: data };\n                    }\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === 'AbortError')\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    /**\n     * Generates a Stream from a newline-separated ReadableStream\n     * where each item is a JSON value.\n     */\n    static fromReadableStream(readableStream, controller) {\n        let consumed = false;\n        async function* iterLines() {\n            const lineDecoder = new line_1.LineDecoder();\n            const iter = readableStreamAsyncIterable(readableStream);\n            for await (const chunk of iter) {\n                for (const line of lineDecoder.decode(chunk)) {\n                    yield line;\n                }\n            }\n            for (const line of lineDecoder.flush()) {\n                yield line;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new Error('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const line of iterLines()) {\n                    if (done)\n                        continue;\n                    if (line)\n                        yield JSON.parse(line);\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === 'AbortError')\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    [Symbol.asyncIterator]() {\n        return this.iterator();\n    }\n    /**\n     * Splits the stream into two streams which can be\n     * independently read from at different speeds.\n     */\n    tee() {\n        const left = [];\n        const right = [];\n        const iterator = this.iterator();\n        const teeIterator = (queue) => {\n            return {\n                next: () => {\n                    if (queue.length === 0) {\n                        const result = iterator.next();\n                        left.push(result);\n                        right.push(result);\n                    }\n                    return queue.shift();\n                },\n            };\n        };\n        return [\n            new Stream(() => teeIterator(left), this.controller),\n            new Stream(() => teeIterator(right), this.controller),\n        ];\n    }\n    /**\n     * Converts this stream to a newline-separated ReadableStream of\n     * JSON stringified values in the stream\n     * which can be turned back into a Stream with `Stream.fromReadableStream()`.\n     */\n    toReadableStream() {\n        const self = this;\n        let iter;\n        const encoder = new TextEncoder();\n        return new index_1.ReadableStream({\n            async start() {\n                iter = self[Symbol.asyncIterator]();\n            },\n            async pull(ctrl) {\n                try {\n                    const { value, done } = await iter.next();\n                    if (done)\n                        return ctrl.close();\n                    const bytes = encoder.encode(JSON.stringify(value) + '\\n');\n                    ctrl.enqueue(bytes);\n                }\n                catch (err) {\n                    ctrl.error(err);\n                }\n            },\n            async cancel() {\n                await iter.return?.();\n            },\n        });\n    }\n}\nexports.Stream = Stream;\nasync function* _iterSSEMessages(response, controller) {\n    if (!response.body) {\n        controller.abort();\n        throw new error_1.OpenAIError(`Attempted to iterate over a response with no body`);\n    }\n    const sseDecoder = new SSEDecoder();\n    const lineDecoder = new line_1.LineDecoder();\n    const iter = readableStreamAsyncIterable(response.body);\n    for await (const sseChunk of iterSSEChunks(iter)) {\n        for (const line of lineDecoder.decode(sseChunk)) {\n            const sse = sseDecoder.decode(line);\n            if (sse)\n                yield sse;\n        }\n    }\n    for (const line of lineDecoder.flush()) {\n        const sse = sseDecoder.decode(line);\n        if (sse)\n            yield sse;\n    }\n}\nexports._iterSSEMessages = _iterSSEMessages;\n/**\n * Given an async iterable iterator, iterates over it and yields full\n * SSE chunks, i.e. yields when a double new-line is encountered.\n */\nasync function* iterSSEChunks(iterator) {\n    let data = new Uint8Array();\n    for await (const chunk of iterator) {\n        if (chunk == null) {\n            continue;\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk)\n            : typeof chunk === 'string' ? new TextEncoder().encode(chunk)\n                : chunk;\n        let newData = new Uint8Array(data.length + binaryChunk.length);\n        newData.set(data);\n        newData.set(binaryChunk, data.length);\n        data = newData;\n        let patternIndex;\n        while ((patternIndex = findDoubleNewlineIndex(data)) !== -1) {\n            yield data.slice(0, patternIndex);\n            data = data.slice(patternIndex);\n        }\n    }\n    if (data.length > 0) {\n        yield data;\n    }\n}\nfunction findDoubleNewlineIndex(buffer) {\n    // This function searches the buffer for the end patterns (\\r\\r, \\n\\n, \\r\\n\\r\\n)\n    // and returns the index right after the first occurrence of any pattern,\n    // or -1 if none of the patterns are found.\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for (let i = 0; i < buffer.length - 2; i++) {\n        if (buffer[i] === newline && buffer[i + 1] === newline) {\n            // \\n\\n\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === carriage) {\n            // \\r\\r\n            return i + 2;\n        }\n        if (buffer[i] === carriage &&\n            buffer[i + 1] === newline &&\n            i + 3 < buffer.length &&\n            buffer[i + 2] === carriage &&\n            buffer[i + 3] === newline) {\n            // \\r\\n\\r\\n\n            return i + 4;\n        }\n    }\n    return -1;\n}\nclass SSEDecoder {\n    constructor() {\n        this.event = null;\n        this.data = [];\n        this.chunks = [];\n    }\n    decode(line) {\n        if (line.endsWith('\\r')) {\n            line = line.substring(0, line.length - 1);\n        }\n        if (!line) {\n            // empty line and we didn't previously encounter any messages\n            if (!this.event && !this.data.length)\n                return null;\n            const sse = {\n                event: this.event,\n                data: this.data.join('\\n'),\n                raw: this.chunks,\n            };\n            this.event = null;\n            this.data = [];\n            this.chunks = [];\n            return sse;\n        }\n        this.chunks.push(line);\n        if (line.startsWith(':')) {\n            return null;\n        }\n        let [fieldname, _, value] = partition(line, ':');\n        if (value.startsWith(' ')) {\n            value = value.substring(1);\n        }\n        if (fieldname === 'event') {\n            this.event = value;\n        }\n        else if (fieldname === 'data') {\n            this.data.push(value);\n        }\n        return null;\n    }\n}\n/** This is an internal helper function that's just used for testing */\nfunction _decodeChunks(chunks) {\n    const decoder = new line_1.LineDecoder();\n    const lines = [];\n    for (const chunk of chunks) {\n        lines.push(...decoder.decode(chunk));\n    }\n    return lines;\n}\nexports._decodeChunks = _decodeChunks;\nfunction partition(str, delimiter) {\n    const index = str.indexOf(delimiter);\n    if (index !== -1) {\n        return [str.substring(0, index), delimiter, str.substring(index + delimiter.length)];\n    }\n    return [str, '', ''];\n}\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nfunction readableStreamAsyncIterable(stream) {\n    if (stream[Symbol.asyncIterator])\n        return stream;\n    const reader = stream.getReader();\n    return {\n        async next() {\n            try {\n                const result = await reader.read();\n                if (result?.done)\n                    reader.releaseLock(); // release lock when stream becomes closed\n                return result;\n            }\n            catch (e) {\n                reader.releaseLock(); // release lock when stream becomes errored\n                throw e;\n            }\n        },\n        async return() {\n            const cancelPromise = reader.cancel();\n            reader.releaseLock();\n            await cancelPromise;\n            return { done: true, value: undefined };\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\nexports.readableStreamAsyncIterable = readableStreamAsyncIterable;\n//# sourceMappingURL=streaming.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createForm = exports.multipartFormRequestOptions = exports.maybeMultipartFormRequestOptions = exports.isMultipartBody = exports.toFile = exports.isUploadable = exports.isBlobLike = exports.isFileLike = exports.isResponseLike = exports.fileFromPath = void 0;\nconst index_1 = require(\"./_shims/index.js\");\nvar index_2 = require(\"./_shims/index.js\");\nObject.defineProperty(exports, \"fileFromPath\", { enumerable: true, get: function () { return index_2.fileFromPath; } });\nconst isResponseLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.url === 'string' &&\n    typeof value.blob === 'function';\nexports.isResponseLike = isResponseLike;\nconst isFileLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.name === 'string' &&\n    typeof value.lastModified === 'number' &&\n    (0, exports.isBlobLike)(value);\nexports.isFileLike = isFileLike;\n/**\n * The BlobLike type omits arrayBuffer() because @types/node-fetch@^2.6.4 lacks it; but this check\n * adds the arrayBuffer() method type because it is available and used at runtime\n */\nconst isBlobLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.size === 'number' &&\n    typeof value.type === 'string' &&\n    typeof value.text === 'function' &&\n    typeof value.slice === 'function' &&\n    typeof value.arrayBuffer === 'function';\nexports.isBlobLike = isBlobLike;\nconst isUploadable = (value) => {\n    return (0, exports.isFileLike)(value) || (0, exports.isResponseLike)(value) || (0, index_1.isFsReadStream)(value);\n};\nexports.isUploadable = isUploadable;\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file.  Can be an {@link Uploadable}, {@link BlobLikePart}, or {@link AsyncIterable} of {@link BlobLikePart}s\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */\nasync function toFile(value, name, options) {\n    // If it's a promise, resolve it.\n    value = await value;\n    // If we've been given a `File` we don't need to do anything\n    if ((0, exports.isFileLike)(value)) {\n        return value;\n    }\n    if ((0, exports.isResponseLike)(value)) {\n        const blob = await value.blob();\n        name || (name = new URL(value.url).pathname.split(/[\\\\/]/).pop() ?? 'unknown_file');\n        // we need to convert the `Blob` into an array buffer because the `Blob` class\n        // that `node-fetch` defines is incompatible with the web standard which results\n        // in `new File` interpreting it as a string instead of binary data.\n        const data = (0, exports.isBlobLike)(blob) ? [(await blob.arrayBuffer())] : [blob];\n        return new index_1.File(data, name, options);\n    }\n    const bits = await getBytes(value);\n    name || (name = getName(value) ?? 'unknown_file');\n    if (!options?.type) {\n        const type = bits[0]?.type;\n        if (typeof type === 'string') {\n            options = { ...options, type };\n        }\n    }\n    return new index_1.File(bits, name, options);\n}\nexports.toFile = toFile;\nasync function getBytes(value) {\n    let parts = [];\n    if (typeof value === 'string' ||\n        ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n        value instanceof ArrayBuffer) {\n        parts.push(value);\n    }\n    else if ((0, exports.isBlobLike)(value)) {\n        parts.push(await value.arrayBuffer());\n    }\n    else if (isAsyncIterableIterator(value) // includes Readable, ReadableStream, etc.\n    ) {\n        for await (const chunk of value) {\n            parts.push(chunk); // TODO, consider validating?\n        }\n    }\n    else {\n        throw new Error(`Unexpected data type: ${typeof value}; constructor: ${value?.constructor\n            ?.name}; props: ${propsForError(value)}`);\n    }\n    return parts;\n}\nfunction propsForError(value) {\n    const props = Object.getOwnPropertyNames(value);\n    return `[${props.map((p) => `\"${p}\"`).join(', ')}]`;\n}\nfunction getName(value) {\n    return (getStringFromMaybeBuffer(value.name) ||\n        getStringFromMaybeBuffer(value.filename) ||\n        // For fs.ReadStream\n        getStringFromMaybeBuffer(value.path)?.split(/[\\\\/]/).pop());\n}\nconst getStringFromMaybeBuffer = (x) => {\n    if (typeof x === 'string')\n        return x;\n    if (typeof Buffer !== 'undefined' && x instanceof Buffer)\n        return String(x);\n    return undefined;\n};\nconst isAsyncIterableIterator = (value) => value != null && typeof value === 'object' && typeof value[Symbol.asyncIterator] === 'function';\nconst isMultipartBody = (body) => body && typeof body === 'object' && body.body && body[Symbol.toStringTag] === 'MultipartBody';\nexports.isMultipartBody = isMultipartBody;\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */\nconst maybeMultipartFormRequestOptions = async (opts) => {\n    if (!hasUploadableValue(opts.body))\n        return opts;\n    const form = await (0, exports.createForm)(opts.body);\n    return (0, index_1.getMultipartRequestOptions)(form, opts);\n};\nexports.maybeMultipartFormRequestOptions = maybeMultipartFormRequestOptions;\nconst multipartFormRequestOptions = async (opts) => {\n    const form = await (0, exports.createForm)(opts.body);\n    return (0, index_1.getMultipartRequestOptions)(form, opts);\n};\nexports.multipartFormRequestOptions = multipartFormRequestOptions;\nconst createForm = async (body) => {\n    const form = new index_1.FormData();\n    await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));\n    return form;\n};\nexports.createForm = createForm;\nconst hasUploadableValue = (value) => {\n    if ((0, exports.isUploadable)(value))\n        return true;\n    if (Array.isArray(value))\n        return value.some(hasUploadableValue);\n    if (value && typeof value === 'object') {\n        for (const k in value) {\n            if (hasUploadableValue(value[k]))\n                return true;\n        }\n    }\n    return false;\n};\nconst addFormValue = async (form, key, value) => {\n    if (value === undefined)\n        return;\n    if (value == null) {\n        throw new TypeError(`Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`);\n    }\n    // TODO: make nested formats configurable\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        form.append(key, String(value));\n    }\n    else if ((0, exports.isUploadable)(value)) {\n        const file = await toFile(value);\n        form.append(key, file);\n    }\n    else if (Array.isArray(value)) {\n        await Promise.all(value.map((entry) => addFormValue(form, key + '[]', entry)));\n    }\n    else if (typeof value === 'object') {\n        await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));\n    }\n    else {\n        throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);\n    }\n};\n//# sourceMappingURL=uploads.js.map","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isObj = exports.toBase64 = exports.getHeader = exports.getRequiredHeader = exports.isHeadersProtocol = exports.isRunningInBrowser = exports.debug = exports.hasOwn = exports.isEmptyObj = exports.maybeCoerceBoolean = exports.maybeCoerceFloat = exports.maybeCoerceInteger = exports.coerceBoolean = exports.coerceFloat = exports.coerceInteger = exports.readEnv = exports.ensurePresent = exports.castToError = exports.sleep = exports.safeJSON = exports.isRequestOptions = exports.createResponseHeaders = exports.PagePromise = exports.AbstractPage = exports.APIClient = exports.APIPromise = exports.createForm = exports.multipartFormRequestOptions = exports.maybeMultipartFormRequestOptions = void 0;\nconst version_1 = require(\"./version.js\");\nconst streaming_1 = require(\"./streaming.js\");\nconst error_1 = require(\"./error.js\");\nconst index_1 = require(\"./_shims/index.js\");\nconst uploads_1 = require(\"./uploads.js\");\nvar uploads_2 = require(\"./uploads.js\");\nObject.defineProperty(exports, \"maybeMultipartFormRequestOptions\", { enumerable: true, get: function () { return uploads_2.maybeMultipartFormRequestOptions; } });\nObject.defineProperty(exports, \"multipartFormRequestOptions\", { enumerable: true, get: function () { return uploads_2.multipartFormRequestOptions; } });\nObject.defineProperty(exports, \"createForm\", { enumerable: true, get: function () { return uploads_2.createForm; } });\nasync function defaultParseResponse(props) {\n    const { response } = props;\n    if (props.options.stream) {\n        debug('response', response.status, response.url, response.headers, response.body);\n        // Note: there is an invariant here that isn't represented in the type system\n        // that if you set `stream: true` the response type must also be `Stream<T>`\n        if (props.options.__streamClass) {\n            return props.options.__streamClass.fromSSEResponse(response, props.controller);\n        }\n        return streaming_1.Stream.fromSSEResponse(response, props.controller);\n    }\n    // fetch refuses to read the body when the status code is 204.\n    if (response.status === 204) {\n        return null;\n    }\n    if (props.options.__binaryResponse) {\n        return response;\n    }\n    const contentType = response.headers.get('content-type');\n    const isJSON = contentType?.includes('application/json') || contentType?.includes('application/vnd.api+json');\n    if (isJSON) {\n        const json = await response.json();\n        debug('response', response.status, response.url, response.headers, json);\n        return _addRequestID(json, response);\n    }\n    const text = await response.text();\n    debug('response', response.status, response.url, response.headers, text);\n    // TODO handle blob, arraybuffer, other content types, etc.\n    return text;\n}\nfunction _addRequestID(value, response) {\n    if (!value || typeof value !== 'object' || Array.isArray(value)) {\n        return value;\n    }\n    return Object.defineProperty(value, '_request_id', {\n        value: response.headers.get('x-request-id'),\n        enumerable: false,\n    });\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nclass APIPromise extends Promise {\n    constructor(responsePromise, parseResponse = defaultParseResponse) {\n        super((resolve) => {\n            // this is maybe a bit weird but this has to be a no-op to not implicitly\n            // parse the response body; instead .then, .catch, .finally are overridden\n            // to parse the response\n            resolve(null);\n        });\n        this.responsePromise = responsePromise;\n        this.parseResponse = parseResponse;\n    }\n    _thenUnwrap(transform) {\n        return new APIPromise(this.responsePromise, async (props) => _addRequestID(transform(await this.parseResponse(props), props), props.response));\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */\n    asResponse() {\n        return this.responsePromise.then((p) => p.response);\n    }\n    /**\n     * Gets the parsed response data, the raw `Response` instance and the ID of the request,\n     * returned via the X-Request-ID header which is useful for debugging requests and reporting\n     * issues to OpenAI.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     *\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */\n    async withResponse() {\n        const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n        return { data, response, request_id: response.headers.get('x-request-id') };\n    }\n    parse() {\n        if (!this.parsedPromise) {\n            this.parsedPromise = this.responsePromise.then(this.parseResponse);\n        }\n        return this.parsedPromise;\n    }\n    then(onfulfilled, onrejected) {\n        return this.parse().then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.parse().catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.parse().finally(onfinally);\n    }\n}\nexports.APIPromise = APIPromise;\nclass APIClient {\n    constructor({ baseURL, maxRetries = 2, timeout = 600000, // 10 minutes\n    httpAgent, fetch: overridenFetch, }) {\n        this.baseURL = baseURL;\n        this.maxRetries = validatePositiveInteger('maxRetries', maxRetries);\n        this.timeout = validatePositiveInteger('timeout', timeout);\n        this.httpAgent = httpAgent;\n        this.fetch = overridenFetch ?? index_1.fetch;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    /**\n     * Override this to add your own default headers, for example:\n     *\n     *  {\n     *    ...super.defaultHeaders(),\n     *    Authorization: 'Bearer 123',\n     *  }\n     */\n    defaultHeaders(opts) {\n        return {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'User-Agent': this.getUserAgent(),\n            ...getPlatformHeaders(),\n            ...this.authHeaders(opts),\n        };\n    }\n    /**\n     * Override this to add your own headers validation:\n     */\n    validateHeaders(headers, customHeaders) { }\n    defaultIdempotencyKey() {\n        return `stainless-node-retry-${uuid4()}`;\n    }\n    get(path, opts) {\n        return this.methodRequest('get', path, opts);\n    }\n    post(path, opts) {\n        return this.methodRequest('post', path, opts);\n    }\n    patch(path, opts) {\n        return this.methodRequest('patch', path, opts);\n    }\n    put(path, opts) {\n        return this.methodRequest('put', path, opts);\n    }\n    delete(path, opts) {\n        return this.methodRequest('delete', path, opts);\n    }\n    methodRequest(method, path, opts) {\n        return this.request(Promise.resolve(opts).then(async (opts) => {\n            const body = opts && (0, uploads_1.isBlobLike)(opts?.body) ? new DataView(await opts.body.arrayBuffer())\n                : opts?.body instanceof DataView ? opts.body\n                    : opts?.body instanceof ArrayBuffer ? new DataView(opts.body)\n                        : opts && ArrayBuffer.isView(opts?.body) ? new DataView(opts.body.buffer)\n                            : opts?.body;\n            return { method, path, ...opts, body };\n        }));\n    }\n    getAPIList(path, Page, opts) {\n        return this.requestAPIList(Page, { method: 'get', path, ...opts });\n    }\n    calculateContentLength(body) {\n        if (typeof body === 'string') {\n            if (typeof Buffer !== 'undefined') {\n                return Buffer.byteLength(body, 'utf8').toString();\n            }\n            if (typeof TextEncoder !== 'undefined') {\n                const encoder = new TextEncoder();\n                const encoded = encoder.encode(body);\n                return encoded.length.toString();\n            }\n        }\n        else if (ArrayBuffer.isView(body)) {\n            return body.byteLength.toString();\n        }\n        return null;\n    }\n    buildRequest(options, { retryCount = 0 } = {}) {\n        const { method, path, query, headers: headers = {} } = options;\n        const body = ArrayBuffer.isView(options.body) || (options.__binaryRequest && typeof options.body === 'string') ?\n            options.body\n            : (0, uploads_1.isMultipartBody)(options.body) ? options.body.body\n                : options.body ? JSON.stringify(options.body, null, 2)\n                    : null;\n        const contentLength = this.calculateContentLength(body);\n        const url = this.buildURL(path, query);\n        if ('timeout' in options)\n            validatePositiveInteger('timeout', options.timeout);\n        const timeout = options.timeout ?? this.timeout;\n        const httpAgent = options.httpAgent ?? this.httpAgent ?? (0, index_1.getDefaultAgent)(url);\n        const minAgentTimeout = timeout + 1000;\n        if (typeof httpAgent?.options?.timeout === 'number' &&\n            minAgentTimeout > (httpAgent.options.timeout ?? 0)) {\n            // Allow any given request to bump our agent active socket timeout.\n            // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n            // and without mutating agent we would need to create more of them.\n            // This tradeoff optimizes for performance.\n            httpAgent.options.timeout = minAgentTimeout;\n        }\n        if (this.idempotencyHeader && method !== 'get') {\n            if (!options.idempotencyKey)\n                options.idempotencyKey = this.defaultIdempotencyKey();\n            headers[this.idempotencyHeader] = options.idempotencyKey;\n        }\n        const reqHeaders = this.buildHeaders({ options, headers, contentLength, retryCount });\n        const req = {\n            method,\n            ...(body && { body: body }),\n            headers: reqHeaders,\n            ...(httpAgent && { agent: httpAgent }),\n            // @ts-ignore node-fetch uses a custom AbortSignal type that is\n            // not compatible with standard web types\n            signal: options.signal ?? null,\n        };\n        return { req, url, timeout };\n    }\n    buildHeaders({ options, headers, contentLength, retryCount, }) {\n        const reqHeaders = {};\n        if (contentLength) {\n            reqHeaders['content-length'] = contentLength;\n        }\n        const defaultHeaders = this.defaultHeaders(options);\n        applyHeadersMut(reqHeaders, defaultHeaders);\n        applyHeadersMut(reqHeaders, headers);\n        // let builtin fetch set the Content-Type for multipart bodies\n        if ((0, uploads_1.isMultipartBody)(options.body) && index_1.kind !== 'node') {\n            delete reqHeaders['content-type'];\n        }\n        // Don't set the retry count header if it was already set or removed through default headers or by the\n        // caller. We check `defaultHeaders` and `headers`, which can contain nulls, instead of `reqHeaders` to\n        // account for the removal case.\n        if ((0, exports.getHeader)(defaultHeaders, 'x-stainless-retry-count') === undefined &&\n            (0, exports.getHeader)(headers, 'x-stainless-retry-count') === undefined) {\n            reqHeaders['x-stainless-retry-count'] = String(retryCount);\n        }\n        this.validateHeaders(reqHeaders, headers);\n        return reqHeaders;\n    }\n    /**\n     * Used as a callback for mutating the given `FinalRequestOptions` object.\n     */\n    async prepareOptions(options) { }\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */\n    async prepareRequest(request, { url, options }) { }\n    parseHeaders(headers) {\n        return (!headers ? {}\n            : Symbol.iterator in headers ?\n                Object.fromEntries(Array.from(headers).map((header) => [...header]))\n                : { ...headers });\n    }\n    makeStatusError(status, error, message, headers) {\n        return error_1.APIError.generate(status, error, message, headers);\n    }\n    request(options, remainingRetries = null) {\n        return new APIPromise(this.makeRequest(options, remainingRetries));\n    }\n    async makeRequest(optionsInput, retriesRemaining) {\n        const options = await optionsInput;\n        const maxRetries = options.maxRetries ?? this.maxRetries;\n        if (retriesRemaining == null) {\n            retriesRemaining = maxRetries;\n        }\n        await this.prepareOptions(options);\n        const { req, url, timeout } = this.buildRequest(options, { retryCount: maxRetries - retriesRemaining });\n        await this.prepareRequest(req, { url, options });\n        debug('request', url, options, req.headers);\n        if (options.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        const controller = new AbortController();\n        const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(exports.castToError);\n        if (response instanceof Error) {\n            if (options.signal?.aborted) {\n                throw new error_1.APIUserAbortError();\n            }\n            if (retriesRemaining) {\n                return this.retryRequest(options, retriesRemaining);\n            }\n            if (response.name === 'AbortError') {\n                throw new error_1.APIConnectionTimeoutError();\n            }\n            throw new error_1.APIConnectionError({ cause: response });\n        }\n        const responseHeaders = (0, exports.createResponseHeaders)(response.headers);\n        if (!response.ok) {\n            if (retriesRemaining && this.shouldRetry(response)) {\n                const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n                debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders);\n                return this.retryRequest(options, retriesRemaining, responseHeaders);\n            }\n            const errText = await response.text().catch((e) => (0, exports.castToError)(e).message);\n            const errJSON = (0, exports.safeJSON)(errText);\n            const errMessage = errJSON ? undefined : errText;\n            const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;\n            debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);\n            const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n            throw err;\n        }\n        return { response, options, controller };\n    }\n    requestAPIList(Page, options) {\n        const request = this.makeRequest(options, null);\n        return new PagePromise(this, request, Page);\n    }\n    buildURL(path, query) {\n        const url = isAbsoluteURL(path) ?\n            new URL(path)\n            : new URL(this.baseURL + (this.baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n        const defaultQuery = this.defaultQuery();\n        if (!isEmptyObj(defaultQuery)) {\n            query = { ...defaultQuery, ...query };\n        }\n        if (typeof query === 'object' && query && !Array.isArray(query)) {\n            url.search = this.stringifyQuery(query);\n        }\n        return url.toString();\n    }\n    stringifyQuery(query) {\n        return Object.entries(query)\n            .filter(([_, value]) => typeof value !== 'undefined')\n            .map(([key, value]) => {\n            if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n                return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n            }\n            if (value === null) {\n                return `${encodeURIComponent(key)}=`;\n            }\n            throw new error_1.OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);\n        })\n            .join('&');\n    }\n    async fetchWithTimeout(url, init, ms, controller) {\n        const { signal, ...options } = init || {};\n        if (signal)\n            signal.addEventListener('abort', () => controller.abort());\n        const timeout = setTimeout(() => controller.abort(), ms);\n        return (this.getRequestClient()\n            // use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n            .fetch.call(undefined, url, { signal: controller.signal, ...options })\n            .finally(() => {\n            clearTimeout(timeout);\n        }));\n    }\n    getRequestClient() {\n        return { fetch: this.fetch };\n    }\n    shouldRetry(response) {\n        // Note this is not a standard header.\n        const shouldRetryHeader = response.headers.get('x-should-retry');\n        // If the server explicitly says whether or not to retry, obey.\n        if (shouldRetryHeader === 'true')\n            return true;\n        if (shouldRetryHeader === 'false')\n            return false;\n        // Retry on request timeouts.\n        if (response.status === 408)\n            return true;\n        // Retry on lock timeouts.\n        if (response.status === 409)\n            return true;\n        // Retry on rate limits.\n        if (response.status === 429)\n            return true;\n        // Retry internal errors.\n        if (response.status >= 500)\n            return true;\n        return false;\n    }\n    async retryRequest(options, retriesRemaining, responseHeaders) {\n        let timeoutMillis;\n        // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n        const retryAfterMillisHeader = responseHeaders?.['retry-after-ms'];\n        if (retryAfterMillisHeader) {\n            const timeoutMs = parseFloat(retryAfterMillisHeader);\n            if (!Number.isNaN(timeoutMs)) {\n                timeoutMillis = timeoutMs;\n            }\n        }\n        // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n        const retryAfterHeader = responseHeaders?.['retry-after'];\n        if (retryAfterHeader && !timeoutMillis) {\n            const timeoutSeconds = parseFloat(retryAfterHeader);\n            if (!Number.isNaN(timeoutSeconds)) {\n                timeoutMillis = timeoutSeconds * 1000;\n            }\n            else {\n                timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n            }\n        }\n        // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n        // just do what it says, but otherwise calculate a default\n        if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n            const maxRetries = options.maxRetries ?? this.maxRetries;\n            timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n        }\n        await (0, exports.sleep)(timeoutMillis);\n        return this.makeRequest(options, retriesRemaining - 1);\n    }\n    calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n        const initialRetryDelay = 0.5;\n        const maxRetryDelay = 8.0;\n        const numRetries = maxRetries - retriesRemaining;\n        // Apply exponential backoff, but not more than the max.\n        const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n        // Apply some jitter, take up to at most 25 percent of the retry time.\n        const jitter = 1 - Math.random() * 0.25;\n        return sleepSeconds * jitter * 1000;\n    }\n    getUserAgent() {\n        return `${this.constructor.name}/JS ${version_1.VERSION}`;\n    }\n}\nexports.APIClient = APIClient;\nclass AbstractPage {\n    constructor(client, response, body, options) {\n        _AbstractPage_client.set(this, void 0);\n        __classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n        this.options = options;\n        this.response = response;\n        this.body = body;\n    }\n    hasNextPage() {\n        const items = this.getPaginatedItems();\n        if (!items.length)\n            return false;\n        return this.nextPageInfo() != null;\n    }\n    async getNextPage() {\n        const nextInfo = this.nextPageInfo();\n        if (!nextInfo) {\n            throw new error_1.OpenAIError('No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.');\n        }\n        const nextOptions = { ...this.options };\n        if ('params' in nextInfo && typeof nextOptions.query === 'object') {\n            nextOptions.query = { ...nextOptions.query, ...nextInfo.params };\n        }\n        else if ('url' in nextInfo) {\n            const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];\n            for (const [key, value] of params) {\n                nextInfo.url.searchParams.set(key, value);\n            }\n            nextOptions.query = undefined;\n            nextOptions.path = nextInfo.url.toString();\n        }\n        return await __classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n    }\n    async *iterPages() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let page = this;\n        yield page;\n        while (page.hasNextPage()) {\n            page = await page.getNextPage();\n            yield page;\n        }\n    }\n    async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n        for await (const page of this.iterPages()) {\n            for (const item of page.getPaginatedItems()) {\n                yield item;\n            }\n        }\n    }\n}\nexports.AbstractPage = AbstractPage;\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nclass PagePromise extends APIPromise {\n    constructor(client, request, Page) {\n        super(request, async (props) => new Page(client, props.response, await defaultParseResponse(props), props.options));\n    }\n    /**\n     * Allow auto-paginating iteration on an unawaited list call, eg:\n     *\n     *    for await (const item of client.items.list()) {\n     *      console.log(item)\n     *    }\n     */\n    async *[Symbol.asyncIterator]() {\n        const page = await this;\n        for await (const item of page) {\n            yield item;\n        }\n    }\n}\nexports.PagePromise = PagePromise;\nconst createResponseHeaders = (headers) => {\n    return new Proxy(Object.fromEntries(\n    // @ts-ignore\n    headers.entries()), {\n        get(target, name) {\n            const key = name.toString();\n            return target[key.toLowerCase()] || target[key];\n        },\n    });\n};\nexports.createResponseHeaders = createResponseHeaders;\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys = {\n    method: true,\n    path: true,\n    query: true,\n    body: true,\n    headers: true,\n    maxRetries: true,\n    stream: true,\n    timeout: true,\n    httpAgent: true,\n    signal: true,\n    idempotencyKey: true,\n    __binaryRequest: true,\n    __binaryResponse: true,\n    __streamClass: true,\n};\nconst isRequestOptions = (obj) => {\n    return (typeof obj === 'object' &&\n        obj !== null &&\n        !isEmptyObj(obj) &&\n        Object.keys(obj).every((k) => hasOwn(requestOptionsKeys, k)));\n};\nexports.isRequestOptions = isRequestOptions;\nconst getPlatformProperties = () => {\n    if (typeof Deno !== 'undefined' && Deno.build != null) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': normalizePlatform(Deno.build.os),\n            'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n            'X-Stainless-Runtime': 'deno',\n            'X-Stainless-Runtime-Version': typeof Deno.version === 'string' ? Deno.version : Deno.version?.deno ?? 'unknown',\n        };\n    }\n    if (typeof EdgeRuntime !== 'undefined') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': `other:${EdgeRuntime}`,\n            'X-Stainless-Runtime': 'edge',\n            'X-Stainless-Runtime-Version': process.version,\n        };\n    }\n    // Check if Node.js\n    if (Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': normalizePlatform(process.platform),\n            'X-Stainless-Arch': normalizeArch(process.arch),\n            'X-Stainless-Runtime': 'node',\n            'X-Stainless-Runtime-Version': process.version,\n        };\n    }\n    const browserInfo = getBrowserInfo();\n    if (browserInfo) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': version_1.VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': 'unknown',\n            'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n            'X-Stainless-Runtime-Version': browserInfo.version,\n        };\n    }\n    // TODO add support for Cloudflare workers, etc.\n    return {\n        'X-Stainless-Lang': 'js',\n        'X-Stainless-Package-Version': version_1.VERSION,\n        'X-Stainless-OS': 'Unknown',\n        'X-Stainless-Arch': 'unknown',\n        'X-Stainless-Runtime': 'unknown',\n        'X-Stainless-Runtime-Version': 'unknown',\n    };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n    if (typeof navigator === 'undefined' || !navigator) {\n        return null;\n    }\n    // NOTE: The order matters here!\n    const browserPatterns = [\n        { key: 'edge', pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'chrome', pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'firefox', pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'safari', pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/ },\n    ];\n    // Find the FIRST matching browser\n    for (const { key, pattern } of browserPatterns) {\n        const match = pattern.exec(navigator.userAgent);\n        if (match) {\n            const major = match[1] || 0;\n            const minor = match[2] || 0;\n            const patch = match[3] || 0;\n            return { browser: key, version: `${major}.${minor}.${patch}` };\n        }\n    }\n    return null;\n}\nconst normalizeArch = (arch) => {\n    // Node docs:\n    // - https://nodejs.org/api/process.html#processarch\n    // Deno docs:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    if (arch === 'x32')\n        return 'x32';\n    if (arch === 'x86_64' || arch === 'x64')\n        return 'x64';\n    if (arch === 'arm')\n        return 'arm';\n    if (arch === 'aarch64' || arch === 'arm64')\n        return 'arm64';\n    if (arch)\n        return `other:${arch}`;\n    return 'unknown';\n};\nconst normalizePlatform = (platform) => {\n    // Node platforms:\n    // - https://nodejs.org/api/process.html#processplatform\n    // Deno platforms:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    // - https://github.com/denoland/deno/issues/14799\n    platform = platform.toLowerCase();\n    // NOTE: this iOS check is untested and may not work\n    // Node does not work natively on IOS, there is a fork at\n    // https://github.com/nodejs-mobile/nodejs-mobile\n    // however it is unknown at the time of writing how to detect if it is running\n    if (platform.includes('ios'))\n        return 'iOS';\n    if (platform === 'android')\n        return 'Android';\n    if (platform === 'darwin')\n        return 'MacOS';\n    if (platform === 'win32')\n        return 'Windows';\n    if (platform === 'freebsd')\n        return 'FreeBSD';\n    if (platform === 'openbsd')\n        return 'OpenBSD';\n    if (platform === 'linux')\n        return 'Linux';\n    if (platform)\n        return `Other:${platform}`;\n    return 'Unknown';\n};\nlet _platformHeaders;\nconst getPlatformHeaders = () => {\n    return (_platformHeaders ?? (_platformHeaders = getPlatformProperties()));\n};\nconst safeJSON = (text) => {\n    try {\n        return JSON.parse(text);\n    }\n    catch (err) {\n        return undefined;\n    }\n};\nexports.safeJSON = safeJSON;\n// https://stackoverflow.com/a/19709846\nconst startsWithSchemeRegexp = new RegExp('^(?:[a-z]+:)?//', 'i');\nconst isAbsoluteURL = (url) => {\n    return startsWithSchemeRegexp.test(url);\n};\nconst sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nexports.sleep = sleep;\nconst validatePositiveInteger = (name, n) => {\n    if (typeof n !== 'number' || !Number.isInteger(n)) {\n        throw new error_1.OpenAIError(`${name} must be an integer`);\n    }\n    if (n < 0) {\n        throw new error_1.OpenAIError(`${name} must be a positive integer`);\n    }\n    return n;\n};\nconst castToError = (err) => {\n    if (err instanceof Error)\n        return err;\n    if (typeof err === 'object' && err !== null) {\n        try {\n            return new Error(JSON.stringify(err));\n        }\n        catch { }\n    }\n    return new Error(err);\n};\nexports.castToError = castToError;\nconst ensurePresent = (value) => {\n    if (value == null)\n        throw new error_1.OpenAIError(`Expected a value to be given but received ${value} instead.`);\n    return value;\n};\nexports.ensurePresent = ensurePresent;\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nconst readEnv = (env) => {\n    if (typeof process !== 'undefined') {\n        return process.env?.[env]?.trim() ?? undefined;\n    }\n    if (typeof Deno !== 'undefined') {\n        return Deno.env?.get?.(env)?.trim();\n    }\n    return undefined;\n};\nexports.readEnv = readEnv;\nconst coerceInteger = (value) => {\n    if (typeof value === 'number')\n        return Math.round(value);\n    if (typeof value === 'string')\n        return parseInt(value, 10);\n    throw new error_1.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexports.coerceInteger = coerceInteger;\nconst coerceFloat = (value) => {\n    if (typeof value === 'number')\n        return value;\n    if (typeof value === 'string')\n        return parseFloat(value);\n    throw new error_1.OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexports.coerceFloat = coerceFloat;\nconst coerceBoolean = (value) => {\n    if (typeof value === 'boolean')\n        return value;\n    if (typeof value === 'string')\n        return value === 'true';\n    return Boolean(value);\n};\nexports.coerceBoolean = coerceBoolean;\nconst maybeCoerceInteger = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return (0, exports.coerceInteger)(value);\n};\nexports.maybeCoerceInteger = maybeCoerceInteger;\nconst maybeCoerceFloat = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return (0, exports.coerceFloat)(value);\n};\nexports.maybeCoerceFloat = maybeCoerceFloat;\nconst maybeCoerceBoolean = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return (0, exports.coerceBoolean)(value);\n};\nexports.maybeCoerceBoolean = maybeCoerceBoolean;\n// https://stackoverflow.com/a/34491287\nfunction isEmptyObj(obj) {\n    if (!obj)\n        return true;\n    for (const _k in obj)\n        return false;\n    return true;\n}\nexports.isEmptyObj = isEmptyObj;\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nfunction hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\nexports.hasOwn = hasOwn;\n/**\n * Copies headers from \"newHeaders\" onto \"targetHeaders\",\n * using lower-case for all properties,\n * ignoring any keys with undefined values,\n * and deleting any keys with null values.\n */\nfunction applyHeadersMut(targetHeaders, newHeaders) {\n    for (const k in newHeaders) {\n        if (!hasOwn(newHeaders, k))\n            continue;\n        const lowerKey = k.toLowerCase();\n        if (!lowerKey)\n            continue;\n        const val = newHeaders[k];\n        if (val === null) {\n            delete targetHeaders[lowerKey];\n        }\n        else if (val !== undefined) {\n            targetHeaders[lowerKey] = val;\n        }\n    }\n}\nfunction debug(action, ...args) {\n    if (typeof process !== 'undefined' && process?.env?.['DEBUG'] === 'true') {\n        console.log(`OpenAI:DEBUG:${action}`, ...args);\n    }\n}\nexports.debug = debug;\n/**\n * https://stackoverflow.com/a/2117523\n */\nconst uuid4 = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16) | 0;\n        const v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\nconst isRunningInBrowser = () => {\n    return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n        // @ts-ignore\n        typeof window.document !== 'undefined' &&\n        // @ts-ignore\n        typeof navigator !== 'undefined');\n};\nexports.isRunningInBrowser = isRunningInBrowser;\nconst isHeadersProtocol = (headers) => {\n    return typeof headers?.get === 'function';\n};\nexports.isHeadersProtocol = isHeadersProtocol;\nconst getRequiredHeader = (headers, header) => {\n    const foundHeader = (0, exports.getHeader)(headers, header);\n    if (foundHeader === undefined) {\n        throw new Error(`Could not find ${header} header`);\n    }\n    return foundHeader;\n};\nexports.getRequiredHeader = getRequiredHeader;\nconst getHeader = (headers, header) => {\n    const lowerCasedHeader = header.toLowerCase();\n    if ((0, exports.isHeadersProtocol)(headers)) {\n        // to deal with the case where the header looks like Stainless-Event-Id\n        const intercapsHeader = header[0]?.toUpperCase() +\n            header.substring(1).replace(/([^\\w])(\\w)/g, (_m, g1, g2) => g1 + g2.toUpperCase());\n        for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {\n            const value = headers.get(key);\n            if (value) {\n                return value;\n            }\n        }\n    }\n    for (const [key, value] of Object.entries(headers)) {\n        if (key.toLowerCase() === lowerCasedHeader) {\n            if (Array.isArray(value)) {\n                if (value.length <= 1)\n                    return value[0];\n                console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);\n                return value[0];\n            }\n            return value;\n        }\n    }\n    return undefined;\n};\nexports.getHeader = getHeader;\n/**\n * Encodes a string to Base64 format.\n */\nconst toBase64 = (str) => {\n    if (!str)\n        return '';\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str).toString('base64');\n    }\n    if (typeof btoa !== 'undefined') {\n        return btoa(str);\n    }\n    throw new error_1.OpenAIError('Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined');\n};\nexports.toBase64 = toBase64;\nfunction isObj(obj) {\n    return obj != null && typeof obj === 'object' && !Array.isArray(obj);\n}\nexports.isObj = isObj;\n//# sourceMappingURL=core.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CursorPage = exports.Page = void 0;\nconst core_1 = require(\"./core.js\");\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nclass Page extends core_1.AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.object = body.object;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    /**\n     * This page represents a response that isn't actually paginated at the API level\n     * so there will never be any next page params.\n     */\n    nextPageParams() {\n        return null;\n    }\n    nextPageInfo() {\n        return null;\n    }\n}\nexports.Page = Page;\nclass CursorPage extends core_1.AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    nextPageParams() {\n        const info = this.nextPageInfo();\n        if (!info)\n            return null;\n        if ('params' in info)\n            return info.params;\n        const params = Object.fromEntries(info.url.searchParams);\n        if (!Object.keys(params).length)\n            return null;\n        return params;\n    }\n    nextPageInfo() {\n        const data = this.getPaginatedItems();\n        if (!data.length) {\n            return null;\n        }\n        const id = data[data.length - 1]?.id;\n        if (!id) {\n            return null;\n        }\n        return { params: { after: id } };\n    }\n}\nexports.CursorPage = CursorPage;\n//# sourceMappingURL=pagination.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.APIResource = void 0;\nclass APIResource {\n    constructor(client) {\n        this._client = client;\n    }\n}\nexports.APIResource = APIResource;\n//# sourceMappingURL=resource.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Completions = void 0;\nconst resource_1 = require(\"../../resource.js\");\nclass Completions extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/chat/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\nexports.Completions = Completions;\n//# sourceMappingURL=completions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chat = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst CompletionsAPI = __importStar(require(\"./completions.js\"));\nconst completions_1 = require(\"./completions.js\");\nclass Chat extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this._client);\n    }\n}\nexports.Chat = Chat;\nChat.Completions = completions_1.Completions;\n//# sourceMappingURL=chat.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Completions = exports.Chat = void 0;\nvar chat_1 = require(\"./chat.js\");\nObject.defineProperty(exports, \"Chat\", { enumerable: true, get: function () { return chat_1.Chat; } });\nvar completions_1 = require(\"./completions.js\");\nObject.defineProperty(exports, \"Completions\", { enumerable: true, get: function () { return completions_1.Completions; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=shared.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Speech = void 0;\nconst resource_1 = require(\"../../resource.js\");\nclass Speech extends resource_1.APIResource {\n    /**\n     * Generates audio from the input text.\n     */\n    create(body, options) {\n        return this._client.post('/audio/speech', { body, ...options, __binaryResponse: true });\n    }\n}\nexports.Speech = Speech;\n//# sourceMappingURL=speech.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transcriptions = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst Core = __importStar(require(\"../../core.js\"));\nclass Transcriptions extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/audio/transcriptions', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n}\nexports.Transcriptions = Transcriptions;\n//# sourceMappingURL=transcriptions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Translations = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst Core = __importStar(require(\"../../core.js\"));\nclass Translations extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/audio/translations', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n}\nexports.Translations = Translations;\n//# sourceMappingURL=translations.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Audio = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst SpeechAPI = __importStar(require(\"./speech.js\"));\nconst speech_1 = require(\"./speech.js\");\nconst TranscriptionsAPI = __importStar(require(\"./transcriptions.js\"));\nconst transcriptions_1 = require(\"./transcriptions.js\");\nconst TranslationsAPI = __importStar(require(\"./translations.js\"));\nconst translations_1 = require(\"./translations.js\");\nclass Audio extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.transcriptions = new TranscriptionsAPI.Transcriptions(this._client);\n        this.translations = new TranslationsAPI.Translations(this._client);\n        this.speech = new SpeechAPI.Speech(this._client);\n    }\n}\nexports.Audio = Audio;\nAudio.Transcriptions = transcriptions_1.Transcriptions;\nAudio.Translations = translations_1.Translations;\nAudio.Speech = speech_1.Speech;\n//# sourceMappingURL=audio.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BatchesPage = exports.Batches = void 0;\nconst resource_1 = require(\"../resource.js\");\nconst core_1 = require(\"../core.js\");\nconst pagination_1 = require(\"../pagination.js\");\nclass Batches extends resource_1.APIResource {\n    /**\n     * Creates and executes a batch from an uploaded file of requests\n     */\n    create(body, options) {\n        return this._client.post('/batches', { body, ...options });\n    }\n    /**\n     * Retrieves a batch.\n     */\n    retrieve(batchId, options) {\n        return this._client.get(`/batches/${batchId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/batches', BatchesPage, { query, ...options });\n    }\n    /**\n     * Cancels an in-progress batch. The batch will be in status `cancelling` for up to\n     * 10 minutes, before changing to `cancelled`, where it will have partial results\n     * (if any) available in the output file.\n     */\n    cancel(batchId, options) {\n        return this._client.post(`/batches/${batchId}/cancel`, options);\n    }\n}\nexports.Batches = Batches;\nclass BatchesPage extends pagination_1.CursorPage {\n}\nexports.BatchesPage = BatchesPage;\nBatches.BatchesPage = BatchesPage;\n//# sourceMappingURL=batches.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssistantsPage = exports.Assistants = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst core_1 = require(\"../../core.js\");\nconst pagination_1 = require(\"../../pagination.js\");\nclass Assistants extends resource_1.APIResource {\n    /**\n     * Create an assistant with a model and instructions.\n     */\n    create(body, options) {\n        return this._client.post('/assistants', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves an assistant.\n     */\n    retrieve(assistantId, options) {\n        return this._client.get(`/assistants/${assistantId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies an assistant.\n     */\n    update(assistantId, body, options) {\n        return this._client.post(`/assistants/${assistantId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/assistants', AssistantsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete an assistant.\n     */\n    del(assistantId, options) {\n        return this._client.delete(`/assistants/${assistantId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexports.Assistants = Assistants;\nclass AssistantsPage extends pagination_1.CursorPage {\n}\nexports.AssistantsPage = AssistantsPage;\nAssistants.AssistantsPage = AssistantsPage;\n//# sourceMappingURL=assistants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParsingToolFunction = exports.ParsingFunction = exports.isRunnableFunctionWithParse = void 0;\nfunction isRunnableFunctionWithParse(fn) {\n    return typeof fn.parse === 'function';\n}\nexports.isRunnableFunctionWithParse = isRunnableFunctionWithParse;\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n *\n * @deprecated - please use ParsingToolFunction instead.\n */\nclass ParsingFunction {\n    constructor(input) {\n        this.function = input.function;\n        this.parse = input.parse;\n        this.parameters = input.parameters;\n        this.description = input.description;\n        this.name = input.name;\n    }\n}\nexports.ParsingFunction = ParsingFunction;\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n */\nclass ParsingToolFunction {\n    constructor(input) {\n        this.type = 'function';\n        this.function = input;\n    }\n}\nexports.ParsingToolFunction = ParsingToolFunction;\n//# sourceMappingURL=RunnableFunction.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPresent = exports.isToolMessage = exports.isFunctionMessage = exports.isAssistantMessage = void 0;\nconst isAssistantMessage = (message) => {\n    return message?.role === 'assistant';\n};\nexports.isAssistantMessage = isAssistantMessage;\nconst isFunctionMessage = (message) => {\n    return message?.role === 'function';\n};\nexports.isFunctionMessage = isFunctionMessage;\nconst isToolMessage = (message) => {\n    return message?.role === 'tool';\n};\nexports.isToolMessage = isToolMessage;\nfunction isPresent(obj) {\n    return obj != null;\n}\nexports.isPresent = isPresent;\n//# sourceMappingURL=chatCompletionUtils.js.map","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EventStream_instances, _EventStream_connectedPromise, _EventStream_resolveConnectedPromise, _EventStream_rejectConnectedPromise, _EventStream_endPromise, _EventStream_resolveEndPromise, _EventStream_rejectEndPromise, _EventStream_listeners, _EventStream_ended, _EventStream_errored, _EventStream_aborted, _EventStream_catchingPromiseCreated, _EventStream_handleError;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventStream = void 0;\nconst error_1 = require(\"../error.js\");\nclass EventStream {\n    constructor() {\n        _EventStream_instances.add(this);\n        this.controller = new AbortController();\n        _EventStream_connectedPromise.set(this, void 0);\n        _EventStream_resolveConnectedPromise.set(this, () => { });\n        _EventStream_rejectConnectedPromise.set(this, () => { });\n        _EventStream_endPromise.set(this, void 0);\n        _EventStream_resolveEndPromise.set(this, () => { });\n        _EventStream_rejectEndPromise.set(this, () => { });\n        _EventStream_listeners.set(this, {});\n        _EventStream_ended.set(this, false);\n        _EventStream_errored.set(this, false);\n        _EventStream_aborted.set(this, false);\n        _EventStream_catchingPromiseCreated.set(this, false);\n        __classPrivateFieldSet(this, _EventStream_connectedPromise, new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _EventStream_resolveConnectedPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectConnectedPromise, reject, \"f\");\n        }), \"f\");\n        __classPrivateFieldSet(this, _EventStream_endPromise, new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _EventStream_resolveEndPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectEndPromise, reject, \"f\");\n        }), \"f\");\n        // Don't let these promises cause unhandled rejection errors.\n        // we will manually cause an unhandled rejection error later\n        // if the user hasn't registered any error listener or called\n        // any promise-returning method.\n        __classPrivateFieldGet(this, _EventStream_connectedPromise, \"f\").catch(() => { });\n        __classPrivateFieldGet(this, _EventStream_endPromise, \"f\").catch(() => { });\n    }\n    _run(executor) {\n        // Unfortunately if we call `executor()` immediately we get runtime errors about\n        // references to `this` before the `super()` constructor call returns.\n        setTimeout(() => {\n            executor().then(() => {\n                this._emitFinal();\n                this._emit('end');\n            }, __classPrivateFieldGet(this, _EventStream_instances, \"m\", _EventStream_handleError).bind(this));\n        }, 0);\n    }\n    _connected() {\n        if (this.ended)\n            return;\n        __classPrivateFieldGet(this, _EventStream_resolveConnectedPromise, \"f\").call(this);\n        this._emit('connect');\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _EventStream_ended, \"f\");\n    }\n    get errored() {\n        return __classPrivateFieldGet(this, _EventStream_errored, \"f\");\n    }\n    get aborted() {\n        return __classPrivateFieldGet(this, _EventStream_aborted, \"f\");\n    }\n    abort() {\n        this.controller.abort();\n    }\n    /**\n     * Adds the listener function to the end of the listeners array for the event.\n     * No checks are made to see if the listener has already been added. Multiple calls passing\n     * the same combination of event and listener will result in the listener being added, and\n     * called, multiple times.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    on(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({ listener });\n        return this;\n    }\n    /**\n     * Removes the specified listener from the listener array for the event.\n     * off() will remove, at most, one instance of a listener from the listener array. If any single\n     * listener has been added multiple times to the listener array for the specified event, then\n     * off() must be called multiple times to remove each instance.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    off(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (!listeners)\n            return this;\n        const index = listeners.findIndex((l) => l.listener === listener);\n        if (index >= 0)\n            listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Adds a one-time listener function for the event. The next time the event is triggered,\n     * this listener is removed and then invoked.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    once(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({ listener, once: true });\n        return this;\n    }\n    /**\n     * This is similar to `.once()`, but returns a Promise that resolves the next time\n     * the event is triggered, instead of calling a listener callback.\n     * @returns a Promise that resolves the next time given event is triggered,\n     * or rejects if an error is emitted.  (If you request the 'error' event,\n     * returns a promise that resolves with the error).\n     *\n     * Example:\n     *\n     *   const message = await stream.emitted('message') // rejects if the stream errors\n     */\n    emitted(event) {\n        return new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n            if (event !== 'error')\n                this.once('error', reject);\n            this.once(event, resolve);\n        });\n    }\n    async done() {\n        __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n        await __classPrivateFieldGet(this, _EventStream_endPromise, \"f\");\n    }\n    _emit(event, ...args) {\n        // make sure we don't emit any events after end\n        if (__classPrivateFieldGet(this, _EventStream_ended, \"f\")) {\n            return;\n        }\n        if (event === 'end') {\n            __classPrivateFieldSet(this, _EventStream_ended, true, \"f\");\n            __classPrivateFieldGet(this, _EventStream_resolveEndPromise, \"f\").call(this);\n        }\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (listeners) {\n            __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = listeners.filter((l) => !l.once);\n            listeners.forEach(({ listener }) => listener(...args));\n        }\n        if (event === 'abort') {\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n            return;\n        }\n        if (event === 'error') {\n            // NOTE: _emit('error', error) should only be called from #handleError().\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                // Trigger an unhandled rejection if the user hasn't registered any error handlers.\n                // If you are seeing stack traces here, make sure to handle errors via either:\n                // - runner.on('error', () => ...)\n                // - await runner.done()\n                // - await runner.finalChatCompletion()\n                // - etc.\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n        }\n    }\n    _emitFinal() { }\n}\nexports.EventStream = EventStream;\n_EventStream_connectedPromise = new WeakMap(), _EventStream_resolveConnectedPromise = new WeakMap(), _EventStream_rejectConnectedPromise = new WeakMap(), _EventStream_endPromise = new WeakMap(), _EventStream_resolveEndPromise = new WeakMap(), _EventStream_rejectEndPromise = new WeakMap(), _EventStream_listeners = new WeakMap(), _EventStream_ended = new WeakMap(), _EventStream_errored = new WeakMap(), _EventStream_aborted = new WeakMap(), _EventStream_catchingPromiseCreated = new WeakMap(), _EventStream_instances = new WeakSet(), _EventStream_handleError = function _EventStream_handleError(error) {\n    __classPrivateFieldSet(this, _EventStream_errored, true, \"f\");\n    if (error instanceof Error && error.name === 'AbortError') {\n        error = new error_1.APIUserAbortError();\n    }\n    if (error instanceof error_1.APIUserAbortError) {\n        __classPrivateFieldSet(this, _EventStream_aborted, true, \"f\");\n        return this._emit('abort', error);\n    }\n    if (error instanceof error_1.OpenAIError) {\n        return this._emit('error', error);\n    }\n    if (error instanceof Error) {\n        const openAIError = new error_1.OpenAIError(error.message);\n        // @ts-ignore\n        openAIError.cause = error;\n        return this._emit('error', openAIError);\n    }\n    return this._emit('error', new error_1.OpenAIError(String(error)));\n};\n//# sourceMappingURL=EventStream.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateInputTools = exports.hasAutoParseableInput = exports.shouldParseToolCall = exports.parseChatCompletion = exports.maybeParseChatCompletion = exports.isAutoParsableTool = exports.makeParseableTool = exports.isAutoParsableResponseFormat = exports.makeParseableResponseFormat = void 0;\nconst error_1 = require(\"../error.js\");\nfunction makeParseableResponseFormat(response_format, parser) {\n    const obj = { ...response_format };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-response-format',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nexports.makeParseableResponseFormat = makeParseableResponseFormat;\nfunction isAutoParsableResponseFormat(response_format) {\n    return response_format?.['$brand'] === 'auto-parseable-response-format';\n}\nexports.isAutoParsableResponseFormat = isAutoParsableResponseFormat;\nfunction makeParseableTool(tool, { parser, callback, }) {\n    const obj = { ...tool };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-tool',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n        $callback: {\n            value: callback,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nexports.makeParseableTool = makeParseableTool;\nfunction isAutoParsableTool(tool) {\n    return tool?.['$brand'] === 'auto-parseable-tool';\n}\nexports.isAutoParsableTool = isAutoParsableTool;\nfunction maybeParseChatCompletion(completion, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...completion,\n            choices: completion.choices.map((choice) => ({\n                ...choice,\n                message: { ...choice.message, parsed: null, tool_calls: choice.message.tool_calls ?? [] },\n            })),\n        };\n    }\n    return parseChatCompletion(completion, params);\n}\nexports.maybeParseChatCompletion = maybeParseChatCompletion;\nfunction parseChatCompletion(completion, params) {\n    const choices = completion.choices.map((choice) => {\n        if (choice.finish_reason === 'length') {\n            throw new error_1.LengthFinishReasonError();\n        }\n        if (choice.finish_reason === 'content_filter') {\n            throw new error_1.ContentFilterFinishReasonError();\n        }\n        return {\n            ...choice,\n            message: {\n                ...choice.message,\n                tool_calls: choice.message.tool_calls?.map((toolCall) => parseToolCall(params, toolCall)) ?? [],\n                parsed: choice.message.content && !choice.message.refusal ?\n                    parseResponseFormat(params, choice.message.content)\n                    : null,\n            },\n        };\n    });\n    return { ...completion, choices };\n}\nexports.parseChatCompletion = parseChatCompletion;\nfunction parseResponseFormat(params, content) {\n    if (params.response_format?.type !== 'json_schema') {\n        return null;\n    }\n    if (params.response_format?.type === 'json_schema') {\n        if ('$parseRaw' in params.response_format) {\n            const response_format = params.response_format;\n            return response_format.$parseRaw(content);\n        }\n        return JSON.parse(content);\n    }\n    return null;\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = params.tools?.find((inputTool) => inputTool.function?.name === toolCall.function.name);\n    return {\n        ...toolCall,\n        function: {\n            ...toolCall.function,\n            parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments)\n                : inputTool?.function.strict ? JSON.parse(toolCall.function.arguments)\n                    : null,\n        },\n    };\n}\nfunction shouldParseToolCall(params, toolCall) {\n    if (!params) {\n        return false;\n    }\n    const inputTool = params.tools?.find((inputTool) => inputTool.function?.name === toolCall.function.name);\n    return isAutoParsableTool(inputTool) || inputTool?.function.strict || false;\n}\nexports.shouldParseToolCall = shouldParseToolCall;\nfunction hasAutoParseableInput(params) {\n    if (isAutoParsableResponseFormat(params.response_format)) {\n        return true;\n    }\n    return (params.tools?.some((t) => isAutoParsableTool(t) || (t.type === 'function' && t.function.strict === true)) ?? false);\n}\nexports.hasAutoParseableInput = hasAutoParseableInput;\nfunction validateInputTools(tools) {\n    for (const tool of tools ?? []) {\n        if (tool.type !== 'function') {\n            throw new error_1.OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new error_1.OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n}\nexports.validateInputTools = validateInputTools;\n//# sourceMappingURL=parser.js.map","\"use strict\";\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionCall, _AbstractChatCompletionRunner_getFinalFunctionCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractChatCompletionRunner = void 0;\nconst error_1 = require(\"../error.js\");\nconst RunnableFunction_1 = require(\"./RunnableFunction.js\");\nconst chatCompletionUtils_1 = require(\"./chatCompletionUtils.js\");\nconst EventStream_1 = require(\"./EventStream.js\");\nconst parser_1 = require(\"../lib/parser.js\");\nconst DEFAULT_MAX_CHAT_COMPLETIONS = 10;\nclass AbstractChatCompletionRunner extends EventStream_1.EventStream {\n    constructor() {\n        super(...arguments);\n        _AbstractChatCompletionRunner_instances.add(this);\n        this._chatCompletions = [];\n        this.messages = [];\n    }\n    _addChatCompletion(chatCompletion) {\n        this._chatCompletions.push(chatCompletion);\n        this._emit('chatCompletion', chatCompletion);\n        const message = chatCompletion.choices[0]?.message;\n        if (message)\n            this._addMessage(message);\n        return chatCompletion;\n    }\n    _addMessage(message, emit = true) {\n        if (!('content' in message))\n            message.content = null;\n        this.messages.push(message);\n        if (emit) {\n            this._emit('message', message);\n            if (((0, chatCompletionUtils_1.isFunctionMessage)(message) || (0, chatCompletionUtils_1.isToolMessage)(message)) && message.content) {\n                // Note, this assumes that {role: 'tool', content: …} is always the result of a call of tool of type=function.\n                this._emit('functionCallResult', message.content);\n            }\n            else if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message.function_call) {\n                this._emit('functionCall', message.function_call);\n            }\n            else if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message.tool_calls) {\n                for (const tool_call of message.tool_calls) {\n                    if (tool_call.type === 'function') {\n                        this._emit('functionCall', tool_call.function);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * @returns a promise that resolves with the final ChatCompletion, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletion.\n     */\n    async finalChatCompletion() {\n        await this.done();\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (!completion)\n            throw new error_1.OpenAIError('stream ended without producing a ChatCompletion');\n        return completion;\n    }\n    /**\n     * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalContent() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,\n     * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalMessage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the content of the final FunctionCall, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalFunctionCall() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n    }\n    async finalFunctionCallResult() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n    }\n    async totalUsage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);\n    }\n    allChatCompletions() {\n        return [...this._chatCompletions];\n    }\n    _emitFinal() {\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (completion)\n            this._emit('finalChatCompletion', completion);\n        const finalMessage = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n        if (finalMessage)\n            this._emit('finalMessage', finalMessage);\n        const finalContent = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n        if (finalContent)\n            this._emit('finalContent', finalContent);\n        const finalFunctionCall = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n        if (finalFunctionCall)\n            this._emit('finalFunctionCall', finalFunctionCall);\n        const finalFunctionCallResult = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n        if (finalFunctionCallResult != null)\n            this._emit('finalFunctionCallResult', finalFunctionCallResult);\n        if (this._chatCompletions.some((c) => c.usage)) {\n            this._emit('totalUsage', __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));\n        }\n    }\n    async _createChatCompletion(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_validateParams).call(this, params);\n        const chatCompletion = await client.chat.completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });\n        this._connected();\n        return this._addChatCompletion((0, parser_1.parseChatCompletion)(chatCompletion, params));\n    }\n    async _runChatCompletion(client, params, options) {\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        return await this._createChatCompletion(client, params, options);\n    }\n    async _runFunctions(client, params, options) {\n        const role = 'function';\n        const { function_call = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof function_call !== 'string' && function_call?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        const functionsByName = {};\n        for (const f of params.functions) {\n            functionsByName[f.name || f.function.name] = f;\n        }\n        const functions = params.functions.map((f) => ({\n            name: f.name || f.function.name,\n            parameters: f.parameters,\n            description: f.description,\n        }));\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                function_call,\n                functions,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new error_1.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.function_call)\n                return;\n            const { name, arguments: args } = message.function_call;\n            const fn = functionsByName[name];\n            if (!fn) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions\n                    .map((f) => JSON.stringify(f.name))\n                    .join(', ')}. Please try again`;\n                this._addMessage({ role, name, content });\n                continue;\n            }\n            else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                this._addMessage({ role, name, content });\n                continue;\n            }\n            let parsed;\n            try {\n                parsed = (0, RunnableFunction_1.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n            }\n            catch (error) {\n                this._addMessage({\n                    role,\n                    name,\n                    content: error instanceof Error ? error.message : String(error),\n                });\n                continue;\n            }\n            // @ts-expect-error it can't rule out `never` type.\n            const rawContent = await fn.function(parsed, this);\n            const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n            this._addMessage({ role, name, content });\n            if (singleFunctionToCall)\n                return;\n        }\n    }\n    async _runTools(client, params, options) {\n        const role = 'tool';\n        const { tool_choice = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof tool_choice !== 'string' && tool_choice?.function?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        // TODO(someday): clean this logic up\n        const inputTools = params.tools.map((tool) => {\n            if ((0, parser_1.isAutoParsableTool)(tool)) {\n                if (!tool.$callback) {\n                    throw new error_1.OpenAIError('Tool given to `.runTools()` that does not have an associated function');\n                }\n                return {\n                    type: 'function',\n                    function: {\n                        function: tool.$callback,\n                        name: tool.function.name,\n                        description: tool.function.description || '',\n                        parameters: tool.function.parameters,\n                        parse: tool.$parseRaw,\n                        strict: true,\n                    },\n                };\n            }\n            return tool;\n        });\n        const functionsByName = {};\n        for (const f of inputTools) {\n            if (f.type === 'function') {\n                functionsByName[f.function.name || f.function.function.name] = f.function;\n            }\n        }\n        const tools = 'tools' in params ?\n            inputTools.map((t) => t.type === 'function' ?\n                {\n                    type: 'function',\n                    function: {\n                        name: t.function.name || t.function.function.name,\n                        parameters: t.function.parameters,\n                        description: t.function.description,\n                        strict: t.function.strict,\n                    },\n                }\n                : t)\n            : undefined;\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                tool_choice,\n                tools,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new error_1.OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.tool_calls?.length) {\n                return;\n            }\n            for (const tool_call of message.tool_calls) {\n                if (tool_call.type !== 'function')\n                    continue;\n                const tool_call_id = tool_call.id;\n                const { name, arguments: args } = tool_call.function;\n                const fn = functionsByName[name];\n                if (!fn) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName)\n                        .map((name) => JSON.stringify(name))\n                        .join(', ')}. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                let parsed;\n                try {\n                    parsed = (0, RunnableFunction_1.isRunnableFunctionWithParse)(fn) ? await fn.parse(args) : args;\n                }\n                catch (error) {\n                    const content = error instanceof Error ? error.message : String(error);\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                // @ts-expect-error it can't rule out `never` type.\n                const rawContent = await fn.function(parsed, this);\n                const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n                this._addMessage({ role, tool_call_id, content });\n                if (singleFunctionToCall) {\n                    return;\n                }\n            }\n        }\n        return;\n    }\n}\nexports.AbstractChatCompletionRunner = AbstractChatCompletionRunner;\n_AbstractChatCompletionRunner_instances = new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent() {\n    return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this).content ?? null;\n}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage() {\n    let i = this.messages.length;\n    while (i-- > 0) {\n        const message = this.messages[i];\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message)) {\n            const { function_call, ...rest } = message;\n            // TODO: support audio here\n            const ret = {\n                ...rest,\n                content: message.content ?? null,\n                refusal: message.refusal ?? null,\n            };\n            if (function_call) {\n                ret.function_call = function_call;\n            }\n            return ret;\n        }\n    }\n    throw new error_1.OpenAIError('stream ended without producing a ChatCompletionMessage with role=assistant');\n}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message?.function_call) {\n            return message.function_call;\n        }\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message?.tool_calls?.length) {\n            return message.tool_calls.at(-1)?.function;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if ((0, chatCompletionUtils_1.isFunctionMessage)(message) && message.content != null) {\n            return message.content;\n        }\n        if ((0, chatCompletionUtils_1.isToolMessage)(message) &&\n            message.content != null &&\n            typeof message.content === 'string' &&\n            this.messages.some((x) => x.role === 'assistant' &&\n                x.tool_calls?.some((y) => y.type === 'function' && y.id === message.tool_call_id))) {\n            return message.content;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage() {\n    const total = {\n        completion_tokens: 0,\n        prompt_tokens: 0,\n        total_tokens: 0,\n    };\n    for (const { usage } of this._chatCompletions) {\n        if (usage) {\n            total.completion_tokens += usage.completion_tokens;\n            total.prompt_tokens += usage.prompt_tokens;\n            total.total_tokens += usage.total_tokens;\n        }\n    }\n    return total;\n}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams(params) {\n    if (params.n != null && params.n > 1) {\n        throw new error_1.OpenAIError('ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.');\n    }\n}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult(rawContent) {\n    return (typeof rawContent === 'string' ? rawContent\n        : rawContent === undefined ? 'undefined'\n            : JSON.stringify(rawContent));\n};\n//# sourceMappingURL=AbstractChatCompletionRunner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionRunner = void 0;\nconst AbstractChatCompletionRunner_1 = require(\"./AbstractChatCompletionRunner.js\");\nconst chatCompletionUtils_1 = require(\"./chatCompletionUtils.js\");\nclass ChatCompletionRunner extends AbstractChatCompletionRunner_1.AbstractChatCompletionRunner {\n    /** @deprecated - please use `runTools` instead. */\n    static runFunctions(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runFunctions' },\n        };\n        runner._run(() => runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\n        };\n        runner._run(() => runner._runTools(client, params, opts));\n        return runner;\n    }\n    _addMessage(message, emit = true) {\n        super._addMessage(message, emit);\n        if ((0, chatCompletionUtils_1.isAssistantMessage)(message) && message.content) {\n            this._emit('content', message.content);\n        }\n    }\n}\nexports.ChatCompletionRunner = ChatCompletionRunner;\n//# sourceMappingURL=ChatCompletionRunner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MalformedJSON = exports.PartialJSON = exports.partialParse = void 0;\nconst STR = 0b000000001;\nconst NUM = 0b000000010;\nconst ARR = 0b000000100;\nconst OBJ = 0b000001000;\nconst NULL = 0b000010000;\nconst BOOL = 0b000100000;\nconst NAN = 0b001000000;\nconst INFINITY = 0b010000000;\nconst MINUS_INFINITY = 0b100000000;\nconst INF = INFINITY | MINUS_INFINITY;\nconst SPECIAL = NULL | BOOL | INF | NAN;\nconst ATOM = STR | NUM | SPECIAL;\nconst COLLECTION = ARR | OBJ;\nconst ALL = ATOM | COLLECTION;\nconst Allow = {\n    STR,\n    NUM,\n    ARR,\n    OBJ,\n    NULL,\n    BOOL,\n    NAN,\n    INFINITY,\n    MINUS_INFINITY,\n    INF,\n    SPECIAL,\n    ATOM,\n    COLLECTION,\n    ALL,\n};\n// The JSON string segment was unable to be parsed completely\nclass PartialJSON extends Error {\n}\nexports.PartialJSON = PartialJSON;\nclass MalformedJSON extends Error {\n}\nexports.MalformedJSON = MalformedJSON;\n/**\n * Parse incomplete JSON\n * @param {string} jsonString Partial JSON to be parsed\n * @param {number} allowPartial Specify what types are allowed to be partial, see {@link Allow} for details\n * @returns The parsed JSON\n * @throws {PartialJSON} If the JSON is incomplete (related to the `allow` parameter)\n * @throws {MalformedJSON} If the JSON is malformed\n */\nfunction parseJSON(jsonString, allowPartial = Allow.ALL) {\n    if (typeof jsonString !== 'string') {\n        throw new TypeError(`expecting str, got ${typeof jsonString}`);\n    }\n    if (!jsonString.trim()) {\n        throw new Error(`${jsonString} is empty`);\n    }\n    return _parseJSON(jsonString.trim(), allowPartial);\n}\nconst _parseJSON = (jsonString, allow) => {\n    const length = jsonString.length;\n    let index = 0;\n    const markPartialJSON = (msg) => {\n        throw new PartialJSON(`${msg} at position ${index}`);\n    };\n    const throwMalformedError = (msg) => {\n        throw new MalformedJSON(`${msg} at position ${index}`);\n    };\n    const parseAny = () => {\n        skipBlank();\n        if (index >= length)\n            markPartialJSON('Unexpected end of input');\n        if (jsonString[index] === '\"')\n            return parseStr();\n        if (jsonString[index] === '{')\n            return parseObj();\n        if (jsonString[index] === '[')\n            return parseArr();\n        if (jsonString.substring(index, index + 4) === 'null' ||\n            (Allow.NULL & allow && length - index < 4 && 'null'.startsWith(jsonString.substring(index)))) {\n            index += 4;\n            return null;\n        }\n        if (jsonString.substring(index, index + 4) === 'true' ||\n            (Allow.BOOL & allow && length - index < 4 && 'true'.startsWith(jsonString.substring(index)))) {\n            index += 4;\n            return true;\n        }\n        if (jsonString.substring(index, index + 5) === 'false' ||\n            (Allow.BOOL & allow && length - index < 5 && 'false'.startsWith(jsonString.substring(index)))) {\n            index += 5;\n            return false;\n        }\n        if (jsonString.substring(index, index + 8) === 'Infinity' ||\n            (Allow.INFINITY & allow && length - index < 8 && 'Infinity'.startsWith(jsonString.substring(index)))) {\n            index += 8;\n            return Infinity;\n        }\n        if (jsonString.substring(index, index + 9) === '-Infinity' ||\n            (Allow.MINUS_INFINITY & allow &&\n                1 < length - index &&\n                length - index < 9 &&\n                '-Infinity'.startsWith(jsonString.substring(index)))) {\n            index += 9;\n            return -Infinity;\n        }\n        if (jsonString.substring(index, index + 3) === 'NaN' ||\n            (Allow.NAN & allow && length - index < 3 && 'NaN'.startsWith(jsonString.substring(index)))) {\n            index += 3;\n            return NaN;\n        }\n        return parseNum();\n    };\n    const parseStr = () => {\n        const start = index;\n        let escape = false;\n        index++; // skip initial quote\n        while (index < length && (jsonString[index] !== '\"' || (escape && jsonString[index - 1] === '\\\\'))) {\n            escape = jsonString[index] === '\\\\' ? !escape : false;\n            index++;\n        }\n        if (jsonString.charAt(index) == '\"') {\n            try {\n                return JSON.parse(jsonString.substring(start, ++index - Number(escape)));\n            }\n            catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n        else if (Allow.STR & allow) {\n            try {\n                return JSON.parse(jsonString.substring(start, index - Number(escape)) + '\"');\n            }\n            catch (e) {\n                // SyntaxError: Invalid escape sequence\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf('\\\\')) + '\"');\n            }\n        }\n        markPartialJSON('Unterminated string literal');\n    };\n    const parseObj = () => {\n        index++; // skip initial brace\n        skipBlank();\n        const obj = {};\n        try {\n            while (jsonString[index] !== '}') {\n                skipBlank();\n                if (index >= length && Allow.OBJ & allow)\n                    return obj;\n                const key = parseStr();\n                skipBlank();\n                index++; // skip colon\n                try {\n                    const value = parseAny();\n                    Object.defineProperty(obj, key, { value, writable: true, enumerable: true, configurable: true });\n                }\n                catch (e) {\n                    if (Allow.OBJ & allow)\n                        return obj;\n                    else\n                        throw e;\n                }\n                skipBlank();\n                if (jsonString[index] === ',')\n                    index++; // skip comma\n            }\n        }\n        catch (e) {\n            if (Allow.OBJ & allow)\n                return obj;\n            else\n                markPartialJSON(\"Expected '}' at end of object\");\n        }\n        index++; // skip final brace\n        return obj;\n    };\n    const parseArr = () => {\n        index++; // skip initial bracket\n        const arr = [];\n        try {\n            while (jsonString[index] !== ']') {\n                arr.push(parseAny());\n                skipBlank();\n                if (jsonString[index] === ',') {\n                    index++; // skip comma\n                }\n            }\n        }\n        catch (e) {\n            if (Allow.ARR & allow) {\n                return arr;\n            }\n            markPartialJSON(\"Expected ']' at end of array\");\n        }\n        index++; // skip final bracket\n        return arr;\n    };\n    const parseNum = () => {\n        if (index === 0) {\n            if (jsonString === '-' && Allow.NUM & allow)\n                markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString);\n            }\n            catch (e) {\n                if (Allow.NUM & allow) {\n                    try {\n                        if ('.' === jsonString[jsonString.length - 1])\n                            return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf('.')));\n                        return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf('e')));\n                    }\n                    catch (e) { }\n                }\n                throwMalformedError(String(e));\n            }\n        }\n        const start = index;\n        if (jsonString[index] === '-')\n            index++;\n        while (jsonString[index] && !',]}'.includes(jsonString[index]))\n            index++;\n        if (index == length && !(Allow.NUM & allow))\n            markPartialJSON('Unterminated number literal');\n        try {\n            return JSON.parse(jsonString.substring(start, index));\n        }\n        catch (e) {\n            if (jsonString.substring(start, index) === '-' && Allow.NUM & allow)\n                markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf('e')));\n            }\n            catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n    };\n    const skipBlank = () => {\n        while (index < length && ' \\n\\r\\t'.includes(jsonString[index])) {\n            index++;\n        }\n    };\n    return parseAny();\n};\n// using this function with malformed JSON is undefined behavior\nconst partialParse = (input) => parseJSON(input, Allow.ALL ^ Allow.NUM);\nexports.partialParse = partialParse;\n//# sourceMappingURL=parser.js.map","\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ChatCompletionStream_instances, _ChatCompletionStream_params, _ChatCompletionStream_choiceEventStates, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_getChoiceEventState, _ChatCompletionStream_addChunk, _ChatCompletionStream_emitToolCallDoneEvent, _ChatCompletionStream_emitContentDoneEvents, _ChatCompletionStream_endRequest, _ChatCompletionStream_getAutoParseableResponseFormat, _ChatCompletionStream_accumulateChatCompletion;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionStream = void 0;\nconst error_1 = require(\"../error.js\");\nconst AbstractChatCompletionRunner_1 = require(\"./AbstractChatCompletionRunner.js\");\nconst streaming_1 = require(\"../streaming.js\");\nconst parser_1 = require(\"../lib/parser.js\");\nconst parser_2 = require(\"../_vendor/partial-json-parser/parser.js\");\nclass ChatCompletionStream extends AbstractChatCompletionRunner_1.AbstractChatCompletionRunner {\n    constructor(params) {\n        super();\n        _ChatCompletionStream_instances.add(this);\n        _ChatCompletionStream_params.set(this, void 0);\n        _ChatCompletionStream_choiceEventStates.set(this, void 0);\n        _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);\n        __classPrivateFieldSet(this, _ChatCompletionStream_params, params, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n    }\n    get currentChatCompletionSnapshot() {\n        return __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n    }\n    /**\n     * Intended for use on the frontend, consuming a stream produced with\n     * `.toReadableStream()` on the backend.\n     *\n     * Note that messages sent to the model do not appear in `.on('message')`\n     * in this context.\n     */\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStream(null);\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    static createChatCompletion(client, params, options) {\n        const runner = new ChatCompletionStream(params);\n        runner._run(() => runner._runChatCompletion(client, { ...params, stream: true }, { ...options, headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' } }));\n        return runner;\n    }\n    async _createChatCompletion(client, params, options) {\n        super._createChatCompletion;\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        const stream = await client.chat.completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const chunk of stream) {\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        this._connected();\n        const stream = streaming_1.Stream.fromReadableStream(readableStream, this.controller);\n        let chatId;\n        for await (const chunk of stream) {\n            if (chatId && chatId !== chunk.id) {\n                // A new request has been made.\n                this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n            }\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n            chatId = chunk.id;\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    [(_ChatCompletionStream_params = new WeakMap(), _ChatCompletionStream_choiceEventStates = new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = new WeakMap(), _ChatCompletionStream_instances = new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest() {\n        if (this.ended)\n            return;\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n    }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState(choice) {\n        let state = __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index];\n        if (state) {\n            return state;\n        }\n        state = {\n            content_done: false,\n            refusal_done: false,\n            logprobs_content_done: false,\n            logprobs_refusal_done: false,\n            done_tool_calls: new Set(),\n            current_tool_call_index: null,\n        };\n        __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index] = state;\n        return state;\n    }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk(chunk) {\n        if (this.ended)\n            return;\n        const completion = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);\n        this._emit('chunk', chunk, completion);\n        for (const choice of chunk.choices) {\n            const choiceSnapshot = completion.choices[choice.index];\n            if (choice.delta.content != null &&\n                choiceSnapshot.message?.role === 'assistant' &&\n                choiceSnapshot.message?.content) {\n                this._emit('content', choice.delta.content, choiceSnapshot.message.content);\n                this._emit('content.delta', {\n                    delta: choice.delta.content,\n                    snapshot: choiceSnapshot.message.content,\n                    parsed: choiceSnapshot.message.parsed,\n                });\n            }\n            if (choice.delta.refusal != null &&\n                choiceSnapshot.message?.role === 'assistant' &&\n                choiceSnapshot.message?.refusal) {\n                this._emit('refusal.delta', {\n                    delta: choice.delta.refusal,\n                    snapshot: choiceSnapshot.message.refusal,\n                });\n            }\n            if (choice.logprobs?.content != null && choiceSnapshot.message?.role === 'assistant') {\n                this._emit('logprobs.content.delta', {\n                    content: choice.logprobs?.content,\n                    snapshot: choiceSnapshot.logprobs?.content ?? [],\n                });\n            }\n            if (choice.logprobs?.refusal != null && choiceSnapshot.message?.role === 'assistant') {\n                this._emit('logprobs.refusal.delta', {\n                    refusal: choice.logprobs?.refusal,\n                    snapshot: choiceSnapshot.logprobs?.refusal ?? [],\n                });\n            }\n            const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n            if (choiceSnapshot.finish_reason) {\n                __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                if (state.current_tool_call_index != null) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                }\n            }\n            for (const toolCall of choice.delta.tool_calls ?? []) {\n                if (state.current_tool_call_index !== toolCall.index) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                    // new tool call started, the previous one is done\n                    if (state.current_tool_call_index != null) {\n                        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                    }\n                }\n                state.current_tool_call_index = toolCall.index;\n            }\n            for (const toolCallDelta of choice.delta.tool_calls ?? []) {\n                const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallDelta.index];\n                if (!toolCallSnapshot?.type) {\n                    continue;\n                }\n                if (toolCallSnapshot?.type === 'function') {\n                    this._emit('tool_calls.function.arguments.delta', {\n                        name: toolCallSnapshot.function?.name,\n                        index: toolCallDelta.index,\n                        arguments: toolCallSnapshot.function.arguments,\n                        parsed_arguments: toolCallSnapshot.function.parsed_arguments,\n                        arguments_delta: toolCallDelta.function?.arguments ?? '',\n                    });\n                }\n                else {\n                    assertNever(toolCallSnapshot?.type);\n                }\n            }\n        }\n    }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent(choiceSnapshot, toolCallIndex) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (state.done_tool_calls.has(toolCallIndex)) {\n            // we've already fired the done event\n            return;\n        }\n        const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallIndex];\n        if (!toolCallSnapshot) {\n            throw new Error('no tool call snapshot');\n        }\n        if (!toolCallSnapshot.type) {\n            throw new Error('tool call snapshot missing `type`');\n        }\n        if (toolCallSnapshot.type === 'function') {\n            const inputTool = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.tools?.find((tool) => tool.type === 'function' && tool.function.name === toolCallSnapshot.function.name);\n            this._emit('tool_calls.function.arguments.done', {\n                name: toolCallSnapshot.function.name,\n                index: toolCallIndex,\n                arguments: toolCallSnapshot.function.arguments,\n                parsed_arguments: (0, parser_1.isAutoParsableTool)(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments)\n                    : inputTool?.function.strict ? JSON.parse(toolCallSnapshot.function.arguments)\n                        : null,\n            });\n        }\n        else {\n            assertNever(toolCallSnapshot.type);\n        }\n    }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents(choiceSnapshot) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (choiceSnapshot.message.content && !state.content_done) {\n            state.content_done = true;\n            const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);\n            this._emit('content.done', {\n                content: choiceSnapshot.message.content,\n                parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null,\n            });\n        }\n        if (choiceSnapshot.message.refusal && !state.refusal_done) {\n            state.refusal_done = true;\n            this._emit('refusal.done', { refusal: choiceSnapshot.message.refusal });\n        }\n        if (choiceSnapshot.logprobs?.content && !state.logprobs_content_done) {\n            state.logprobs_content_done = true;\n            this._emit('logprobs.content.done', { content: choiceSnapshot.logprobs.content });\n        }\n        if (choiceSnapshot.logprobs?.refusal && !state.logprobs_refusal_done) {\n            state.logprobs_refusal_done = true;\n            this._emit('logprobs.refusal.done', { refusal: choiceSnapshot.logprobs.refusal });\n        }\n    }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest() {\n        if (this.ended) {\n            throw new error_1.OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        if (!snapshot) {\n            throw new error_1.OpenAIError(`request ended without sending any chunks`);\n        }\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n        return finalizeChatCompletion(snapshot, __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"));\n    }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat() {\n        const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.response_format;\n        if ((0, parser_1.isAutoParsableResponseFormat)(responseFormat)) {\n            return responseFormat;\n        }\n        return null;\n    }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion(chunk) {\n        var _a, _b, _c, _d;\n        let snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        const { choices, ...rest } = chunk;\n        if (!snapshot) {\n            snapshot = __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, {\n                ...rest,\n                choices: [],\n            }, \"f\");\n        }\n        else {\n            Object.assign(snapshot, rest);\n        }\n        for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices) {\n            let choice = snapshot.choices[index];\n            if (!choice) {\n                choice = snapshot.choices[index] = { finish_reason, index, message: {}, logprobs, ...other };\n            }\n            if (logprobs) {\n                if (!choice.logprobs) {\n                    choice.logprobs = Object.assign({}, logprobs);\n                }\n                else {\n                    const { content, refusal, ...rest } = logprobs;\n                    assertIsEmpty(rest);\n                    Object.assign(choice.logprobs, rest);\n                    if (content) {\n                        (_a = choice.logprobs).content ?? (_a.content = []);\n                        choice.logprobs.content.push(...content);\n                    }\n                    if (refusal) {\n                        (_b = choice.logprobs).refusal ?? (_b.refusal = []);\n                        choice.logprobs.refusal.push(...refusal);\n                    }\n                }\n            }\n            if (finish_reason) {\n                choice.finish_reason = finish_reason;\n                if (__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\") && (0, parser_1.hasAutoParseableInput)(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"))) {\n                    if (finish_reason === 'length') {\n                        throw new error_1.LengthFinishReasonError();\n                    }\n                    if (finish_reason === 'content_filter') {\n                        throw new error_1.ContentFilterFinishReasonError();\n                    }\n                }\n            }\n            Object.assign(choice, other);\n            if (!delta)\n                continue; // Shouldn't happen; just in case.\n            const { content, refusal, function_call, role, tool_calls, ...rest } = delta;\n            assertIsEmpty(rest);\n            Object.assign(choice.message, rest);\n            if (refusal) {\n                choice.message.refusal = (choice.message.refusal || '') + refusal;\n            }\n            if (role)\n                choice.message.role = role;\n            if (function_call) {\n                if (!choice.message.function_call) {\n                    choice.message.function_call = function_call;\n                }\n                else {\n                    if (function_call.name)\n                        choice.message.function_call.name = function_call.name;\n                    if (function_call.arguments) {\n                        (_c = choice.message.function_call).arguments ?? (_c.arguments = '');\n                        choice.message.function_call.arguments += function_call.arguments;\n                    }\n                }\n            }\n            if (content) {\n                choice.message.content = (choice.message.content || '') + content;\n                if (!choice.message.refusal && __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {\n                    choice.message.parsed = (0, parser_2.partialParse)(choice.message.content);\n                }\n            }\n            if (tool_calls) {\n                if (!choice.message.tool_calls)\n                    choice.message.tool_calls = [];\n                for (const { index, id, type, function: fn, ...rest } of tool_calls) {\n                    const tool_call = ((_d = choice.message.tool_calls)[index] ?? (_d[index] = {}));\n                    Object.assign(tool_call, rest);\n                    if (id)\n                        tool_call.id = id;\n                    if (type)\n                        tool_call.type = type;\n                    if (fn)\n                        tool_call.function ?? (tool_call.function = { name: fn.name ?? '', arguments: '' });\n                    if (fn?.name)\n                        tool_call.function.name = fn.name;\n                    if (fn?.arguments) {\n                        tool_call.function.arguments += fn.arguments;\n                        if ((0, parser_1.shouldParseToolCall)(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"), tool_call)) {\n                            tool_call.function.parsed_arguments = (0, parser_2.partialParse)(tool_call.function.arguments);\n                        }\n                    }\n                }\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on('chunk', (chunk) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(chunk);\n            }\n            else {\n                pushQueue.push(chunk);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    toReadableStream() {\n        const stream = new streaming_1.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n}\nexports.ChatCompletionStream = ChatCompletionStream;\nfunction finalizeChatCompletion(snapshot, params) {\n    const { id, choices, created, model, system_fingerprint, ...rest } = snapshot;\n    const completion = {\n        ...rest,\n        id,\n        choices: choices.map(({ message, finish_reason, index, logprobs, ...choiceRest }) => {\n            if (!finish_reason) {\n                throw new error_1.OpenAIError(`missing finish_reason for choice ${index}`);\n            }\n            const { content = null, function_call, tool_calls, ...messageRest } = message;\n            const role = message.role; // this is what we expect; in theory it could be different which would make our types a slight lie but would be fine.\n            if (!role) {\n                throw new error_1.OpenAIError(`missing role for choice ${index}`);\n            }\n            if (function_call) {\n                const { arguments: args, name } = function_call;\n                if (args == null) {\n                    throw new error_1.OpenAIError(`missing function_call.arguments for choice ${index}`);\n                }\n                if (!name) {\n                    throw new error_1.OpenAIError(`missing function_call.name for choice ${index}`);\n                }\n                return {\n                    ...choiceRest,\n                    message: {\n                        content,\n                        function_call: { arguments: args, name },\n                        role,\n                        refusal: message.refusal ?? null,\n                    },\n                    finish_reason,\n                    index,\n                    logprobs,\n                };\n            }\n            if (tool_calls) {\n                return {\n                    ...choiceRest,\n                    index,\n                    finish_reason,\n                    logprobs,\n                    message: {\n                        ...messageRest,\n                        role,\n                        content,\n                        refusal: message.refusal ?? null,\n                        tool_calls: tool_calls.map((tool_call, i) => {\n                            const { function: fn, type, id, ...toolRest } = tool_call;\n                            const { arguments: args, name, ...fnRest } = fn || {};\n                            if (id == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].id\\n${str(snapshot)}`);\n                            }\n                            if (type == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].type\\n${str(snapshot)}`);\n                            }\n                            if (name == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name\\n${str(snapshot)}`);\n                            }\n                            if (args == null) {\n                                throw new error_1.OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments\\n${str(snapshot)}`);\n                            }\n                            return { ...toolRest, id, type, function: { ...fnRest, name, arguments: args } };\n                        }),\n                    },\n                };\n            }\n            return {\n                ...choiceRest,\n                message: { ...messageRest, content, role, refusal: message.refusal ?? null },\n                finish_reason,\n                index,\n                logprobs,\n            };\n        }),\n        created,\n        model,\n        object: 'chat.completion',\n        ...(system_fingerprint ? { system_fingerprint } : {}),\n    };\n    return (0, parser_1.maybeParseChatCompletion)(completion, params);\n}\nfunction str(x) {\n    return JSON.stringify(x);\n}\n/**\n * Ensures the given argument is an empty object, useful for\n * asserting that all known properties on an object have been\n * destructured.\n */\nfunction assertIsEmpty(obj) {\n    return;\n}\nfunction assertNever(_x) { }\n//# sourceMappingURL=ChatCompletionStream.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatCompletionStreamingRunner = void 0;\nconst ChatCompletionStream_1 = require(\"./ChatCompletionStream.js\");\nclass ChatCompletionStreamingRunner extends ChatCompletionStream_1.ChatCompletionStream {\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    /** @deprecated - please use `runTools` instead. */\n    static runFunctions(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runFunctions' },\n        };\n        runner._run(() => runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(\n        // @ts-expect-error TODO these types are incompatible\n        params);\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\n        };\n        runner._run(() => runner._runTools(client, params, opts));\n        return runner;\n    }\n}\nexports.ChatCompletionStreamingRunner = ChatCompletionStreamingRunner;\n//# sourceMappingURL=ChatCompletionStreamingRunner.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Completions = exports.ChatCompletionRunner = exports.ChatCompletionStream = exports.ParsingToolFunction = exports.ParsingFunction = exports.ChatCompletionStreamingRunner = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst ChatCompletionRunner_1 = require(\"../../../lib/ChatCompletionRunner.js\");\nconst ChatCompletionStreamingRunner_1 = require(\"../../../lib/ChatCompletionStreamingRunner.js\");\nconst ChatCompletionStream_1 = require(\"../../../lib/ChatCompletionStream.js\");\nconst parser_1 = require(\"../../../lib/parser.js\");\nvar ChatCompletionStreamingRunner_2 = require(\"../../../lib/ChatCompletionStreamingRunner.js\");\nObject.defineProperty(exports, \"ChatCompletionStreamingRunner\", { enumerable: true, get: function () { return ChatCompletionStreamingRunner_2.ChatCompletionStreamingRunner; } });\nvar RunnableFunction_1 = require(\"../../../lib/RunnableFunction.js\");\nObject.defineProperty(exports, \"ParsingFunction\", { enumerable: true, get: function () { return RunnableFunction_1.ParsingFunction; } });\nObject.defineProperty(exports, \"ParsingToolFunction\", { enumerable: true, get: function () { return RunnableFunction_1.ParsingToolFunction; } });\nvar ChatCompletionStream_2 = require(\"../../../lib/ChatCompletionStream.js\");\nObject.defineProperty(exports, \"ChatCompletionStream\", { enumerable: true, get: function () { return ChatCompletionStream_2.ChatCompletionStream; } });\nvar ChatCompletionRunner_2 = require(\"../../../lib/ChatCompletionRunner.js\");\nObject.defineProperty(exports, \"ChatCompletionRunner\", { enumerable: true, get: function () { return ChatCompletionRunner_2.ChatCompletionRunner; } });\nclass Completions extends resource_1.APIResource {\n    parse(body, options) {\n        (0, parser_1.validateInputTools)(body.tools);\n        return this._client.chat.completions\n            .create(body, {\n            ...options,\n            headers: {\n                ...options?.headers,\n                'X-Stainless-Helper-Method': 'beta.chat.completions.parse',\n            },\n        })\n            ._thenUnwrap((completion) => (0, parser_1.parseChatCompletion)(completion, body));\n    }\n    runFunctions(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner_1.ChatCompletionStreamingRunner.runFunctions(this._client, body, options);\n        }\n        return ChatCompletionRunner_1.ChatCompletionRunner.runFunctions(this._client, body, options);\n    }\n    runTools(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner_1.ChatCompletionStreamingRunner.runTools(this._client, body, options);\n        }\n        return ChatCompletionRunner_1.ChatCompletionRunner.runTools(this._client, body, options);\n    }\n    /**\n     * Creates a chat completion stream\n     */\n    stream(body, options) {\n        return ChatCompletionStream_1.ChatCompletionStream.createChatCompletion(this._client, body, options);\n    }\n}\nexports.Completions = Completions;\n//# sourceMappingURL=completions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Chat = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst CompletionsAPI = __importStar(require(\"./completions.js\"));\nclass Chat extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this._client);\n    }\n}\nexports.Chat = Chat;\n(function (Chat) {\n    Chat.Completions = CompletionsAPI.Completions;\n})(Chat = exports.Chat || (exports.Chat = {}));\n//# sourceMappingURL=chat.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _AssistantStream_instances, _AssistantStream_events, _AssistantStream_runStepSnapshots, _AssistantStream_messageSnapshots, _AssistantStream_messageSnapshot, _AssistantStream_finalRun, _AssistantStream_currentContentIndex, _AssistantStream_currentContent, _AssistantStream_currentToolCallIndex, _AssistantStream_currentToolCall, _AssistantStream_currentEvent, _AssistantStream_currentRunSnapshot, _AssistantStream_currentRunStepSnapshot, _AssistantStream_addEvent, _AssistantStream_endRequest, _AssistantStream_handleMessage, _AssistantStream_handleRunStep, _AssistantStream_handleEvent, _AssistantStream_accumulateRunStep, _AssistantStream_accumulateMessage, _AssistantStream_accumulateContent, _AssistantStream_handleRun;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssistantStream = void 0;\nconst Core = __importStar(require(\"../core.js\"));\nconst streaming_1 = require(\"../streaming.js\");\nconst error_1 = require(\"../error.js\");\nconst EventStream_1 = require(\"./EventStream.js\");\nclass AssistantStream extends EventStream_1.EventStream {\n    constructor() {\n        super(...arguments);\n        _AssistantStream_instances.add(this);\n        //Track all events in a single list for reference\n        _AssistantStream_events.set(this, []);\n        //Used to accumulate deltas\n        //We are accumulating many types so the value here is not strict\n        _AssistantStream_runStepSnapshots.set(this, {});\n        _AssistantStream_messageSnapshots.set(this, {});\n        _AssistantStream_messageSnapshot.set(this, void 0);\n        _AssistantStream_finalRun.set(this, void 0);\n        _AssistantStream_currentContentIndex.set(this, void 0);\n        _AssistantStream_currentContent.set(this, void 0);\n        _AssistantStream_currentToolCallIndex.set(this, void 0);\n        _AssistantStream_currentToolCall.set(this, void 0);\n        //For current snapshot methods\n        _AssistantStream_currentEvent.set(this, void 0);\n        _AssistantStream_currentRunSnapshot.set(this, void 0);\n        _AssistantStream_currentRunStepSnapshot.set(this, void 0);\n    }\n    [(_AssistantStream_events = new WeakMap(), _AssistantStream_runStepSnapshots = new WeakMap(), _AssistantStream_messageSnapshots = new WeakMap(), _AssistantStream_messageSnapshot = new WeakMap(), _AssistantStream_finalRun = new WeakMap(), _AssistantStream_currentContentIndex = new WeakMap(), _AssistantStream_currentContent = new WeakMap(), _AssistantStream_currentToolCallIndex = new WeakMap(), _AssistantStream_currentToolCall = new WeakMap(), _AssistantStream_currentEvent = new WeakMap(), _AssistantStream_currentRunSnapshot = new WeakMap(), _AssistantStream_currentRunStepSnapshot = new WeakMap(), _AssistantStream_instances = new WeakSet(), Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        //Catch all for passing along all events\n        this.on('event', (event) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            }\n            else {\n                pushQueue.push(event);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    static fromReadableStream(stream) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        this._connected();\n        const stream = streaming_1.Stream.fromReadableStream(readableStream, this.controller);\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    toReadableStream() {\n        const stream = new streaming_1.Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n    static createToolAssistantStream(threadId, runId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._runToolAssistantStream(threadId, runId, runs, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    async _createToolAssistantStream(run, threadId, runId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await run.submitToolOutputs(threadId, runId, body, {\n            ...options,\n            signal: this.controller.signal,\n        });\n        this._connected();\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static createThreadAssistantStream(params, thread, options) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._threadAssistantStream(params, thread, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    static createAssistantStream(threadId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._runAssistantStream(threadId, runs, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    currentEvent() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentEvent, \"f\");\n    }\n    currentRun() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunSnapshot, \"f\");\n    }\n    currentMessageSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\");\n    }\n    currentRunStepSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunStepSnapshot, \"f\");\n    }\n    async finalRunSteps() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\"));\n    }\n    async finalMessages() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\"));\n    }\n    async finalRun() {\n        await this.done();\n        if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\"))\n            throw Error('Final run was not received.');\n        return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n    }\n    async _createThreadAssistantStream(thread, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await thread.createAndRun(body, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    async _createAssistantStream(run, threadId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await run.create(threadId, body, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new error_1.APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static accumulateDelta(acc, delta) {\n        for (const [key, deltaValue] of Object.entries(delta)) {\n            if (!acc.hasOwnProperty(key)) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            let accValue = acc[key];\n            if (accValue === null || accValue === undefined) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // We don't accumulate these special properties\n            if (key === 'index' || key === 'type') {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // Type-specific accumulation logic\n            if (typeof accValue === 'string' && typeof deltaValue === 'string') {\n                accValue += deltaValue;\n            }\n            else if (typeof accValue === 'number' && typeof deltaValue === 'number') {\n                accValue += deltaValue;\n            }\n            else if (Core.isObj(accValue) && Core.isObj(deltaValue)) {\n                accValue = this.accumulateDelta(accValue, deltaValue);\n            }\n            else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {\n                if (accValue.every((x) => typeof x === 'string' || typeof x === 'number')) {\n                    accValue.push(...deltaValue); // Use spread syntax for efficient addition\n                    continue;\n                }\n                for (const deltaEntry of deltaValue) {\n                    if (!Core.isObj(deltaEntry)) {\n                        throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);\n                    }\n                    const index = deltaEntry['index'];\n                    if (index == null) {\n                        console.error(deltaEntry);\n                        throw new Error('Expected array delta entry to have an `index` property');\n                    }\n                    if (typeof index !== 'number') {\n                        throw new Error(`Expected array delta entry \\`index\\` property to be a number but got ${index}`);\n                    }\n                    const accEntry = accValue[index];\n                    if (accEntry == null) {\n                        accValue.push(deltaEntry);\n                    }\n                    else {\n                        accValue[index] = this.accumulateDelta(accEntry, deltaEntry);\n                    }\n                }\n                continue;\n            }\n            else {\n                throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);\n            }\n            acc[key] = accValue;\n        }\n        return acc;\n    }\n    _addRun(run) {\n        return run;\n    }\n    async _threadAssistantStream(params, thread, options) {\n        return await this._createThreadAssistantStream(thread, params, options);\n    }\n    async _runAssistantStream(threadId, runs, params, options) {\n        return await this._createAssistantStream(runs, threadId, params, options);\n    }\n    async _runToolAssistantStream(threadId, runId, runs, params, options) {\n        return await this._createToolAssistantStream(runs, threadId, runId, params, options);\n    }\n}\nexports.AssistantStream = AssistantStream;\n_AssistantStream_addEvent = function _AssistantStream_addEvent(event) {\n    if (this.ended)\n        return;\n    __classPrivateFieldSet(this, _AssistantStream_currentEvent, event, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleEvent).call(this, event);\n    switch (event.event) {\n        case 'thread.created':\n            //No action on this event.\n            break;\n        case 'thread.run.created':\n        case 'thread.run.queued':\n        case 'thread.run.in_progress':\n        case 'thread.run.requires_action':\n        case 'thread.run.completed':\n        case 'thread.run.failed':\n        case 'thread.run.cancelling':\n        case 'thread.run.cancelled':\n        case 'thread.run.expired':\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRun).call(this, event);\n            break;\n        case 'thread.run.step.created':\n        case 'thread.run.step.in_progress':\n        case 'thread.run.step.delta':\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRunStep).call(this, event);\n            break;\n        case 'thread.message.created':\n        case 'thread.message.in_progress':\n        case 'thread.message.delta':\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleMessage).call(this, event);\n            break;\n        case 'error':\n            //This is included for completeness, but errors are processed in the SSE event processing so this should not occur\n            throw new Error('Encountered an error event in event processing - errors should be processed earlier');\n    }\n}, _AssistantStream_endRequest = function _AssistantStream_endRequest() {\n    if (this.ended) {\n        throw new error_1.OpenAIError(`stream has ended, this shouldn't happen`);\n    }\n    if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\"))\n        throw Error('Final run has not been received');\n    return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage(event) {\n    const [accumulatedMessage, newContent] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n    __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, accumulatedMessage, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\")[accumulatedMessage.id] = accumulatedMessage;\n    for (const content of newContent) {\n        const snapshotContent = accumulatedMessage.content[content.index];\n        if (snapshotContent?.type == 'text') {\n            this._emit('textCreated', snapshotContent.text);\n        }\n    }\n    switch (event.event) {\n        case 'thread.message.created':\n            this._emit('messageCreated', event.data);\n            break;\n        case 'thread.message.in_progress':\n            break;\n        case 'thread.message.delta':\n            this._emit('messageDelta', event.data.delta, accumulatedMessage);\n            if (event.data.delta.content) {\n                for (const content of event.data.delta.content) {\n                    //If it is text delta, emit a text delta event\n                    if (content.type == 'text' && content.text) {\n                        let textDelta = content.text;\n                        let snapshot = accumulatedMessage.content[content.index];\n                        if (snapshot && snapshot.type == 'text') {\n                            this._emit('textDelta', textDelta, snapshot.text);\n                        }\n                        else {\n                            throw Error('The snapshot associated with this text delta is not text or missing');\n                        }\n                    }\n                    if (content.index != __classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")) {\n                        //See if we have in progress content\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\")) {\n                            switch (__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").type) {\n                                case 'text':\n                                    this._emit('textDone', __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                                case 'image_file':\n                                    this._emit('imageFileDone', __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                            }\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentContentIndex, content.index, \"f\");\n                    }\n                    __classPrivateFieldSet(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], \"f\");\n                }\n            }\n            break;\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            //We emit the latest content we were working on on completion (including incomplete)\n            if (__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\") !== undefined) {\n                const currentContent = event.data.content[__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")];\n                if (currentContent) {\n                    switch (currentContent.type) {\n                        case 'image_file':\n                            this._emit('imageFileDone', currentContent.image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                        case 'text':\n                            this._emit('textDone', currentContent.text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                    }\n                }\n            }\n            if (__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\")) {\n                this._emit('messageDone', event.data);\n            }\n            __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, undefined, \"f\");\n    }\n}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep(event) {\n    const accumulatedRunStep = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateRunStep).call(this, event);\n    __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, \"f\");\n    switch (event.event) {\n        case 'thread.run.step.created':\n            this._emit('runStepCreated', event.data);\n            break;\n        case 'thread.run.step.delta':\n            const delta = event.data.delta;\n            if (delta.step_details &&\n                delta.step_details.type == 'tool_calls' &&\n                delta.step_details.tool_calls &&\n                accumulatedRunStep.step_details.type == 'tool_calls') {\n                for (const toolCall of delta.step_details.tool_calls) {\n                    if (toolCall.index == __classPrivateFieldGet(this, _AssistantStream_currentToolCallIndex, \"f\")) {\n                        this._emit('toolCallDelta', toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);\n                    }\n                    else {\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                            this._emit('toolCallDone', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCallIndex, toolCall.index, \"f\");\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], \"f\");\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"))\n                            this._emit('toolCallCreated', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    }\n                }\n            }\n            this._emit('runStepDelta', event.data.delta, accumulatedRunStep);\n            break;\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n            __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, undefined, \"f\");\n            const details = event.data.step_details;\n            if (details.type == 'tool_calls') {\n                if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                    this._emit('toolCallDone', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n                }\n            }\n            this._emit('runStepDone', event.data, accumulatedRunStep);\n            break;\n        case 'thread.run.step.in_progress':\n            break;\n    }\n}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent(event) {\n    __classPrivateFieldGet(this, _AssistantStream_events, \"f\").push(event);\n    this._emit('event', event);\n}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep(event) {\n    switch (event.event) {\n        case 'thread.run.step.created':\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            return event.data;\n        case 'thread.run.step.delta':\n            let snapshot = __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n            if (!snapshot) {\n                throw Error('Received a RunStepDelta before creation of a snapshot');\n            }\n            let data = event.data;\n            if (data.delta) {\n                const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);\n                __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = accumulated;\n            }\n            return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n        case 'thread.run.step.in_progress':\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            break;\n    }\n    if (__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id])\n        return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n    throw new Error('No snapshot available');\n}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage(event, snapshot) {\n    let newContent = [];\n    switch (event.event) {\n        case 'thread.message.created':\n            //On creation the snapshot is just the initial message\n            return [event.data, newContent];\n        case 'thread.message.delta':\n            if (!snapshot) {\n                throw Error('Received a delta with no existing snapshot (there should be one from message creation)');\n            }\n            let data = event.data;\n            //If this delta does not have content, nothing to process\n            if (data.delta.content) {\n                for (const contentElement of data.delta.content) {\n                    if (contentElement.index in snapshot.content) {\n                        let currentContent = snapshot.content[contentElement.index];\n                        snapshot.content[contentElement.index] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);\n                    }\n                    else {\n                        snapshot.content[contentElement.index] = contentElement;\n                        // This is a new element\n                        newContent.push(contentElement);\n                    }\n                }\n            }\n            return [snapshot, newContent];\n        case 'thread.message.in_progress':\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            //No changes on other thread events\n            if (snapshot) {\n                return [snapshot, newContent];\n            }\n            else {\n                throw Error('Received thread message event with no existing snapshot');\n            }\n    }\n    throw Error('Tried to accumulate a non-message event');\n}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent(contentElement, currentContent) {\n    return AssistantStream.accumulateDelta(currentContent, contentElement);\n}, _AssistantStream_handleRun = function _AssistantStream_handleRun(event) {\n    __classPrivateFieldSet(this, _AssistantStream_currentRunSnapshot, event.data, \"f\");\n    switch (event.event) {\n        case 'thread.run.created':\n            break;\n        case 'thread.run.queued':\n            break;\n        case 'thread.run.in_progress':\n            break;\n        case 'thread.run.requires_action':\n        case 'thread.run.cancelled':\n        case 'thread.run.failed':\n        case 'thread.run.completed':\n        case 'thread.run.expired':\n            __classPrivateFieldSet(this, _AssistantStream_finalRun, event.data, \"f\");\n            if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                this._emit('toolCallDone', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n            }\n            break;\n        case 'thread.run.cancelling':\n            break;\n    }\n};\n//# sourceMappingURL=AssistantStream.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessagesPage = exports.Messages = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst pagination_1 = require(\"../../../pagination.js\");\nclass Messages extends resource_1.APIResource {\n    /**\n     * Create a message.\n     */\n    create(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieve a message.\n     */\n    retrieve(threadId, messageId, options) {\n        return this._client.get(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a message.\n     */\n    update(threadId, messageId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages/${messageId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(threadId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Deletes a message.\n     */\n    del(threadId, messageId, options) {\n        return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexports.Messages = Messages;\nclass MessagesPage extends pagination_1.CursorPage {\n}\nexports.MessagesPage = MessagesPage;\nMessages.MessagesPage = MessagesPage;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RunStepsPage = exports.Steps = void 0;\nconst resource_1 = require(\"../../../../resource.js\");\nconst core_1 = require(\"../../../../core.js\");\nconst pagination_1 = require(\"../../../../pagination.js\");\nclass Steps extends resource_1.APIResource {\n    retrieve(threadId, runId, stepId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.retrieve(threadId, runId, stepId, {}, query);\n        }\n        return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(threadId, runId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list(threadId, runId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexports.Steps = Steps;\nclass RunStepsPage extends pagination_1.CursorPage {\n}\nexports.RunStepsPage = RunStepsPage;\nSteps.RunStepsPage = RunStepsPage;\n//# sourceMappingURL=steps.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RunsPage = exports.Runs = void 0;\nconst resource_1 = require(\"../../../../resource.js\");\nconst core_1 = require(\"../../../../core.js\");\nconst AssistantStream_1 = require(\"../../../../lib/AssistantStream.js\");\nconst core_2 = require(\"../../../../core.js\");\nconst StepsAPI = __importStar(require(\"./steps.js\"));\nconst steps_1 = require(\"./steps.js\");\nconst pagination_1 = require(\"../../../../pagination.js\");\nclass Runs extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.steps = new StepsAPI.Steps(this._client);\n    }\n    create(threadId, params, options) {\n        const { include, ...body } = params;\n        return this._client.post(`/threads/${threadId}/runs`, {\n            query: { include },\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n            stream: params.stream ?? false,\n        });\n    }\n    /**\n     * Retrieves a run.\n     */\n    retrieve(threadId, runId, options) {\n        return this._client.get(`/threads/${threadId}/runs/${runId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a run.\n     */\n    update(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(threadId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Cancels a run that is `in_progress`.\n     */\n    cancel(threadId, runId, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * A helper to create a run an poll for a terminal state. More information on Run\n     * lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async createAndPoll(threadId, body, options) {\n        const run = await this.create(threadId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Create a Run stream\n     *\n     * @deprecated use `stream` instead\n     */\n    createAndStream(threadId, body, options) {\n        return AssistantStream_1.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    /**\n     * A helper to poll a run status until it reaches a terminal state. More\n     * information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async poll(threadId, runId, options) {\n        const headers = { ...options?.headers, 'X-Stainless-Poll-Helper': 'true' };\n        if (options?.pollIntervalMs) {\n            headers['X-Stainless-Custom-Poll-Interval'] = options.pollIntervalMs.toString();\n        }\n        while (true) {\n            const { data: run, response } = await this.retrieve(threadId, runId, {\n                ...options,\n                headers: { ...options?.headers, ...headers },\n            }).withResponse();\n            switch (run.status) {\n                //If we are in any sort of intermediate state we poll\n                case 'queued':\n                case 'in_progress':\n                case 'cancelling':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0, core_2.sleep)(sleepInterval);\n                    break;\n                //We return the run in any terminal state.\n                case 'requires_action':\n                case 'incomplete':\n                case 'cancelled':\n                case 'completed':\n                case 'failed':\n                case 'expired':\n                    return run;\n            }\n        }\n    }\n    /**\n     * Create a Run stream\n     */\n    stream(threadId, body, options) {\n        return AssistantStream_1.AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    submitToolOutputs(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n            stream: body.stream ?? false,\n        });\n    }\n    /**\n     * A helper to submit a tool output to a run and poll for a terminal run state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async submitToolOutputsAndPoll(threadId, runId, body, options) {\n        const run = await this.submitToolOutputs(threadId, runId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Submit the tool outputs from a previous run and stream the run to a terminal\n     * state. More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    submitToolOutputsStream(threadId, runId, body, options) {\n        return AssistantStream_1.AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);\n    }\n}\nexports.Runs = Runs;\nclass RunsPage extends pagination_1.CursorPage {\n}\nexports.RunsPage = RunsPage;\nRuns.RunsPage = RunsPage;\nRuns.Steps = steps_1.Steps;\nRuns.RunStepsPage = steps_1.RunStepsPage;\n//# sourceMappingURL=runs.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Threads = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst AssistantStream_1 = require(\"../../../lib/AssistantStream.js\");\nconst MessagesAPI = __importStar(require(\"./messages.js\"));\nconst messages_1 = require(\"./messages.js\");\nconst RunsAPI = __importStar(require(\"./runs/runs.js\"));\nconst runs_1 = require(\"./runs/runs.js\");\nclass Threads extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.runs = new RunsAPI.Runs(this._client);\n        this.messages = new MessagesAPI.Messages(this._client);\n    }\n    create(body = {}, options) {\n        if ((0, core_1.isRequestOptions)(body)) {\n            return this.create({}, body);\n        }\n        return this._client.post('/threads', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a thread.\n     */\n    retrieve(threadId, options) {\n        return this._client.get(`/threads/${threadId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a thread.\n     */\n    update(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a thread.\n     */\n    del(threadId, options) {\n        return this._client.delete(`/threads/${threadId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    createAndRun(body, options) {\n        return this._client.post('/threads/runs', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n            stream: body.stream ?? false,\n        });\n    }\n    /**\n     * A helper to create a thread, start a run and then poll for a terminal state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async createAndRunPoll(body, options) {\n        const run = await this.createAndRun(body, options);\n        return await this.runs.poll(run.thread_id, run.id, options);\n    }\n    /**\n     * Create a thread and stream the run back\n     */\n    createAndRunStream(body, options) {\n        return AssistantStream_1.AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);\n    }\n}\nexports.Threads = Threads;\nThreads.Runs = runs_1.Runs;\nThreads.RunsPage = runs_1.RunsPage;\nThreads.Messages = messages_1.Messages;\nThreads.MessagesPage = messages_1.MessagesPage;\n//# sourceMappingURL=threads.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.allSettledWithThrow = void 0;\n/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */\nconst allSettledWithThrow = async (promises) => {\n    const results = await Promise.allSettled(promises);\n    const rejected = results.filter((result) => result.status === 'rejected');\n    if (rejected.length) {\n        for (const result of rejected) {\n            console.error(result.reason);\n        }\n        throw new Error(`${rejected.length} promise(s) failed - see the above errors`);\n    }\n    // Note: TS was complaining about using `.filter().map()` here for some reason\n    const values = [];\n    for (const result of results) {\n        if (result.status === 'fulfilled') {\n            values.push(result.value);\n        }\n    }\n    return values;\n};\nexports.allSettledWithThrow = allSettledWithThrow;\n//# sourceMappingURL=Util.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VectorStoreFilesPage = exports.Files = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst pagination_1 = require(\"../../../pagination.js\");\nclass Files extends resource_1.APIResource {\n    /**\n     * Create a vector store file by attaching a\n     * [File](https://platform.openai.com/docs/api-reference/files) to a\n     * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).\n     */\n    create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/files`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a vector store file.\n     */\n    retrieve(vectorStoreId, fileId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(vectorStoreId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list(vectorStoreId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a vector store file. This will remove the file from the vector store but\n     * the file itself will not be deleted. To delete the file, use the\n     * [delete file](https://platform.openai.com/docs/api-reference/files/delete)\n     * endpoint.\n     */\n    del(vectorStoreId, fileId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Attach a file to the given vector store and wait for it to be processed.\n     */\n    async createAndPoll(vectorStoreId, body, options) {\n        const file = await this.create(vectorStoreId, body, options);\n        return await this.poll(vectorStoreId, file.id, options);\n    }\n    /**\n     * Wait for the vector store file to finish processing.\n     *\n     * Note: this will return even if the file failed to process, you need to check\n     * file.last_error and file.status to handle these cases\n     */\n    async poll(vectorStoreId, fileId, options) {\n        const headers = { ...options?.headers, 'X-Stainless-Poll-Helper': 'true' };\n        if (options?.pollIntervalMs) {\n            headers['X-Stainless-Custom-Poll-Interval'] = options.pollIntervalMs.toString();\n        }\n        while (true) {\n            const fileResponse = await this.retrieve(vectorStoreId, fileId, {\n                ...options,\n                headers,\n            }).withResponse();\n            const file = fileResponse.data;\n            switch (file.status) {\n                case 'in_progress':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = fileResponse.response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0, core_1.sleep)(sleepInterval);\n                    break;\n                case 'failed':\n                case 'completed':\n                    return file;\n            }\n        }\n    }\n    /**\n     * Upload a file to the `files` API and then attach it to the given vector store.\n     *\n     * Note the file will be asynchronously processed (you can use the alternative\n     * polling helper method to wait for processing to complete).\n     */\n    async upload(vectorStoreId, file, options) {\n        const fileInfo = await this._client.files.create({ file: file, purpose: 'assistants' }, options);\n        return this.create(vectorStoreId, { file_id: fileInfo.id }, options);\n    }\n    /**\n     * Add a file to a vector store and poll until processing is complete.\n     */\n    async uploadAndPoll(vectorStoreId, file, options) {\n        const fileInfo = await this.upload(vectorStoreId, file, options);\n        return await this.poll(vectorStoreId, fileInfo.id, options);\n    }\n}\nexports.Files = Files;\nclass VectorStoreFilesPage extends pagination_1.CursorPage {\n}\nexports.VectorStoreFilesPage = VectorStoreFilesPage;\nFiles.VectorStoreFilesPage = VectorStoreFilesPage;\n//# sourceMappingURL=files.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VectorStoreFilesPage = exports.FileBatches = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst core_2 = require(\"../../../core.js\");\nconst Util_1 = require(\"../../../lib/Util.js\");\nconst files_1 = require(\"./files.js\");\nObject.defineProperty(exports, \"VectorStoreFilesPage\", { enumerable: true, get: function () { return files_1.VectorStoreFilesPage; } });\nclass FileBatches extends resource_1.APIResource {\n    /**\n     * Create a vector store file batch.\n     */\n    create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a vector store file batch.\n     */\n    retrieve(vectorStoreId, batchId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Cancel a vector store file batch. This attempts to cancel the processing of\n     * files in this batch as soon as possible.\n     */\n    cancel(vectorStoreId, batchId, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Create a vector store batch and poll until all files have been processed.\n     */\n    async createAndPoll(vectorStoreId, body, options) {\n        const batch = await this.create(vectorStoreId, body);\n        return await this.poll(vectorStoreId, batch.id, options);\n    }\n    listFiles(vectorStoreId, batchId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.listFiles(vectorStoreId, batchId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, files_1.VectorStoreFilesPage, { query, ...options, headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers } });\n    }\n    /**\n     * Wait for the given file batch to be processed.\n     *\n     * Note: this will return even if one of the files failed to process, you need to\n     * check batch.file_counts.failed_count to handle this case.\n     */\n    async poll(vectorStoreId, batchId, options) {\n        const headers = { ...options?.headers, 'X-Stainless-Poll-Helper': 'true' };\n        if (options?.pollIntervalMs) {\n            headers['X-Stainless-Custom-Poll-Interval'] = options.pollIntervalMs.toString();\n        }\n        while (true) {\n            const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {\n                ...options,\n                headers,\n            }).withResponse();\n            switch (batch.status) {\n                case 'in_progress':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await (0, core_2.sleep)(sleepInterval);\n                    break;\n                case 'failed':\n                case 'cancelled':\n                case 'completed':\n                    return batch;\n            }\n        }\n    }\n    /**\n     * Uploads the given files concurrently and then creates a vector store file batch.\n     *\n     * The concurrency limit is configurable using the `maxConcurrency` parameter.\n     */\n    async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {\n        if (files == null || files.length == 0) {\n            throw new Error(`No \\`files\\` provided to process. If you've already uploaded files you should use \\`.createAndPoll()\\` instead`);\n        }\n        const configuredConcurrency = options?.maxConcurrency ?? 5;\n        // We cap the number of workers at the number of files (so we don't start any unnecessary workers)\n        const concurrencyLimit = Math.min(configuredConcurrency, files.length);\n        const client = this._client;\n        const fileIterator = files.values();\n        const allFileIds = [...fileIds];\n        // This code is based on this design. The libraries don't accommodate our environment limits.\n        // https://stackoverflow.com/questions/40639432/what-is-the-best-way-to-limit-concurrency-when-using-es6s-promise-all\n        async function processFiles(iterator) {\n            for (let item of iterator) {\n                const fileObj = await client.files.create({ file: item, purpose: 'assistants' }, options);\n                allFileIds.push(fileObj.id);\n            }\n        }\n        // Start workers to process results\n        const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);\n        // Wait for all processing to complete.\n        await (0, Util_1.allSettledWithThrow)(workers);\n        return await this.createAndPoll(vectorStoreId, {\n            file_ids: allFileIds,\n        });\n    }\n}\nexports.FileBatches = FileBatches;\n//# sourceMappingURL=file-batches.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VectorStoresPage = exports.VectorStores = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst FileBatchesAPI = __importStar(require(\"./file-batches.js\"));\nconst file_batches_1 = require(\"./file-batches.js\");\nconst FilesAPI = __importStar(require(\"./files.js\"));\nconst files_1 = require(\"./files.js\");\nconst pagination_1 = require(\"../../../pagination.js\");\nclass VectorStores extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.files = new FilesAPI.Files(this._client);\n        this.fileBatches = new FileBatchesAPI.FileBatches(this._client);\n    }\n    /**\n     * Create a vector store.\n     */\n    create(body, options) {\n        return this._client.post('/vector_stores', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a vector store.\n     */\n    retrieve(vectorStoreId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a vector store.\n     */\n    update(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/vector_stores', VectorStoresPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a vector store.\n     */\n    del(vectorStoreId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexports.VectorStores = VectorStores;\nclass VectorStoresPage extends pagination_1.CursorPage {\n}\nexports.VectorStoresPage = VectorStoresPage;\nVectorStores.VectorStoresPage = VectorStoresPage;\nVectorStores.Files = files_1.Files;\nVectorStores.VectorStoreFilesPage = files_1.VectorStoreFilesPage;\nVectorStores.FileBatches = file_batches_1.FileBatches;\n//# sourceMappingURL=vector-stores.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Beta = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst AssistantsAPI = __importStar(require(\"./assistants.js\"));\nconst ChatAPI = __importStar(require(\"./chat/chat.js\"));\nconst assistants_1 = require(\"./assistants.js\");\nconst ThreadsAPI = __importStar(require(\"./threads/threads.js\"));\nconst threads_1 = require(\"./threads/threads.js\");\nconst VectorStoresAPI = __importStar(require(\"./vector-stores/vector-stores.js\"));\nconst vector_stores_1 = require(\"./vector-stores/vector-stores.js\");\nconst chat_1 = require(\"./chat/chat.js\");\nclass Beta extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.vectorStores = new VectorStoresAPI.VectorStores(this._client);\n        this.chat = new ChatAPI.Chat(this._client);\n        this.assistants = new AssistantsAPI.Assistants(this._client);\n        this.threads = new ThreadsAPI.Threads(this._client);\n    }\n}\nexports.Beta = Beta;\nBeta.VectorStores = vector_stores_1.VectorStores;\nBeta.VectorStoresPage = vector_stores_1.VectorStoresPage;\nBeta.Assistants = assistants_1.Assistants;\nBeta.AssistantsPage = assistants_1.AssistantsPage;\nBeta.Threads = threads_1.Threads;\n//# sourceMappingURL=beta.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Completions = void 0;\nconst resource_1 = require(\"../resource.js\");\nclass Completions extends resource_1.APIResource {\n    create(body, options) {\n        return this._client.post('/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\nexports.Completions = Completions;\n//# sourceMappingURL=completions.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Embeddings = void 0;\nconst resource_1 = require(\"../resource.js\");\nclass Embeddings extends resource_1.APIResource {\n    /**\n     * Creates an embedding vector representing the input text.\n     */\n    create(body, options) {\n        return this._client.post('/embeddings', { body, ...options });\n    }\n}\nexports.Embeddings = Embeddings;\n//# sourceMappingURL=embeddings.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileObjectsPage = exports.Files = void 0;\nconst resource_1 = require(\"../resource.js\");\nconst core_1 = require(\"../core.js\");\nconst core_2 = require(\"../core.js\");\nconst error_1 = require(\"../error.js\");\nconst Core = __importStar(require(\"../core.js\"));\nconst pagination_1 = require(\"../pagination.js\");\nclass Files extends resource_1.APIResource {\n    /**\n     * Upload a file that can be used across various endpoints. Individual files can be\n     * up to 512 MB, and the size of all files uploaded by one organization can be up\n     * to 100 GB.\n     *\n     * The Assistants API supports files up to 2 million tokens and of specific file\n     * types. See the\n     * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\n     * details.\n     *\n     * The Fine-tuning API only supports `.jsonl` files. The input also has certain\n     * required formats for fine-tuning\n     * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\n     * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\n     * models.\n     *\n     * The Batch API only supports `.jsonl` files up to 100 MB in size. The input also\n     * has a specific required\n     * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\n     *\n     * Please [contact us](https://help.openai.com/) if you need to increase these\n     * storage limits.\n     */\n    create(body, options) {\n        return this._client.post('/files', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Returns information about a specific file.\n     */\n    retrieve(fileId, options) {\n        return this._client.get(`/files/${fileId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/files', FileObjectsPage, { query, ...options });\n    }\n    /**\n     * Delete a file.\n     */\n    del(fileId, options) {\n        return this._client.delete(`/files/${fileId}`, options);\n    }\n    /**\n     * Returns the contents of the specified file.\n     */\n    content(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, { ...options, __binaryResponse: true });\n    }\n    /**\n     * Returns the contents of the specified file.\n     *\n     * @deprecated The `.content()` method should be used instead\n     */\n    retrieveContent(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, {\n            ...options,\n            headers: { Accept: 'application/json', ...options?.headers },\n        });\n    }\n    /**\n     * Waits for the given file to be processed, default timeout is 30 mins.\n     */\n    async waitForProcessing(id, { pollInterval = 5000, maxWait = 30 * 60 * 1000 } = {}) {\n        const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n        const start = Date.now();\n        let file = await this.retrieve(id);\n        while (!file.status || !TERMINAL_STATES.has(file.status)) {\n            await (0, core_2.sleep)(pollInterval);\n            file = await this.retrieve(id);\n            if (Date.now() - start > maxWait) {\n                throw new error_1.APIConnectionTimeoutError({\n                    message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,\n                });\n            }\n        }\n        return file;\n    }\n}\nexports.Files = Files;\nclass FileObjectsPage extends pagination_1.CursorPage {\n}\nexports.FileObjectsPage = FileObjectsPage;\nFiles.FileObjectsPage = FileObjectsPage;\n//# sourceMappingURL=files.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FineTuningJobCheckpointsPage = exports.Checkpoints = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst pagination_1 = require(\"../../../pagination.js\");\nclass Checkpoints extends resource_1.APIResource {\n    list(fineTuningJobId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, { query, ...options });\n    }\n}\nexports.Checkpoints = Checkpoints;\nclass FineTuningJobCheckpointsPage extends pagination_1.CursorPage {\n}\nexports.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;\nCheckpoints.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;\n//# sourceMappingURL=checkpoints.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FineTuningJobEventsPage = exports.FineTuningJobsPage = exports.Jobs = void 0;\nconst resource_1 = require(\"../../../resource.js\");\nconst core_1 = require(\"../../../core.js\");\nconst CheckpointsAPI = __importStar(require(\"./checkpoints.js\"));\nconst checkpoints_1 = require(\"./checkpoints.js\");\nconst pagination_1 = require(\"../../../pagination.js\");\nclass Jobs extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.checkpoints = new CheckpointsAPI.Checkpoints(this._client);\n    }\n    /**\n     * Creates a fine-tuning job which begins the process of creating a new model from\n     * a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */\n    create(body, options) {\n        return this._client.post('/fine_tuning/jobs', { body, ...options });\n    }\n    /**\n     * Get info about a fine-tuning job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */\n    retrieve(fineTuningJobId, options) {\n        return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);\n    }\n    list(query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/fine_tuning/jobs', FineTuningJobsPage, { query, ...options });\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     */\n    cancel(fineTuningJobId, options) {\n        return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);\n    }\n    listEvents(fineTuningJobId, query = {}, options) {\n        if ((0, core_1.isRequestOptions)(query)) {\n            return this.listEvents(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {\n            query,\n            ...options,\n        });\n    }\n}\nexports.Jobs = Jobs;\nclass FineTuningJobsPage extends pagination_1.CursorPage {\n}\nexports.FineTuningJobsPage = FineTuningJobsPage;\nclass FineTuningJobEventsPage extends pagination_1.CursorPage {\n}\nexports.FineTuningJobEventsPage = FineTuningJobEventsPage;\nJobs.FineTuningJobsPage = FineTuningJobsPage;\nJobs.FineTuningJobEventsPage = FineTuningJobEventsPage;\nJobs.Checkpoints = checkpoints_1.Checkpoints;\nJobs.FineTuningJobCheckpointsPage = checkpoints_1.FineTuningJobCheckpointsPage;\n//# sourceMappingURL=jobs.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FineTuning = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst JobsAPI = __importStar(require(\"./jobs/jobs.js\"));\nconst jobs_1 = require(\"./jobs/jobs.js\");\nclass FineTuning extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.jobs = new JobsAPI.Jobs(this._client);\n    }\n}\nexports.FineTuning = FineTuning;\nFineTuning.Jobs = jobs_1.Jobs;\nFineTuning.FineTuningJobsPage = jobs_1.FineTuningJobsPage;\nFineTuning.FineTuningJobEventsPage = jobs_1.FineTuningJobEventsPage;\n//# sourceMappingURL=fine-tuning.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Images = void 0;\nconst resource_1 = require(\"../resource.js\");\nconst Core = __importStar(require(\"../core.js\"));\nclass Images extends resource_1.APIResource {\n    /**\n     * Creates a variation of a given image.\n     */\n    createVariation(body, options) {\n        return this._client.post('/images/variations', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Creates an edited or extended image given an original image and a prompt.\n     */\n    edit(body, options) {\n        return this._client.post('/images/edits', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Creates an image given a prompt.\n     */\n    generate(body, options) {\n        return this._client.post('/images/generations', { body, ...options });\n    }\n}\nexports.Images = Images;\n//# sourceMappingURL=images.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModelsPage = exports.Models = void 0;\nconst resource_1 = require(\"../resource.js\");\nconst pagination_1 = require(\"../pagination.js\");\nclass Models extends resource_1.APIResource {\n    /**\n     * Retrieves a model instance, providing basic information about the model such as\n     * the owner and permissioning.\n     */\n    retrieve(model, options) {\n        return this._client.get(`/models/${model}`, options);\n    }\n    /**\n     * Lists the currently available models, and provides basic information about each\n     * one such as the owner and availability.\n     */\n    list(options) {\n        return this._client.getAPIList('/models', ModelsPage, options);\n    }\n    /**\n     * Delete a fine-tuned model. You must have the Owner role in your organization to\n     * delete a model.\n     */\n    del(model, options) {\n        return this._client.delete(`/models/${model}`, options);\n    }\n}\nexports.Models = Models;\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nclass ModelsPage extends pagination_1.Page {\n}\nexports.ModelsPage = ModelsPage;\nModels.ModelsPage = ModelsPage;\n//# sourceMappingURL=models.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Moderations = void 0;\nconst resource_1 = require(\"../resource.js\");\nclass Moderations extends resource_1.APIResource {\n    /**\n     * Classifies if text and/or image inputs are potentially harmful. Learn more in\n     * the [moderation guide](https://platform.openai.com/docs/guides/moderation).\n     */\n    create(body, options) {\n        return this._client.post('/moderations', { body, ...options });\n    }\n}\nexports.Moderations = Moderations;\n//# sourceMappingURL=moderations.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Parts = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst Core = __importStar(require(\"../../core.js\"));\nclass Parts extends resource_1.APIResource {\n    /**\n     * Adds a\n     * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.\n     * A Part represents a chunk of bytes from the file you are trying to upload.\n     *\n     * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload\n     * maximum of 8 GB.\n     *\n     * It is possible to add multiple Parts in parallel. You can decide the intended\n     * order of the Parts when you\n     * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).\n     */\n    create(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/parts`, Core.multipartFormRequestOptions({ body, ...options }));\n    }\n}\nexports.Parts = Parts;\n//# sourceMappingURL=parts.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uploads = void 0;\nconst resource_1 = require(\"../../resource.js\");\nconst PartsAPI = __importStar(require(\"./parts.js\"));\nconst parts_1 = require(\"./parts.js\");\nclass Uploads extends resource_1.APIResource {\n    constructor() {\n        super(...arguments);\n        this.parts = new PartsAPI.Parts(this._client);\n    }\n    /**\n     * Creates an intermediate\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object\n     * that you can add\n     * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.\n     * Currently, an Upload can accept at most 8 GB in total and expires after an hour\n     * after you create it.\n     *\n     * Once you complete the Upload, we will create a\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * contains all the parts you uploaded. This File is usable in the rest of our\n     * platform as a regular File object.\n     *\n     * For certain `purpose`s, the correct `mime_type` must be specified. Please refer\n     * to documentation for the supported MIME types for your use case:\n     *\n     * - [Assistants](https://platform.openai.com/docs/assistants/tools/file-search#supported-files)\n     *\n     * For guidance on the proper filename extensions for each purpose, please follow\n     * the documentation on\n     * [creating a File](https://platform.openai.com/docs/api-reference/files/create).\n     */\n    create(body, options) {\n        return this._client.post('/uploads', { body, ...options });\n    }\n    /**\n     * Cancels the Upload. No Parts may be added after an Upload is cancelled.\n     */\n    cancel(uploadId, options) {\n        return this._client.post(`/uploads/${uploadId}/cancel`, options);\n    }\n    /**\n     * Completes the\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).\n     *\n     * Within the returned Upload object, there is a nested\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * is ready to use in the rest of the platform.\n     *\n     * You can specify the order of the Parts by passing in an ordered list of the Part\n     * IDs.\n     *\n     * The number of bytes uploaded upon completion must match the number of bytes\n     * initially specified when creating the Upload object. No Parts may be added after\n     * an Upload is completed.\n     */\n    complete(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/complete`, { body, ...options });\n    }\n}\nexports.Uploads = Uploads;\nUploads.Parts = parts_1.Parts;\n//# sourceMappingURL=uploads.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uploads = exports.Moderations = exports.Models = exports.ModelsPage = exports.Images = exports.FineTuning = exports.Files = exports.FileObjectsPage = exports.Embeddings = exports.Completions = exports.Beta = exports.Batches = exports.BatchesPage = exports.Audio = void 0;\n__exportStar(require(\"./chat/index.js\"), exports);\n__exportStar(require(\"./shared.js\"), exports);\nvar audio_1 = require(\"./audio/audio.js\");\nObject.defineProperty(exports, \"Audio\", { enumerable: true, get: function () { return audio_1.Audio; } });\nvar batches_1 = require(\"./batches.js\");\nObject.defineProperty(exports, \"BatchesPage\", { enumerable: true, get: function () { return batches_1.BatchesPage; } });\nObject.defineProperty(exports, \"Batches\", { enumerable: true, get: function () { return batches_1.Batches; } });\nvar beta_1 = require(\"./beta/beta.js\");\nObject.defineProperty(exports, \"Beta\", { enumerable: true, get: function () { return beta_1.Beta; } });\nvar completions_1 = require(\"./completions.js\");\nObject.defineProperty(exports, \"Completions\", { enumerable: true, get: function () { return completions_1.Completions; } });\nvar embeddings_1 = require(\"./embeddings.js\");\nObject.defineProperty(exports, \"Embeddings\", { enumerable: true, get: function () { return embeddings_1.Embeddings; } });\nvar files_1 = require(\"./files.js\");\nObject.defineProperty(exports, \"FileObjectsPage\", { enumerable: true, get: function () { return files_1.FileObjectsPage; } });\nObject.defineProperty(exports, \"Files\", { enumerable: true, get: function () { return files_1.Files; } });\nvar fine_tuning_1 = require(\"./fine-tuning/fine-tuning.js\");\nObject.defineProperty(exports, \"FineTuning\", { enumerable: true, get: function () { return fine_tuning_1.FineTuning; } });\nvar images_1 = require(\"./images.js\");\nObject.defineProperty(exports, \"Images\", { enumerable: true, get: function () { return images_1.Images; } });\nvar models_1 = require(\"./models.js\");\nObject.defineProperty(exports, \"ModelsPage\", { enumerable: true, get: function () { return models_1.ModelsPage; } });\nObject.defineProperty(exports, \"Models\", { enumerable: true, get: function () { return models_1.Models; } });\nvar moderations_1 = require(\"./moderations.js\");\nObject.defineProperty(exports, \"Moderations\", { enumerable: true, get: function () { return moderations_1.Moderations; } });\nvar uploads_1 = require(\"./uploads/uploads.js\");\nObject.defineProperty(exports, \"Uploads\", { enumerable: true, get: function () { return uploads_1.Uploads; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AzureOpenAI = exports.fileFromPath = exports.toFile = exports.UnprocessableEntityError = exports.PermissionDeniedError = exports.InternalServerError = exports.AuthenticationError = exports.BadRequestError = exports.RateLimitError = exports.ConflictError = exports.NotFoundError = exports.APIUserAbortError = exports.APIConnectionTimeoutError = exports.APIConnectionError = exports.APIError = exports.OpenAIError = exports.OpenAI = void 0;\nconst qs = __importStar(require(\"./internal/qs/index.js\"));\nconst Core = __importStar(require(\"./core.js\"));\nconst Errors = __importStar(require(\"./error.js\"));\nconst Pagination = __importStar(require(\"./pagination.js\"));\nconst Uploads = __importStar(require(\"./uploads.js\"));\nconst API = __importStar(require(\"./resources/index.js\"));\nconst batches_1 = require(\"./resources/batches.js\");\nconst completions_1 = require(\"./resources/completions.js\");\nconst embeddings_1 = require(\"./resources/embeddings.js\");\nconst files_1 = require(\"./resources/files.js\");\nconst images_1 = require(\"./resources/images.js\");\nconst models_1 = require(\"./resources/models.js\");\nconst moderations_1 = require(\"./resources/moderations.js\");\nconst audio_1 = require(\"./resources/audio/audio.js\");\nconst beta_1 = require(\"./resources/beta/beta.js\");\nconst chat_1 = require(\"./resources/chat/chat.js\");\nconst fine_tuning_1 = require(\"./resources/fine-tuning/fine-tuning.js\");\nconst uploads_1 = require(\"./resources/uploads/uploads.js\");\n/**\n * API Client for interfacing with the OpenAI API.\n */\nclass OpenAI extends Core.APIClient {\n    /**\n     * API Client for interfacing with the OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ baseURL = Core.readEnv('OPENAI_BASE_URL'), apiKey = Core.readEnv('OPENAI_API_KEY'), organization = Core.readEnv('OPENAI_ORG_ID') ?? null, project = Core.readEnv('OPENAI_PROJECT_ID') ?? null, ...opts } = {}) {\n        if (apiKey === undefined) {\n            throw new Errors.OpenAIError(\"The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).\");\n        }\n        const options = {\n            apiKey,\n            organization,\n            project,\n            ...opts,\n            baseURL: baseURL || `https://api.openai.com/v1`,\n        };\n        if (!options.dangerouslyAllowBrowser && Core.isRunningInBrowser()) {\n            throw new Errors.OpenAIError(\"It looks like you're running in a browser-like environment.\\n\\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\\nIf you understand the risks and have appropriate mitigations in place,\\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\\n\\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\\n\\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\\n\");\n        }\n        super({\n            baseURL: options.baseURL,\n            timeout: options.timeout ?? 600000 /* 10 minutes */,\n            httpAgent: options.httpAgent,\n            maxRetries: options.maxRetries,\n            fetch: options.fetch,\n        });\n        this.completions = new API.Completions(this);\n        this.chat = new API.Chat(this);\n        this.embeddings = new API.Embeddings(this);\n        this.files = new API.Files(this);\n        this.images = new API.Images(this);\n        this.audio = new API.Audio(this);\n        this.moderations = new API.Moderations(this);\n        this.models = new API.Models(this);\n        this.fineTuning = new API.FineTuning(this);\n        this.beta = new API.Beta(this);\n        this.batches = new API.Batches(this);\n        this.uploads = new API.Uploads(this);\n        this._options = options;\n        this.apiKey = apiKey;\n        this.organization = organization;\n        this.project = project;\n    }\n    defaultQuery() {\n        return this._options.defaultQuery;\n    }\n    defaultHeaders(opts) {\n        return {\n            ...super.defaultHeaders(opts),\n            'OpenAI-Organization': this.organization,\n            'OpenAI-Project': this.project,\n            ...this._options.defaultHeaders,\n        };\n    }\n    authHeaders(opts) {\n        return { Authorization: `Bearer ${this.apiKey}` };\n    }\n    stringifyQuery(query) {\n        return qs.stringify(query, { arrayFormat: 'brackets' });\n    }\n}\nexports.OpenAI = OpenAI;\n_a = OpenAI;\nOpenAI.OpenAI = _a;\nOpenAI.DEFAULT_TIMEOUT = 600000; // 10 minutes\nOpenAI.OpenAIError = Errors.OpenAIError;\nOpenAI.APIError = Errors.APIError;\nOpenAI.APIConnectionError = Errors.APIConnectionError;\nOpenAI.APIConnectionTimeoutError = Errors.APIConnectionTimeoutError;\nOpenAI.APIUserAbortError = Errors.APIUserAbortError;\nOpenAI.NotFoundError = Errors.NotFoundError;\nOpenAI.ConflictError = Errors.ConflictError;\nOpenAI.RateLimitError = Errors.RateLimitError;\nOpenAI.BadRequestError = Errors.BadRequestError;\nOpenAI.AuthenticationError = Errors.AuthenticationError;\nOpenAI.InternalServerError = Errors.InternalServerError;\nOpenAI.PermissionDeniedError = Errors.PermissionDeniedError;\nOpenAI.UnprocessableEntityError = Errors.UnprocessableEntityError;\nOpenAI.toFile = Uploads.toFile;\nOpenAI.fileFromPath = Uploads.fileFromPath;\nvar error_1 = require(\"./error.js\");\nObject.defineProperty(exports, \"OpenAIError\", { enumerable: true, get: function () { return error_1.OpenAIError; } });\nObject.defineProperty(exports, \"APIError\", { enumerable: true, get: function () { return error_1.APIError; } });\nObject.defineProperty(exports, \"APIConnectionError\", { enumerable: true, get: function () { return error_1.APIConnectionError; } });\nObject.defineProperty(exports, \"APIConnectionTimeoutError\", { enumerable: true, get: function () { return error_1.APIConnectionTimeoutError; } });\nObject.defineProperty(exports, \"APIUserAbortError\", { enumerable: true, get: function () { return error_1.APIUserAbortError; } });\nObject.defineProperty(exports, \"NotFoundError\", { enumerable: true, get: function () { return error_1.NotFoundError; } });\nObject.defineProperty(exports, \"ConflictError\", { enumerable: true, get: function () { return error_1.ConflictError; } });\nObject.defineProperty(exports, \"RateLimitError\", { enumerable: true, get: function () { return error_1.RateLimitError; } });\nObject.defineProperty(exports, \"BadRequestError\", { enumerable: true, get: function () { return error_1.BadRequestError; } });\nObject.defineProperty(exports, \"AuthenticationError\", { enumerable: true, get: function () { return error_1.AuthenticationError; } });\nObject.defineProperty(exports, \"InternalServerError\", { enumerable: true, get: function () { return error_1.InternalServerError; } });\nObject.defineProperty(exports, \"PermissionDeniedError\", { enumerable: true, get: function () { return error_1.PermissionDeniedError; } });\nObject.defineProperty(exports, \"UnprocessableEntityError\", { enumerable: true, get: function () { return error_1.UnprocessableEntityError; } });\nexports.toFile = Uploads.toFile;\nexports.fileFromPath = Uploads.fileFromPath;\nOpenAI.Completions = completions_1.Completions;\nOpenAI.Chat = chat_1.Chat;\nOpenAI.Embeddings = embeddings_1.Embeddings;\nOpenAI.Files = files_1.Files;\nOpenAI.FileObjectsPage = files_1.FileObjectsPage;\nOpenAI.Images = images_1.Images;\nOpenAI.Audio = audio_1.Audio;\nOpenAI.Moderations = moderations_1.Moderations;\nOpenAI.Models = models_1.Models;\nOpenAI.ModelsPage = models_1.ModelsPage;\nOpenAI.FineTuning = fine_tuning_1.FineTuning;\nOpenAI.Beta = beta_1.Beta;\nOpenAI.Batches = batches_1.Batches;\nOpenAI.BatchesPage = batches_1.BatchesPage;\nOpenAI.Uploads = uploads_1.Uploads;\n/** API Client for interfacing with the Azure OpenAI API. */\nclass AzureOpenAI extends OpenAI {\n    /**\n     * API Client for interfacing with the Azure OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiVersion=process.env['OPENAI_API_VERSION'] ?? undefined]\n     * @param {string | undefined} [opts.endpoint=process.env['AZURE_OPENAI_ENDPOINT'] ?? undefined] - Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`\n     * @param {string | undefined} [opts.apiKey=process.env['AZURE_OPENAI_API_KEY'] ?? undefined]\n     * @param {string | undefined} opts.deployment - A model deployment, if given, sets the base client URL to include `/deployments/{deployment}`.\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL']] - Sets the base URL for the API, e.g. `https://example-resource.azure.openai.com/openai/`.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ baseURL = Core.readEnv('OPENAI_BASE_URL'), apiKey = Core.readEnv('AZURE_OPENAI_API_KEY'), apiVersion = Core.readEnv('OPENAI_API_VERSION'), endpoint, deployment, azureADTokenProvider, dangerouslyAllowBrowser, ...opts } = {}) {\n        if (!apiVersion) {\n            throw new Errors.OpenAIError(\"The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).\");\n        }\n        if (typeof azureADTokenProvider === 'function') {\n            dangerouslyAllowBrowser = true;\n        }\n        if (!azureADTokenProvider && !apiKey) {\n            throw new Errors.OpenAIError('Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.');\n        }\n        if (azureADTokenProvider && apiKey) {\n            throw new Errors.OpenAIError('The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.');\n        }\n        // define a sentinel value to avoid any typing issues\n        apiKey ?? (apiKey = API_KEY_SENTINEL);\n        opts.defaultQuery = { ...opts.defaultQuery, 'api-version': apiVersion };\n        if (!baseURL) {\n            if (!endpoint) {\n                endpoint = process.env['AZURE_OPENAI_ENDPOINT'];\n            }\n            if (!endpoint) {\n                throw new Errors.OpenAIError('Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable');\n            }\n            baseURL = `${endpoint}/openai`;\n        }\n        else {\n            if (endpoint) {\n                throw new Errors.OpenAIError('baseURL and endpoint are mutually exclusive');\n            }\n        }\n        super({\n            apiKey,\n            baseURL,\n            ...opts,\n            ...(dangerouslyAllowBrowser !== undefined ? { dangerouslyAllowBrowser } : {}),\n        });\n        this.apiVersion = '';\n        this._azureADTokenProvider = azureADTokenProvider;\n        this.apiVersion = apiVersion;\n        this._deployment = deployment;\n    }\n    buildRequest(options) {\n        if (_deployments_endpoints.has(options.path) && options.method === 'post' && options.body !== undefined) {\n            if (!Core.isObj(options.body)) {\n                throw new Error('Expected request body to be an object');\n            }\n            const model = this._deployment || options.body['model'];\n            if (model !== undefined && !this.baseURL.includes('/deployments')) {\n                options.path = `/deployments/${model}${options.path}`;\n            }\n        }\n        return super.buildRequest(options);\n    }\n    async _getAzureADToken() {\n        if (typeof this._azureADTokenProvider === 'function') {\n            const token = await this._azureADTokenProvider();\n            if (!token || typeof token !== 'string') {\n                throw new Errors.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${token}`);\n            }\n            return token;\n        }\n        return undefined;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    async prepareOptions(opts) {\n        /**\n         * The user should provide a bearer token provider if they want\n         * to use Azure AD authentication. The user shouldn't set the\n         * Authorization header manually because the header is overwritten\n         * with the Azure AD token if a bearer token provider is provided.\n         */\n        if (opts.headers?.['api-key']) {\n            return super.prepareOptions(opts);\n        }\n        const token = await this._getAzureADToken();\n        opts.headers ?? (opts.headers = {});\n        if (token) {\n            opts.headers['Authorization'] = `Bearer ${token}`;\n        }\n        else if (this.apiKey !== API_KEY_SENTINEL) {\n            opts.headers['api-key'] = this.apiKey;\n        }\n        else {\n            throw new Errors.OpenAIError('Unable to handle auth');\n        }\n        return super.prepareOptions(opts);\n    }\n}\nexports.AzureOpenAI = AzureOpenAI;\nconst _deployments_endpoints = new Set([\n    '/completions',\n    '/chat/completions',\n    '/embeddings',\n    '/audio/transcriptions',\n    '/audio/translations',\n    '/audio/speech',\n    '/images/generations',\n]);\nconst API_KEY_SENTINEL = '<Missing Key>';\n// ---------------------- End Azure ----------------------\nexports = module.exports = OpenAI;\nmodule.exports.AzureOpenAI = AzureOpenAI;\nexports.default = OpenAI;\n//# sourceMappingURL=index.js.map","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","// Axios v1.7.7 Copyright (c) 2024 Matt Zabriskie and contributors\n'use strict';\n\nconst FormData$1 = require('form-data');\nconst url = require('url');\nconst proxyFromEnv = require('proxy-from-env');\nconst http = require('http');\nconst https = require('https');\nconst util = require('util');\nconst followRedirects = require('follow-redirects');\nconst zlib = require('zlib');\nconst stream = require('stream');\nconst events = require('events');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nconst FormData__default = /*#__PURE__*/_interopDefaultLegacy(FormData$1);\nconst url__default = /*#__PURE__*/_interopDefaultLegacy(url);\nconst http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nconst https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nconst util__default = /*#__PURE__*/_interopDefaultLegacy(util);\nconst followRedirects__default = /*#__PURE__*/_interopDefaultLegacy(followRedirects);\nconst zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nconst stream__default = /*#__PURE__*/_interopDefaultLegacy(stream);\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0];\n  }\n\n  return str;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nconst utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData__default[\"default\"] || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nconst InterceptorManager$1 = InterceptorManager;\n\nconst transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nconst URLSearchParams = url__default[\"default\"].URLSearchParams;\n\nconst platform$1 = {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData: FormData__default[\"default\"],\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nconst utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nconst platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nconst defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nconst parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nconst AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst VERSION = \"1.7.7\";\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nfunction fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream__default[\"default\"].Transform{\n  constructor(options) {\n    options = utils$1.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils$1.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    };\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nconst AxiosTransformStream$1 = AxiosTransformStream;\n\nconst {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream();\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer();\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n};\n\nconst readBlob$1 = readBlob;\n\nconst BOUNDARY_ALPHABET = utils$1.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = new util.TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils$1.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`;\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils$1.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob$1(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + utils$1.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils$1.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils$1.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  };\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return stream.Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nconst formDataToStream$1 = formDataToStream;\n\nclass ZlibHeaderTransformStream extends stream__default[\"default\"].Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nconst ZlibHeaderTransformStream$1 = ZlibHeaderTransformStream;\n\nconst callbackify = (fn, reducer) => {\n  return utils$1.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n};\n\nconst callbackify$1 = callbackify;\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nconst zlibOptions = {\n  flush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH\n};\n\nconst isBrotliSupported = utils$1.isFunction(zlib__default[\"default\"].createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects__default[\"default\"];\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n};\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv.getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils$1.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    };\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    };\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils$1.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n};\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils$1.isObject(address) ? address : {address, family});\n\n/*eslint consistent-return:0*/\nconst httpAdapter = isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup) {\n      const _lookup = callbackify$1(lookup, (value) => utils$1.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils$1.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      };\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new events.EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    };\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils$1.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream__default[\"default\"].Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders$1(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders$1.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils$1.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream$1(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils$1.isFormData(data) && utils$1.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util__default[\"default\"].promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils$1.isBlob(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream__default[\"default\"].Readable.from(readBlob$1(data));\n    } else if (data && !utils$1.isStream(data)) {\n      if (Buffer.isBuffer(data)) ; else if (utils$1.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils$1.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils$1.toFiniteNumber(headers.getContentLength());\n\n    if (utils$1.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils$1.isStream(data)) {\n        data = stream__default[\"default\"].Readable.from(data, {objectMode: false});\n      }\n\n      data = stream__default[\"default\"].pipeline([data, new AxiosTransformStream$1({\n        maxRate: utils$1.toFiniteNumber(maxUploadRate)\n      })], utils$1.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils$1.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https__default[\"default\"] : http__default[\"default\"];\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream$1({\n          maxRate: utils$1.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream$1());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib__default[\"default\"].createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream__default[\"default\"].pipeline(streams, utils$1.noop) : streams[0];\n\n      const offListeners = stream__default[\"default\"].finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders$1(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'maxContentLength size of ' + config.maxContentLength + ' exceeded',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils$1.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils$1.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n\nconst isURLSameOrigin = platform.hasStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover its components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils$1.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n\nconst cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nconst xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nconst composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nconst fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nconst adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nconst validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy;\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy = {}) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nconst Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nconst CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nconst HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","const axios = require('axios');\nconst fs = require('fs');\nconst path = require('path');\n\n/**\n * Downloads and saves an image from a URL to the file system.\n *\n * @param {string} imageUrl - The URL of the image.\n * @param {string} filePath - The file path where the image should be saved.\n */\nasync function saveImageToFile(imageUrl, urlDirectory) {\n    try {\n\n        const fileName = `image-${Date.now()}.png`;\n        const filePath = path.join(urlDirectory, fileName);\n\n        // Ensure the directory exists\n        const directory = path.dirname(filePath);\n        if (!fs.existsSync(directory)) {\n            fs.mkdirSync(directory, { recursive: true });\n        }\n\n        // Fetch the image and save it\n        const response = await axios({\n            url: imageUrl,\n            method: 'GET',\n            responseType: 'stream', // Stream the image for saving\n        });\n\n        const writer = fs.createWriteStream(filePath);\n        response.data.pipe(writer);\n\n        return new Promise((resolve, reject) => {\n            writer.on('finish', () => {\n                console.log(`Image saved successfully to ${filePath}`);\n                resolve(filePath);\n            });\n            writer.on('error', (err) => {\n                console.error('Error saving the image:', err);\n                reject(err);\n            });\n        });\n\n\n    } catch (error) {\n        console.error('Failed to download the image:', error.message);\n    }\n}\n\nconst ensureDirectoryExists = (dir) => {\n    if (!fs.existsSync(dir)) {\n        fs.mkdirSync(dir, { recursive: true });\n        console.log(`Created directory: ${dir}`);\n    }\n};\n\nmodule.exports = { saveImageToFile, ensureDirectoryExists };\n","const OpenAi = require(\"openai\");\nconst { saveImageToFile } = require('./imgToFile.js')\nconst generateRandomNumber = require(\"./random.js\")\n\nasync function generateImage(apiKey, prompted, outputDirectory, aspectRatio){\n    try{\n\n        const client = new OpenAi({\n            apiKey: apiKey,\n            baseURL: \"https://api.together.xyz/v1\",\n        })\n\n        const randomNumber = generateRandomNumber();\n\n        let width;\n        let height;\n\n        if( aspectRatio == \"square\" ){\n            width = 1024;\n            height = 1024\n        } \n        \n        if (aspectRatio == \"portrait\" ){\n            width = 576;\n            height = 1024\n        }\n\n        if (aspectRatio == \"landscape\" ){\n            width = 1024;\n            height = 576\n        }\n\n        let userPrompt;\n\n        if (prompted){\n            userPrompt = prompted;\n            //console.log('prompt exist' + prompted );\n        }\n\n        const image = await client.images.generate({\n            prompt: userPrompt,\n            model: \"black-forest-labs/FLUX.1-schnell-Free\",\n            n:1,\n            height: height,\n            width: width,\n            steps: 4,\n            seed: randomNumber,\n        })\n\n        image_url = image.data[0].url;\n        //console.log(image_url);\n        console.log(\"image generated\");\n        \n        return await saveImageToFile(image_url, outputDirectory);\n\n    } catch (e){\n        console.error('Error ecountered while generating image check your network connectivity');\n        return \"error\";\n    }\n  }\n\n\nmodule.exports = generateImage;","function generateRandomNumber() {\n    const ran = Math.floor(Math.random() * 10000) + 1;\n   // console.log(\"random number generated\" + ran);\n    return ran;\n  }\n  \n\n  module.exports = generateRandomNumber","#!/usr/bin/env node\nimport { getDefaultExportFromCjs } from \"\u0000commonjsHelpers.js\";\nimport { __require as requireImageGen } from \"C:\\\\Users\\\\user\\\\Desktop\\\\My-project\\\\imageGen\\\\index.js\";\nvar imageGenExports = requireImageGen();\nexport { imageGenExports as __moduleExports };\nexport default /*@__PURE__*/getDefaultExportFromCjs(imageGenExports);","#!/usr/bin/env node\n\nconst { Command } = require('commander');\nconst figlet = require('figlet');\nconst generateImage = require('./service/generateImage.js');\nconst { ensureDirectoryExists } = require('./service/imgToFile.js');\nconst {getApiKey, saveApiKey } = require(\"./service/getApiKey.js\")\nconst os = require('os');\nconst path = require('path');\n\n\n// CLI with commander.js\nconst program = new Command();\n\nprogram\n    .name('Image Generator CLI')\n    .description('A CLI tool to generate images using an together AI API')\n    .version('1.0.0');\n\n\n// Command to save the API key\nprogram\n    .command('set-api-key')\n    .description('Store your API key locally')\n    .argument('<apiKey>', 'API key for authentication')\n    .action((apiKey) => {\n\n        if (!apiKey) {\n            console.error('API key is required.');\n            return;\n        }\n\n        saveApiKey(apiKey);\n    });\n\n\nprogram\n    .command('generate')\n    .description('Generate an image')\n    .option('-p, --prompt <prompt>', 'Prompt for image generation eg. -p \"flying cars\". Use double \" \" around the prompt')\n    .option('-d, --directory <path>', 'Directory to save the images', path.join(os.homedir(), 'Pictures'))\n    .option('-r, --ratio <ratio>', 'your generated image aspect ratio ', 'portrait')\n    .action(async (options) => {\n        const { prompt, directory, ratio } = options;\n\n        // Ensure API key exists\n        const apiKey = getApiKey();\n        if (!apiKey) {\n            console.error(\n                'No API key found. Please set your API key using the \"set-api-key\" command.'\n            );\n            return;\n        }\n\n        if(!ratio){\n        if ( ratio != \"landscape\" || ratio != \"square\" || ratio != \"portrait\" ){\n            console.error(\n                'ratio not correct. Please set your -r as landscape or square or portrait.'\n            );\n            return;\n        }\n    }\n\n    if(!prompt){\n        console.error(\n            'Prompt is missing. Please set your -p with your image description'\n        );\n        return;\n    }\n        // Ensure output directory exists\n        ensureDirectoryExists(directory);\n\n        console.log('\\nGenerating image...\\n');\n        const savedPath = await generateImage(apiKey, prompt, directory, ratio);\n\n        if(savedPath == \"error\"){\n            // console.error(\n            //     'Prompt is missing. Please set your -p with your image description'\n            // );\n            return;\n        }\n        console.log(`\\nImage generation complete! Image saved at: ${savedPath}`);\n    });\n\n// Welcome message with figlet\nfiglet('Image Generator', (err, data) => {\n    if (err) {\n        console.log('Error loading welcome message:', err.message);\n    } else {\n        console.log(data);\n        program.parse(process.argv);\n    }\n});\n","/*\n\tNode plugin for figlet.js\n*/\n\nconst figlet = require(\"./figlet.js\"),\n  fs = require(\"fs\"),\n  path = require(\"path\"),\n  fontDir = path.join(__dirname, \"/../fonts/\");\n\n/*\n    Loads a font into the figlet object.\n\n    Parameters:\n    - name (string): Name of the font to load.\n    - next (function): Callback function.\n*/\nfiglet.loadFont = function (name, next) {\n  return new Promise(function(resolve, reject) {\n    if (figlet.figFonts[name]) {\n      next && next(null, figlet.figFonts[name].options);\n      resolve(figlet.figFonts[name].options);\n      return;\n    }\n\n    fs.readFile(\n      path.join(fontDir, name + \".flf\"),\n      { encoding: \"utf-8\" },\n      function (err, fontData) {\n        if (err) {\n          next && next(err);\n          reject(err);\n          return;\n        }\n\n        fontData = fontData + \"\";\n        try {\n          var font = figlet.parseFont(name, fontData);\n          next && next(null, font);\n          resolve(font);\n        } catch (error) {\n          next && next(error);\n          reject(error);\n        }\n      }\n    );\n  });\n};\n\n/*\n Loads a font synchronously into the figlet object.\n\n Parameters:\n - name (string): Name of the font to load.\n */\nfiglet.loadFontSync = function (name) {\n  if (figlet.figFonts[name]) {\n    return figlet.figFonts[name].options;\n  }\n\n  var fontData = fs.readFileSync(path.join(fontDir, name + \".flf\"), {\n    encoding: \"utf-8\",\n  });\n\n  fontData = fontData + \"\";\n  return figlet.parseFont(name, fontData);\n};\n\n/*\n    Returns an array containing all of the font names\n*/\nfiglet.fonts = function (next) {\n  return new Promise(function(resolve, reject) {\n    var fontList = [];\n    fs.readdir(fontDir, function (err, files) {\n      // '/' denotes the root folder\n      if (err) {\n        next && next(err);\n        reject(err);\n        return;\n      }\n\n      files.forEach(function (file) {\n        if (/\\.flf$/.test(file)) {\n          fontList.push(file.replace(/\\.flf$/, \"\"));\n        }\n      });\n\n      next && next(null, fontList);\n      resolve(fontList);\n    });\n  });\n};\n\nfiglet.fontsSync = function () {\n  var fontList = [];\n  fs.readdirSync(fontDir).forEach(function (file) {\n    if (/\\.flf$/.test(file)) {\n      fontList.push(file.replace(/\\.flf$/, \"\"));\n    }\n  });\n\n  return fontList;\n};\n\nmodule.exports = figlet;\n","const fs = require('fs');\nconst path = require('path');\n\n// Define the config file path\nconst CONFIG_FILE = path.join(require('os').homedir(), '.image-generator-config.json');\n\n\n// Ensure the configuration file exists\nconst ensureConfigFile = () => {\n    if (!fs.existsSync(CONFIG_FILE)) {\n        fs.writeFileSync(CONFIG_FILE, JSON.stringify({ apiKey: '' }, null, 2));\n    }\n};\n\n// Get the API key from the config file\nconst getApiKey = () => {\n    ensureConfigFile();\n    const config = JSON.parse(fs.readFileSync(CONFIG_FILE, 'utf-8'));\n    return config.apiKey || null;\n};\n\n\n// Save the API key to the config file\nconst saveApiKey = (apiKey) => {\n    ensureConfigFile();\n    const config = JSON.parse(fs.readFileSync(CONFIG_FILE, 'utf-8'));\n    config.apiKey = apiKey;\n    fs.writeFileSync(CONFIG_FILE, JSON.stringify(config, null, 2));\n    console.log('API key saved successfully!');\n};\n\n\nmodule.exports = {getApiKey, saveApiKey }"],"names":["CommanderError","Error","constructor","exitCode","code","message","super","captureStackTrace","this","name","nestedError","undefined","error","InvalidArgumentError","require$$0","argument","Argument","description","variadic","parseArg","defaultValue","defaultValueDescription","argChoices","required","_name","slice","length","_concatValue","value","previous","Array","isArray","concat","argParser","fn","choices","values","arg","includes","join","argRequired","argOptional","humanReadableArgName","nameOutput","help","Help","helpWidth","sortSubcommands","sortOptions","showGlobalOptions","visibleCommands","cmd","commands","filter","_hidden","helpCommand","_getHelpCommand","push","sort","a","b","localeCompare","compareOptions","getSortKey","option","short","replace","long","visibleOptions","options","hidden","helpOption","_getHelpOption","removeShort","_findOption","removeLong","createOption","visibleGlobalOptions","globalOptions","ancestorCmd","parent","visibleArguments","_argsDescription","registeredArguments","forEach","find","subcommandTerm","args","map","_aliases","optionTerm","flags","argumentTerm","longestSubcommandTermLength","helper","reduce","max","command","Math","longestOptionTermLength","longestGlobalOptionTermLength","longestArgumentTermLength","commandUsage","cmdName","ancestorCmdNames","usage","commandDescription","subcommandDescription","summary","optionDescription","extraInfo","choice","JSON","stringify","optional","isBoolean","presetArg","envVar","argumentDescription","extraDescripton","formatHelp","termWidth","padWidth","formatItem","term","fullText","padEnd","wrap","formatList","textArray","repeat","output","argumentList","optionList","globalOptionList","commandList","str","width","indent","minColumnWidth","manualIndent","RegExp","match","columnWidth","leadingStr","columnText","indentString","breaks","regex","line","i","trimEnd","Option","test","mandatory","optionFlags","shortFlag","longFlag","flagParts","split","shift","splitOptionFlags","negate","startsWith","conflictsWith","implied","preset","conflicts","names","implies","impliedOptionValues","newImplied","Object","assign","env","makeOptionMandatory","hideHelp","hide","attributeName","word","toUpperCase","is","DualOptions","positiveOptions","Map","negativeOptions","dualOptions","Set","set","key","has","add","valueFromOption","optionKey","get","negativeValue","suggestSimilar_1","suggestSimilar","candidates","from","searchingOptions","candidate","similar","bestDistance","distance","abs","d","j","cost","min","editDistance","Command","EventEmitter","childProcess","require$$1","path","require$$2","fs","require$$3","process","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","_allowUnknownOption","_allowExcessArguments","_args","rawArgs","processedArgs","_scriptPath","_optionValues","_optionValueSources","_storeOptionsAsProperties","_actionHandler","_executableHandler","_executableFile","_executableDir","_defaultCommandName","_exitCallback","_combineFlagAndOptionalValue","_description","_summary","_enablePositionalOptions","_passThroughOptions","_lifeCycleHooks","_showHelpAfterError","_showSuggestionAfterError","_outputConfiguration","writeOut","stdout","write","writeErr","stderr","getOutHelpWidth","isTTY","columns","getErrHelpWidth","outputError","_helpOption","_addImplicitHelpCommand","_helpCommand","_helpConfiguration","copyInheritedSettings","sourceCommand","_getCommandAndAncestors","result","nameAndArgs","actionOptsOrExecDesc","execOpts","desc","opts","createCommand","isDefault","noHelp","executableFile","arguments","_registerCommand","createHelp","configureHelp","configuration","configureOutput","showHelpAfterError","displayHelp","showSuggestionAfterError","displaySuggestion","addCommand","_checkForBrokenPassThrough","createArgument","default","addArgument","trim","detail","previousArgument","enableOrNameAndArgs","helpName","helpArgs","helpDescription","addHelpCommand","deprecatedDescription","_findCommand","hook","event","listener","allowedValues","exitOverride","err","_exit","exit","action","expectedArgsCount","actionArgs","apply","_callParseArg","target","invalidArgumentMessage","_registerOption","matchingOption","matchingFlag","knownBy","aliases","alreadyUsed","existingCmd","newCmd","addOption","oname","positiveLongFlag","setOptionValueWithSource","handleOptionValue","val","invalidValueMessage","valueSource","oldValue","getOptionValue","on","_optionEx","config","def","m","exec","requiredOption","combineFlagAndOptionalValue","combine","allowUnknownOption","allowUnknown","allowExcessArguments","allowExcess","enablePositionalOptions","positional","passThroughOptions","passThrough","storeOptionsAsProperties","storeAsProperties","keys","setOptionValue","source","getOptionValueSource","getOptionValueSourceWithGlobals","_prepareUserArgs","argv","parseOptions","versions","electron","execArgv","userArgs","defaultApp","nameFromFilename","parse","_parseCommand","parseAsync","_executeSubCommand","subcommand","launchWithNode","sourceExt","findFile","baseDir","baseName","localBin","resolve","existsSync","extname","foundExt","ext","_checkForMissingMandatoryOptions","_checkForConflictingOptions","proc","executableDir","resolvedScriptPath","realpathSync","dirname","localFile","legacyName","basename","platform","unshift","incrementNodeInspectorPort","spawn","stdio","execPath","killed","signal","kill","exitCallback","executableDirMessage","executableMissing","wrappedError","runningCommand","_dispatchSubcommand","commandName","operands","unknown","subCommand","promiseChain","_chainOrCallSubCommandHook","_chainOrCall","_dispatchHelpCommand","subcommandName","_checkNumberOfArguments","missingArgument","_excessArguments","_processArguments","myParseArg","parsedValue","declaredArg","index","processed","v","promise","then","_chainOrCallHooks","hooks","reverse","hookedCommand","callback","hookDetail","parsed","_parseOptionsEnv","_parseOptionsImplied","_outputHelpIfRequested","checkForUnknownOptions","unknownOption","commandEvent","emit","listenerCount","unknownCommand","anOption","missingMandatoryOptionValue","_checkForConflictingLocalOptions","definedNonDefaultOptions","optionsWithConflicting","conflictingAndDefined","defined","_conflictingOption","dest","maybeOption","activeVariadicOption","optionMissingArgument","indexOf","len","_versionOptionName","_version","optsWithGlobals","combinedOptions","errorOptions","outputHelp","dualHelper","hasCustomOptionValue","impliedKey","conflictingOption","findBestOptionFromValue","optionValue","negativeOption","positiveOption","getErrorMessage","bestOption","flag","suggestion","candidateFlags","moreFlags","receivedArgs","expected","s","unknownName","candidateNames","alias","version","versionOption","argsDescription","matchingCommand","_usage","filename","helpInformation","contextOptions","_getHelpContext","context","deprecatedCallback","Buffer","isBuffer","addHelpOption","addHelpText","position","text","helpEvent","helpStr","debugOption","debugHost","debugPort","parseInt","commander","program","InvalidOptionArgumentError","figlet","figFonts","figDefaults","font","fontPath","hRule1_Smush","ch1","ch2","hardBlank","hRule2_Smush","rule2Str","hRule3_Smush","rule3Classes","r3_pos1","r3_pos2","startPos","substring","hRule4_Smush","rule4Str","r4_pos1","r4_pos2","hRule5_Smush","rule5Str","rule5Hash","r5_pos1","r5_pos2","hRule6_Smush","vRule1_Smush","vRule2_Smush","vRule3_Smush","vRule4_Smush","vRule5_Smush","uni_Smush","canVerticalSmush","txt1","txt2","fittingRules","vLayout","ii","validSmush","endSmush","vRule1","vRule2","vRule3","vRule4","verticallySmushLines","line1","line2","vRule5","padLines","lines","numSpaces","padding","smushVerticalFigLines","overlap","len1","len2","lines1","lines2","subLines1","subLines2","slen","maxDist","ret","curDist","getVerticalSmushDist","piece3","piece1","piece2_1","piece2_2","piece2","verticalSmush","getHorizontalSmushLength","hLayout","seg1","seg2","breakAfter","distCal","seg1StartPos","hRule1","hRule2","hRule3","hRule4","hRule5","hRule6","horizontalSmush","textBlock1","textBlock2","jj","overlapStart","outputFig","height","substr","nextCh","newFigChar","row","outputFigText","figLinesWidth","textLines","joinFigArray","array","acc","data","fig","breakWord","figChars","w","chars","generateFigTextLines","txt","charIndex","figChar","maxWidth","nextFigChars","char","isSpace","textFigWord","textFigLine","tmpBreak","outputFigLines","figWords","whitespaceBreak","printDirection","charCodeAt","showHardBlanks","generateText","fontName","figLines","_reworkFontOpts","fontOpts","params","prop","myOpts","horizontalLayout","layout","props","getHorizontalFittingRules","hasOwnProperty","verticalLayout","getVerticalFittingRules","me","next","async","Promise","reject","loadFont","generatedTxt","textSync","loadFontSync","metadata","comment","defaults","parseFont","headerData","splice","figFont","baseline","maxLength","oldLayout","numCommentLines","fullLayout","codeTagCount","newLayout","rules","codes","getSmushingRules","isNaN","charNums","cNum","endCharRegEx","parseError","numChars","console","log","fetch","response","ok","catch","preloadFonts","fonts","fontData","res","module","defineProperty","formats","RFC3986","formatters","default_format","RFC1738","String","utils","maybe_map","is_regexp","compact","encode","assign_single_source","merge","formats_1","prototype","is_array","hex_table","toString","plainObjects","allowPrototypes","call","mergeTarget","obj","create","array_to_object","item","targetItem","decode","_","charset","strWithoutPlus","unescape","decodeURIComponent","e","limit","_defaultEncoder","_kind","format","string","Symbol","escape","$0","out","segment","arr","c","charAt","queue","o","refs","pop","compacted","compact_queue","is_buffer","mapped","stringify_1","utils_1","array_prefix_generators","brackets","prefix","comma","indices","push_to_array","value_or_array","to_ISO","Date","toISOString","addQueryPrefix","allowDots","allowEmptyArrays","arrayFormat","charsetSentinel","delimiter","encodeDotInKeys","encoder","encodeValuesOnly","formatter","serializeDate","date","skipNulls","strictNullHandling","sentinel","inner_stringify","object","generateArrayPrefix","commaRoundTrip","sideChannel","tmp_sc","step","find_flag","pos","RangeError","key_value","obj_keys","encoded_prefix","adjusted_prefix","encoded_key","key_prefix","valueSideChannel","WeakMap","TypeError","normalize_stringify_options","joined","exports","enumerable","VERSION","kind","Request","Response","Headers","FormData","Blob","File","ReadableStream","getMultipartRequestOptions","getDefaultAgent","fileFromPath","isFsReadStream","auto","shims","MultipartBody_1","MultipartBody","MultipartBody$1","body","toStringTag","webRuntime","getRuntime","manuallyImported","recommendation","_fetch","_Request","_Response","_Headers","form","url","__createBinding","k","k2","getOwnPropertyDescriptor","__esModule","writable","configurable","__exportStar","p","setShims","property","ContentFilterFinishReasonError","LengthFinishReasonError","InternalServerError","RateLimitError","UnprocessableEntityError","ConflictError","NotFoundError","PermissionDeniedError","AuthenticationError","BadRequestError","APIConnectionTimeoutError","APIConnectionError","APIUserAbortError","APIError","OpenAIError","core_1","status","headers","makeMessage","request_id","param","type","msg","generate","errorResponse","cause","castToError","LineDecoder","error_1","buffer","trailingCR","chunk","decodeText","endsWith","trailingNewline","NEWLINE_CHARS","NEWLINE_REGEXP","bytes","Uint8Array","TextDecoder","ArrayBuffer","textDecoder","flush","streaming","readableStreamAsyncIterable","_iterSSEMessages","Stream","index_1","line_1","error_2","iterator","controller","fromSSEResponse","consumed","done","sse","raw","abort","fromReadableStream","readableStream","lineDecoder","iter","iterLines","asyncIterator","tee","left","right","teeIterator","toReadableStream","self","TextEncoder","start","pull","ctrl","close","enqueue","cancel","return","sseDecoder","SSEDecoder","sseChunk","binaryChunk","patternIndex","newData","findDoubleNewlineIndex","iterSSEChunks","chunks","fieldname","partition","stream","reader","getReader","read","releaseLock","cancelPromise","_decodeChunks","decoder","createForm","multipartFormRequestOptions","maybeMultipartFormRequestOptions","isMultipartBody","toFile","isUploadable","isFileLike","isResponseLike","index_2","blob","lastModified","isBlobLike","size","arrayBuffer","URL","pathname","bits","parts","isView","isAsyncIterableIterator","getOwnPropertyNames","propsForError","getBytes","getStringFromMaybeBuffer","getName","x","hasUploadableValue","all","entries","addFormValue","some","append","file","entry","_AbstractPage_client","__classPrivateFieldSet","receiver","state","f","__classPrivateFieldGet","isObj","toBase64","getHeader","getRequiredHeader","isHeadersProtocol","isRunningInBrowser","debug","hasOwn","isEmptyObj","maybeCoerceBoolean","maybeCoerceFloat","maybeCoerceInteger","coerceBoolean","coerceFloat","coerceInteger","readEnv","ensurePresent","sleep","safeJSON","isRequestOptions","createResponseHeaders","PagePromise","AbstractPage","APIClient","APIPromise","version_1","streaming_1","uploads_1","uploads_2","defaultParseResponse","__streamClass","__binaryResponse","contentType","json","_addRequestID","responsePromise","parseResponse","_thenUnwrap","transform","asResponse","withResponse","parsedPromise","onfulfilled","onrejected","onfinally","finally","baseURL","maxRetries","timeout","httpAgent","overridenFetch","validatePositiveInteger","authHeaders","defaultHeaders","Accept","getUserAgent","getPlatformHeaders","validateHeaders","customHeaders","defaultIdempotencyKey","uuid4","methodRequest","post","patch","put","method","request","DataView","getAPIList","Page","requestAPIList","calculateContentLength","byteLength","buildRequest","retryCount","query","__binaryRequest","contentLength","buildURL","minAgentTimeout","idempotencyHeader","idempotencyKey","req","buildHeaders","agent","reqHeaders","applyHeadersMut","prepareOptions","prepareRequest","parseHeaders","fromEntries","header","makeStatusError","remainingRetries","makeRequest","optionsInput","retriesRemaining","aborted","AbortController","fetchWithTimeout","retryRequest","responseHeaders","shouldRetry","errText","errJSON","errMessage","isAbsoluteURL","defaultQuery","search","stringifyQuery","encodeURIComponent","init","ms","addEventListener","setTimeout","getRequestClient","clearTimeout","shouldRetryHeader","timeoutMillis","retryAfterMillisHeader","timeoutMs","parseFloat","Number","retryAfterHeader","timeoutSeconds","now","calculateDefaultRetryTimeoutMillis","numRetries","pow","random","client","hasNextPage","getPaginatedItems","nextPageInfo","getNextPage","nextInfo","nextOptions","searchParams","iterPages","page","Proxy","toLowerCase","requestOptionsKeys","every","getPlatformProperties","Deno","build","normalizePlatform","os","normalizeArch","arch","deno","EdgeRuntime","browserInfo","navigator","browserPatterns","pattern","userAgent","browser","getBrowserInfo","_platformHeaders","startsWithSchemeRegexp","n","isInteger","round","Boolean","_k","targetHeaders","newHeaders","lowerKey","r","window","document","foundHeader","lowerCasedHeader","intercapsHeader","_m","g1","g2","warn","btoa","pagination","CursorPage","nextPageParams","info","id","after","resource","APIResource","_client","completions","Completions","resource_1","__setModuleDefault","__importStar","mod","chat","Chat","CompletionsAPI","completions_1","chat_1","shared","speech","Speech","transcriptions","Transcriptions","Core","translations","Translations","audio","Audio","SpeechAPI","speech_1","TranscriptionsAPI","transcriptions_1","TranslationsAPI","translations_1","batches","BatchesPage","Batches","pagination_1","retrieve","batchId","list","assistants","AssistantsPage","Assistants","assistantId","update","del","delete","RunnableFunction","ParsingToolFunction","ParsingFunction","isRunnableFunctionWithParse","input","function","parameters","chatCompletionUtils","isPresent","isFunctionMessage","isAssistantMessage","role","isToolMessage","_EventStream_instances","_EventStream_connectedPromise","_EventStream_resolveConnectedPromise","_EventStream_rejectConnectedPromise","_EventStream_endPromise","_EventStream_resolveEndPromise","_EventStream_rejectEndPromise","_EventStream_listeners","_EventStream_ended","_EventStream_errored","_EventStream_aborted","_EventStream_catchingPromiseCreated","_EventStream_handleError","EventStream_1","EventStream","_run","executor","_emitFinal","_emit","bind","_connected","ended","errored","off","listeners","findIndex","l","once","emitted","WeakSet","openAIError","parser","validateInputTools","hasAutoParseableInput","parseChatCompletion","maybeParseChatCompletion","isAutoParsableTool","isAutoParsableResponseFormat","makeParseableResponseFormat","response_format","tool","completion","finish_reason","tool_calls","toolCall","inputTool","tools","parsed_arguments","$parseRaw","strict","parseToolCall","content","refusal","parseResponseFormat","t","defineProperties","$brand","makeParseableTool","$callback","shouldParseToolCall","_AbstractChatCompletionRunner_instances","_AbstractChatCompletionRunner_getFinalContent","_AbstractChatCompletionRunner_getFinalMessage","_AbstractChatCompletionRunner_getFinalFunctionCall","_AbstractChatCompletionRunner_getFinalFunctionCallResult","_AbstractChatCompletionRunner_calculateTotalUsage","_AbstractChatCompletionRunner_validateParams","_AbstractChatCompletionRunner_stringifyFunctionCallResult","AbstractChatCompletionRunner_1","AbstractChatCompletionRunner","RunnableFunction_1","chatCompletionUtils_1","parser_1","DEFAULT_MAX_CHAT_COMPLETIONS","AbstractChatCompletionRunner$1","_chatCompletions","messages","_addChatCompletion","chatCompletion","_addMessage","function_call","tool_call","finalChatCompletion","finalContent","finalMessage","finalFunctionCall","finalFunctionCallResult","totalUsage","allChatCompletions","_createChatCompletion","_runChatCompletion","_runFunctions","restParams","singleFunctionToCall","maxChatCompletions","functionsByName","functions","rawContent","_runTools","tool_choice","inputTools","tool_call_id","rest","at","y","total","completion_tokens","prompt_tokens","total_tokens","ChatCompletionRunner_1","ChatCompletionRunner","ChatCompletionRunner$1","runFunctions","runner","runTools","MalformedJSON","PartialJSON","partialParse","Allow","ATOM","_parseJSON","jsonString","allow","markPartialJSON","throwMalformedError","parseAny","skipBlank","parseStr","parseObj","parseArr","Infinity","NaN","parseNum","lastIndexOf","allowPartial","parseJSON","_ChatCompletionStream_instances","_ChatCompletionStream_params","_ChatCompletionStream_choiceEventStates","_ChatCompletionStream_currentChatCompletionSnapshot","_ChatCompletionStream_beginRequest","_ChatCompletionStream_getChoiceEventState","_ChatCompletionStream_addChunk","_ChatCompletionStream_emitToolCallDoneEvent","_ChatCompletionStream_emitContentDoneEvents","_ChatCompletionStream_endRequest","_ChatCompletionStream_getAutoParseableResponseFormat","_ChatCompletionStream_accumulateChatCompletion","ChatCompletionStream_1","ChatCompletionStream","parser_2","ChatCompletionStream$1","currentChatCompletionSnapshot","_fromReadableStream","createChatCompletion","chatId","content_done","refusal_done","logprobs_content_done","logprobs_refusal_done","done_tool_calls","current_tool_call_index","choiceSnapshot","delta","snapshot","logprobs","toolCallDelta","toolCallSnapshot","arguments_delta","toolCallIndex","responseFormat","created","model","system_fingerprint","choiceRest","messageRest","toolRest","fnRest","finalizeChatCompletion","_a","_b","_c","_d","other","pushQueue","readQueue","ChatCompletionStreamingRunner_1","ChatCompletionStreamingRunner","ChatCompletionStreamingRunner$1","ChatCompletionStreamingRunner_2","ChatCompletionStream_2","ChatCompletionRunner_2","_AssistantStream_instances","_AssistantStream_events","_AssistantStream_runStepSnapshots","_AssistantStream_messageSnapshots","_AssistantStream_messageSnapshot","_AssistantStream_finalRun","_AssistantStream_currentContentIndex","_AssistantStream_currentContent","_AssistantStream_currentToolCallIndex","_AssistantStream_currentToolCall","_AssistantStream_currentEvent","_AssistantStream_currentRunSnapshot","_AssistantStream_currentRunStepSnapshot","_AssistantStream_addEvent","_AssistantStream_endRequest","_AssistantStream_handleMessage","_AssistantStream_handleRunStep","_AssistantStream_handleEvent","_AssistantStream_accumulateRunStep","_AssistantStream_accumulateMessage","_AssistantStream_accumulateContent","_AssistantStream_handleRun","AssistantStream_1","AssistantStream","AssistantStream$1","_addRun","createToolAssistantStream","threadId","runId","runs","_runToolAssistantStream","_createToolAssistantStream","run","submitToolOutputs","createThreadAssistantStream","thread","_threadAssistantStream","createAssistantStream","_runAssistantStream","currentEvent","currentRun","currentMessageSnapshot","currentRunStepSnapshot","finalRunSteps","finalMessages","finalRun","_createThreadAssistantStream","createAndRun","_createAssistantStream","accumulateDelta","deltaValue","accValue","deltaEntry","accEntry","accumulatedMessage","newContent","snapshotContent","textDelta","image_file","currentContent","accumulatedRunStep","step_details","accumulated","contentElement","MessagesPage","Messages","messageId","steps","RunStepsPage","Steps","stepId","RunsPage","Runs","core_2","StepsAPI","steps_1","include","createAndPoll","poll","createAndStream","beta","threads","pollIntervalMs","sleepInterval","headerInterval","headerIntervalMs","submitToolOutputsAndPoll","submitToolOutputsStream","Threads","MessagesAPI","messages_1","RunsAPI","runs_1","createAndRunPoll","thread_id","createAndRunStream","Util","allSettledWithThrow","promises","results","allSettled","rejected","reason","files","VectorStoreFilesPage","Files","vectorStoreId","fileId","fileResponse","upload","fileInfo","purpose","file_id","uploadAndPoll","FileBatches","Util_1","files_1","batch","listFiles","fileIds","configuredConcurrency","maxConcurrency","concurrencyLimit","fileIterator","allFileIds","workers","fill","fileObj","file_ids","vectorStores","VectorStoresPage","VectorStores","FileBatchesAPI","file_batches_1","FilesAPI","fileBatches","Beta","AssistantsAPI","ChatAPI","assistants_1","ThreadsAPI","threads_1","VectorStoresAPI","vector_stores_1","embeddings","Embeddings","FileObjectsPage","retrieveContent","waitForProcessing","pollInterval","maxWait","TERMINAL_STATES","checkpoints","FineTuningJobCheckpointsPage","Checkpoints","fineTuningJobId","jobs","FineTuningJobEventsPage","FineTuningJobsPage","Jobs","CheckpointsAPI","checkpoints_1","listEvents","fineTuning","FineTuning","JobsAPI","jobs_1","images","Images","createVariation","edit","models","ModelsPage","Models","moderations","Moderations","Parts","uploadId","uploads","Uploads","PartsAPI","parts_1","complete","audio_1","batches_1","beta_1","embeddings_1","fine_tuning_1","images_1","models_1","require$$10","moderations_1","require$$11","require$$12","AzureOpenAI","OpenAI","qs","Errors","API","require$$13","require$$14","require$$15","require$$16","require$$17","apiKey","organization","project","dangerouslyAllowBrowser","_options","Authorization","DEFAULT_TIMEOUT","apiVersion","endpoint","deployment","azureADTokenProvider","API_KEY_SENTINEL","_azureADTokenProvider","_deployment","_deployments_endpoints","_getAzureADToken","token","util","DelayedStream","dataSize","maxDataSize","pauseStream","_maxDataSizeExceeded","_released","_bufferedEvents","delayed_stream","inherits","delayedStream","realEmit","_handleEmit","pause","readable","setEncoding","resume","release","pipe","_checkIfMaxDataSizeExceeded","CombinedStream","pauseStreams","_streams","_currentStream","_insideLoop","_pendingNext","combined_stream","combinedStream","isStreamLike","newStream","_checkDataSize","_handleErrors","_getNext","_realGetNext","_pipeNext","end","_emitError","_reset","destroy","_updateDataSize","extensions","types","preference","db","mimeDb","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","mime","charsets","lookup","extension","exts","to","defer","defer_1","nextTick","setImmediate","async_1","isAsync","clean","abort_1","iterate_1","aborter","runJob","state_1","sortMethod","isNamedList","initState","keyedList","terminator_1","iterate","terminator","parallel_1","ascending","serialOrderedModule","iteratorHandler","descending","serialOrdered","serial_1","asynckit","parallel","serial","populate","dst","src","parseUrl","DEFAULT_PORTS","ftp","gopher","http","https","ws","wss","stringEndsWith","getEnv","proxyFromEnv","getProxyForUrl","parsedUrl","proto","protocol","hostname","host","port","NO_PROXY","proxy","parsedProxy","parsedProxyHostname","parsedProxyPort","shouldProxy","h","plural","floor","ceil","fmtLong","fmtShort","prevTime","createDebug","namespace","enabled","curr","diff","prev","coerce","formatArgs","useColors","color","hash","colors","selectColor","stack","disable","enable","namespaces","save","skips","humanize","srcModule","load","storage","DEBUG","Function","lastC","removeItem","documentElement","style","WebkitAppearance","firebug","exception","table","$1","chrome","local","localStorage","localstorage","tty","inspectOpts","toUTCString","isatty","fd","DEBUG_FD","deprecate","binding","guessHandleType","WriteStream","_type","_handle","unref","SyncWriteStream","autoClose","Socket","_isStdio","createWritableStdioStream","inspect","O","looksLikeNode","looksLikeBrowser","looksLikeV8","Writable","assert","debug_1","isFunction","useNativeURL","preservedUrlFields","events","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","spreadUrlObject","isString","validateUrl","equal","wrappedRequest","href","urlObject","spread","removeMatchingHeaders","lastValue","baseClass","CustomError","properties","destroyRequest","removeListener","_currentRequest","encoding","currentRequest","setHeader","removeHeader","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimer","searchPos","agents","_currentUrl","_isRedirect","buffers","writeNext","finished","statusCode","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","relative","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","domain","dot","isSubdomain","responseDetails","requestDetails","followRedirectsModule","FormData$1","_overheadLength","_valueLength","_valuesToMeasure","form_data","LINE_BREAK","DEFAULT_CONTENT_TYPE","field","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","_getContentType","contents","getBoundary","filepath","normalize","_httpMessage","_lastBoundary","getHeaders","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","getLengthSync","hasKnownLength","getLength","cb","submit","onResponse","responce","zlib","_interopDefaultLegacy","FormData__default","url__default","http__default","https__default","util__default","followRedirects__default","zlib__default","stream__default","thisArg","getPrototypeOf","kindOf","cache","thing","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","allOwnKeys","findKey","_key","_global","globalThis","global","isContextDefined","isTypedArray","TypedArray","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","postMessage","callbacks","asap","queueMicrotask","utils$1","isFormData","isArrayBufferView","isStream","caseless","assignValue","targetKey","extend","stripBOM","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","lastIndex","toArray","forEachEntry","pair","matchAll","regExp","matches","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","define","toCamelCase","p1","p2","toFiniteNumber","isFinite","generateString","alphabet","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","toJSON","number","fileName","lineNumber","columnNumber","prototype$1","isVisitable","removeBrackets","renderKey","dots","customProps","axiosError","predicates","toFormData","formData","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","isFlatArray","el","exposedHelpers","encode$1","charMap","AxiosURLSearchParams","_pairs","_encode","serializeFn","serialize","serializedParams","hashmarkIndex","InterceptorManager$1","handlers","use","fulfilled","synchronous","runWhen","eject","clear","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","platform$1","isNode","classes","URLSearchParams","hasBrowserEnv","_navigator","hasStandardBrowserEnv","product","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","origin","freeze","__proto__","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","transitional","adapter","transformRequest","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","defaults$1","ignoreDuplicateOf","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","tokens","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalized","formatHeader","targets","asStrings","first","computed","accessor","accessors","defineAccessor","accessorName","methodName","buildAccessors","headerValue","AxiosHeaders$1","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","buildFullPath","requestedURL","relativeURL","combineURLs","parseProtocol","DATA_URL_PATTERN","kInternals","AxiosTransformStream","Transform","readableHighWaterMark","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","_read","_transform","bytesThreshold","pushChunk","_chunk","_callback","transformChunk","bytesLeft","chunkRemainder","maxChunkSize","passed","subarray","transformNextChunk","AxiosTransformStream$1","readBlob$1","BOUNDARY_ALPHABET","textEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","formDataToStream$1","headersHandler","tag","boundaryBytes","footerBytes","part","computedHeaders","Readable","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify$1","progressEventReducer","isDownloadStream","freq","bytesNotified","_speedometer","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","speedometer","lastArgs","timer","timestamp","threshold","invoke","throttle","loaded","lengthComputable","progressBytes","rate","progress","estimated","progressEventDecorator","throttled","asyncDecorator","zlibOptions","constants","Z_SYNC_FLUSH","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","createBrotliDecompress","httpFollow","httpsFollow","isHttps","supportedProtocols","flushOnFinish","dispatchBeforeRedirect","beforeRedirects","setProxy","configProxy","proxyUrl","username","auth","password","base64","proxyHost","redirectOptions","isHttpAdapterSupported","buildAddressEntry","address","family","resolveFamily","httpAdapter","asyncExecutor","onDone","responseEncoding","isDone","_lookup","opt","arg0","addresses","addr","emitter","onFinished","cancelToken","unsubscribe","removeEventListener","removeAllListeners","isRejected","subscribe","fullPath","convertedData","statusText","uri","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","fromDataURI","onUploadProgress","onDownloadProgress","maxUploadRate","maxDownloadRate","userBoundary","hasContentLength","promisify","setContentLength","getContentLength","objectMode","pipeline","paramsSerializer","customErr","exists","httpsAgent","transport","socketPath","isHttpsRequest","insecureHTTPParser","destroyed","streams","responseLength","transformStream","responseStream","lastRequest","decompress","createUnzip","offListeners","statusMessage","responseBuffer","totalResponseBytes","responseData","setKeepAlive","ERR_BAD_OPTION_VALUE","timeoutErrorMessage","ETIMEDOUT","ECONNABORTED","_reject","onDoneHandler","isURLSameOrigin","msie","urlParsingNode","createElement","originURL","resolveURL","setAttribute","requestURL","cookies","expires","secure","cookie","toGMTString","remove","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","withCredentials","withXSRFToken","configValue","resolveConfig","newConfig","xsrfValue","xhrAdapter","XMLHttpRequest","_config","requestData","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","onloadend","getAllResponseHeaders","responseText","open","onreadystatechange","readyState","responseURL","onabort","onerror","ERR_NETWORK","ontimeout","setRequestHeader","send","composeSignals$1","signals","streamChunk","readStream","trackStream","onProgress","onFinish","iterable","readBytes","_onFinish","loadedBytes","highWaterMark","isFetchSupported","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","resolveBodyLength","_request","getBodyLength","fetchAdapter","fetchOptions","composedSignal","toAbortSignal","requestContentLength","contentTypeHeader","isCredentialsSupported","credentials","isStreamResponse","responseContentLength","knownAdapters","xhr","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","validators$1","deprecatedWarnings","validator","formatMessage","ERR_DEPRECATED","assertOptions","schema","ERR_BAD_OPTION","validators","Axios","instanceConfig","interceptors","configOrUrl","dummy","boolean","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","chain","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","Axios$1","CancelToken","resolvePromise","_listeners","_resolve","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","axios","createInstance","defaultConfig","instance","Cancel","isAxiosError","payload","formToJSON","getAdapter","axios_1","imgToFile","saveImageToFile","imageUrl","urlDirectory","filePath","directory","mkdirSync","recursive","writer","createWriteStream","ensureDirectoryExists","dir","OpenAi","generateRandomNumber","generateImage_1","prompted","outputDirectory","aspectRatio","randomNumber","userPrompt","image","prompt","seed","image_url","imageGenExports","fontDir","__dirname","readFile","readFileSync","fontList","readdir","fontsSync","readdirSync","nodeFiglet","generateImage","getApiKey","saveApiKey","CONFIG_FILE","homedir","ensureConfigFile","writeFileSync","getApiKey_1","ratio","savedPath","requireImageGen","getDefaultExportFromCjs"],"mappings":";4mCAGA,MAAMA,UAAuBC,MAO3B,WAAAC,CAAYC,EAAUC,EAAMC,GAC1BC,MAAMD,GAENJ,MAAMM,kBAAkBC,KAAMA,KAAKN,aACnCM,KAAKC,KAAOD,KAAKN,YAAYO,KAC7BD,KAAKJ,KAAOA,EACZI,KAAKL,SAAWA,EAChBK,KAAKE,iBAAcC,CACvB,SAmBAC,EAAAZ,eAAyBA,EACzBY,EAAAC,qBAdA,cAAmCb,EAKjC,WAAAE,CAAYG,GACVC,MAAM,EAAG,4BAA6BD,GAEtCJ,MAAMM,kBAAkBC,KAAMA,KAAKN,aACnCM,KAAKC,KAAOD,KAAKN,YAAYO,IACjC,oCClCA,MAAMI,qBAAEA,GAAyBC,WAmJjCC,EAAAC,SAjJA,MAUE,WAAAd,CAAYO,EAAMQ,GAQhB,OAPAT,KAAKS,YAAcA,GAAe,GAClCT,KAAKU,UAAW,EAChBV,KAAKW,cAAWR,EAChBH,KAAKY,kBAAeT,EACpBH,KAAKa,6BAA0BV,EAC/BH,KAAKc,gBAAaX,EAEVF,EAAK,IACX,IAAK,IACHD,KAAKe,UAAW,EAChBf,KAAKgB,MAAQf,EAAKgB,MAAM,GAAI,GAC5B,MACF,IAAK,IACHjB,KAAKe,UAAW,EAChBf,KAAKgB,MAAQf,EAAKgB,MAAM,GAAI,GAC5B,MACF,QACEjB,KAAKe,UAAW,EAChBf,KAAKgB,MAAQf,EAIbD,KAAKgB,MAAME,OAAS,GAA8B,QAAzBlB,KAAKgB,MAAMC,OAAO,KAC7CjB,KAAKU,UAAW,EAChBV,KAAKgB,MAAQhB,KAAKgB,MAAMC,MAAM,GAAI,GAExC,CAQE,IAAAhB,GACE,OAAOD,KAAKgB,KAChB,CAME,YAAAG,CAAaC,EAAOC,GAClB,OAAIA,IAAarB,KAAKY,cAAiBU,MAAMC,QAAQF,GAI9CA,EAASG,OAAOJ,GAHd,CAACA,EAId,CAUE,QAAQA,EAAOX,GAGb,OAFAT,KAAKY,aAAeQ,EACpBpB,KAAKa,wBAA0BJ,EACxBT,IACX,CASE,SAAAyB,CAAUC,GAER,OADA1B,KAAKW,SAAWe,EACT1B,IACX,CASE,OAAA2B,CAAQC,GAaN,OAZA5B,KAAKc,WAAac,EAAOX,QACzBjB,KAAKW,SAAW,CAACkB,EAAKR,KACpB,IAAKrB,KAAKc,WAAWgB,SAASD,GAC5B,MAAM,IAAIxB,EACR,uBAAuBL,KAAKc,WAAWiB,KAAK,UAGhD,OAAI/B,KAAKU,SACAV,KAAKmB,aAAaU,EAAKR,GAEzBQ,CAAG,EAEL7B,IACX,CAOE,WAAAgC,GAEE,OADAhC,KAAKe,UAAW,EACTf,IACX,CAOE,WAAAiC,GAEE,OADAjC,KAAKe,UAAW,EACTf,IACX,GAkBAO,EAAA2B,qBAPA,SAA8BL,GAC5B,MAAMM,EAAaN,EAAI5B,SAA2B,IAAjB4B,EAAInB,SAAoB,MAAQ,IAEjE,OAAOmB,EAAId,SAAW,IAAMoB,EAAa,IAAM,IAAMA,EAAa,GACpE,mDCjJA,MAAMD,qBAAEA,GAAyB5B,WAugBjC8B,EAAAC,KA5fA,MACE,WAAA3C,GACEM,KAAKsC,eAAYnC,EACjBH,KAAKuC,iBAAkB,EACvBvC,KAAKwC,aAAc,EACnBxC,KAAKyC,mBAAoB,CAC7B,CASE,eAAAC,CAAgBC,GACd,MAAMD,EAAkBC,EAAIC,SAASC,QAAQF,IAASA,EAAIG,UACpDC,EAAcJ,EAAIK,kBAUxB,OATID,IAAgBA,EAAYD,SAC9BJ,EAAgBO,KAAKF,GAEnB/C,KAAKuC,iBACPG,EAAgBQ,MAAK,CAACC,EAAGC,IAEhBD,EAAElD,OAAOoD,cAAcD,EAAEnD,UAG7ByC,CACX,CASE,cAAAY,CAAeH,EAAGC,GAChB,MAAMG,EAAcC,GAEXA,EAAOC,MACVD,EAAOC,MAAMC,QAAQ,KAAM,IAC3BF,EAAOG,KAAKD,QAAQ,MAAO,IAEjC,OAAOH,EAAWJ,GAAGE,cAAcE,EAAWH,GAClD,CASE,cAAAQ,CAAejB,GACb,MAAMiB,EAAiBjB,EAAIkB,QAAQhB,QAAQW,IAAYA,EAAOM,SAExDC,EAAapB,EAAIqB,iBACvB,GAAID,IAAeA,EAAWD,OAAQ,CAEpC,MAAMG,EAAcF,EAAWN,OAASd,EAAIuB,YAAYH,EAAWN,OAC7DU,EAAaJ,EAAWJ,MAAQhB,EAAIuB,YAAYH,EAAWJ,MAC5DM,GAAgBE,EAEVJ,EAAWJ,OAASQ,EAC7BP,EAAeX,KACbN,EAAIyB,aAAaL,EAAWJ,KAAMI,EAAWtD,cAEtCsD,EAAWN,QAAUQ,GAC9BL,EAAeX,KACbN,EAAIyB,aAAaL,EAAWN,MAAOM,EAAWtD,cAPhDmD,EAAeX,KAAKc,EAU5B,CAII,OAHI/D,KAAKwC,aACPoB,EAAeV,KAAKlD,KAAKsD,gBAEpBM,CACX,CASE,oBAAAS,CAAqB1B,GACnB,IAAK3C,KAAKyC,kBAAmB,MAAO,GAEpC,MAAM6B,EAAgB,GACtB,IACE,IAAIC,EAAc5B,EAAI6B,OACtBD,EACAA,EAAcA,EAAYC,OAC1B,CACA,MAAMZ,EAAiBW,EAAYV,QAAQhB,QACxCW,IAAYA,EAAOM,SAEtBQ,EAAcrB,QAAQW,EAC5B,CAII,OAHI5D,KAAKwC,aACP8B,EAAcpB,KAAKlD,KAAKsD,gBAEnBgB,CACX,CASE,gBAAAG,CAAiB9B,GAUf,OARIA,EAAI+B,kBACN/B,EAAIgC,oBAAoBC,SAASrE,IAC/BA,EAASE,YACPF,EAASE,aAAekC,EAAI+B,iBAAiBnE,EAASN,SAAW,EAAE,IAKrE0C,EAAIgC,oBAAoBE,MAAMtE,GAAaA,EAASE,cAC/CkC,EAAIgC,oBAEN,EACX,CASE,cAAAG,CAAenC,GAEb,MAAMoC,EAAOpC,EAAIgC,oBACdK,KAAKnD,GAAQK,EAAqBL,KAClCE,KAAK,KACR,OACEY,EAAI3B,OACH2B,EAAIsC,SAAS,GAAK,IAAMtC,EAAIsC,SAAS,GAAK,KAC1CtC,EAAIkB,QAAQ3C,OAAS,aAAe,KACpC6D,EAAO,IAAMA,EAAO,GAE3B,CASE,UAAAG,CAAW1B,GACT,OAAOA,EAAO2B,KAClB,CASE,YAAAC,CAAa7E,GACX,OAAOA,EAASN,MACpB,CAUE,2BAAAoF,CAA4B1C,EAAK2C,GAC/B,OAAOA,EAAO5C,gBAAgBC,GAAK4C,QAAO,CAACC,EAAKC,IACvCC,KAAKF,IAAIA,EAAKF,EAAOR,eAAeW,GAASvE,SACnD,EACP,CAUE,uBAAAyE,CAAwBhD,EAAK2C,GAC3B,OAAOA,EAAO1B,eAAejB,GAAK4C,QAAO,CAACC,EAAKhC,IACtCkC,KAAKF,IAAIA,EAAKF,EAAOJ,WAAW1B,GAAQtC,SAC9C,EACP,CAUE,6BAAA0E,CAA8BjD,EAAK2C,GACjC,OAAOA,EAAOjB,qBAAqB1B,GAAK4C,QAAO,CAACC,EAAKhC,IAC5CkC,KAAKF,IAAIA,EAAKF,EAAOJ,WAAW1B,GAAQtC,SAC9C,EACP,CAUE,yBAAA2E,CAA0BlD,EAAK2C,GAC7B,OAAOA,EAAOb,iBAAiB9B,GAAK4C,QAAO,CAACC,EAAKjF,IACxCmF,KAAKF,IAAIA,EAAKF,EAAOF,aAAa7E,GAAUW,SAClD,EACP,CASE,YAAA4E,CAAanD,GAEX,IAAIoD,EAAUpD,EAAI3B,MACd2B,EAAIsC,SAAS,KACfc,EAAUA,EAAU,IAAMpD,EAAIsC,SAAS,IAEzC,IAAIe,EAAmB,GACvB,IACE,IAAIzB,EAAc5B,EAAI6B,OACtBD,EACAA,EAAcA,EAAYC,OAE1BwB,EAAmBzB,EAAYtE,OAAS,IAAM+F,EAEhD,OAAOA,EAAmBD,EAAU,IAAMpD,EAAIsD,OAClD,CASE,kBAAAC,CAAmBvD,GAEjB,OAAOA,EAAIlC,aACf,CAUE,qBAAA0F,CAAsBxD,GAEpB,OAAOA,EAAIyD,WAAazD,EAAIlC,aAChC,CASE,iBAAA4F,CAAkB7C,GAChB,MAAM8C,EAAY,GAQlB,GANI9C,EAAO1C,YACTwF,EAAUrD,KAER,YAAYO,EAAO1C,WAAWkE,KAAKuB,GAAWC,KAAKC,UAAUF,KAASxE,KAAK,cAGnD5B,IAAxBqD,EAAO5C,aAA4B,EAInC4C,EAAOzC,UACPyC,EAAOkD,UACNlD,EAAOmD,aAA8C,kBAAxBnD,EAAO5C,eAErC0F,EAAUrD,KACR,YAAYO,EAAO3C,yBAA2B2F,KAAKC,UAAUjD,EAAO5C,gBAG9E,CAQI,YANyBT,IAArBqD,EAAOoD,WAA2BpD,EAAOkD,UAC3CJ,EAAUrD,KAAK,WAAWuD,KAAKC,UAAUjD,EAAOoD,mBAE5BzG,IAAlBqD,EAAOqD,QACTP,EAAUrD,KAAK,QAAQO,EAAOqD,UAE5BP,EAAUpF,OAAS,EACd,GAAGsC,EAAO/C,gBAAgB6F,EAAUvE,KAAK,SAG3CyB,EAAO/C,WAClB,CASE,mBAAAqG,CAAoBvG,GAClB,MAAM+F,EAAY,GAYlB,GAXI/F,EAASO,YACXwF,EAAUrD,KAER,YAAY1C,EAASO,WAAWkE,KAAKuB,GAAWC,KAAKC,UAAUF,KAASxE,KAAK,cAGnD5B,IAA1BI,EAASK,cACX0F,EAAUrD,KACR,YAAY1C,EAASM,yBAA2B2F,KAAKC,UAAUlG,EAASK,iBAGxE0F,EAAUpF,OAAS,EAAG,CACxB,MAAM6F,EAAkB,IAAIT,EAAUvE,KAAK,SAC3C,OAAIxB,EAASE,YACJ,GAAGF,EAASE,eAAesG,IAE7BA,CACb,CACI,OAAOxG,EAASE,WACpB,CAUE,UAAAuG,CAAWrE,EAAK2C,GACd,MAAM2B,EAAY3B,EAAO4B,SAASvE,EAAK2C,GACjChD,EAAYgD,EAAOhD,WAAa,GAGtC,SAAS6E,EAAWC,EAAM3G,GACxB,GAAIA,EAAa,CACf,MAAM4G,EAAW,GAAGD,EAAKE,OAAOL,EAHT,KAG2CxG,IAClE,OAAO6E,EAAOiC,KACZF,EACA/E,EAPkB,EAQlB2E,EAPqB,EAS/B,CACM,OAAOG,CACb,CACI,SAASI,EAAWC,GAClB,OAAOA,EAAU1F,KAAK,MAAM2B,QAAQ,MAAO,IAAIgE,OAdzB,GAe5B,CAGI,IAAIC,EAAS,CAAC,UAAUrC,EAAOQ,aAAanD,KAAQ,IAGpD,MAAMuD,EAAqBZ,EAAOY,mBAAmBvD,GACjDuD,EAAmBhF,OAAS,IAC9ByG,EAASA,EAAOnG,OAAO,CACrB8D,EAAOiC,KAAKrB,EAAoB5D,EAAW,GAC3C,MAKJ,MAAMsF,EAAetC,EAAOb,iBAAiB9B,GAAKqC,KAAKzE,GAC9C4G,EACL7B,EAAOF,aAAa7E,GACpB+E,EAAOwB,oBAAoBvG,MAG3BqH,EAAa1G,OAAS,IACxByG,EAASA,EAAOnG,OAAO,CAAC,aAAcgG,EAAWI,GAAe,MAIlE,MAAMC,EAAavC,EAAO1B,eAAejB,GAAKqC,KAAKxB,GAC1C2D,EACL7B,EAAOJ,WAAW1B,GAClB8B,EAAOe,kBAAkB7C,MAO7B,GAJIqE,EAAW3G,OAAS,IACtByG,EAASA,EAAOnG,OAAO,CAAC,WAAYgG,EAAWK,GAAa,MAG1D7H,KAAKyC,kBAAmB,CAC1B,MAAMqF,EAAmBxC,EACtBjB,qBAAqB1B,GACrBqC,KAAKxB,GACG2D,EACL7B,EAAOJ,WAAW1B,GAClB8B,EAAOe,kBAAkB7C,MAG3BsE,EAAiB5G,OAAS,IAC5ByG,EAASA,EAAOnG,OAAO,CACrB,kBACAgG,EAAWM,GACX,KAGV,CAGI,MAAMC,EAAczC,EAAO5C,gBAAgBC,GAAKqC,KAAKrC,GAC5CwE,EACL7B,EAAOR,eAAenC,GACtB2C,EAAOa,sBAAsBxD,MAOjC,OAJIoF,EAAY7G,OAAS,IACvByG,EAASA,EAAOnG,OAAO,CAAC,YAAagG,EAAWO,GAAc,MAGzDJ,EAAO5F,KAAK,KACvB,CAUE,QAAAmF,CAASvE,EAAK2C,GACZ,OAAOI,KAAKF,IACVF,EAAOK,wBAAwBhD,EAAK2C,GACpCA,EAAOM,8BAA8BjD,EAAK2C,GAC1CA,EAAOD,4BAA4B1C,EAAK2C,GACxCA,EAAOO,0BAA0BlD,EAAK2C,GAE5C,CAcE,IAAAiC,CAAKS,EAAKC,EAAOC,EAAQC,EAAiB,IAExC,MAGMC,EAAe,IAAIC,OAAO,oCAChC,GAAIL,EAAIM,MAAMF,GAAe,OAAOJ,EAEpC,MAAMO,EAAcN,EAAQC,EAC5B,GAAIK,EAAcJ,EAAgB,OAAOH,EAEzC,MAAMQ,EAAaR,EAAI/G,MAAM,EAAGiH,GAC1BO,EAAaT,EAAI/G,MAAMiH,GAAQxE,QAAQ,OAAQ,MAC/CgF,EAAe,IAAIhB,OAAOQ,GAE1BS,EAAS,OAGTC,EAAQ,IAAIP,OAChB,UAAUE,EAAc,OAAOI,WAAgBA,SAAcA,QAC7D,KAGF,OACEH,GAFYC,EAAWH,MAAMM,IAAU,IAIpC5D,KAAI,CAAC6D,EAAMC,IACG,OAATD,EAAsB,IAClBC,EAAI,EAAIJ,EAAe,IAAMG,EAAKE,YAE3ChH,KAAK,KAEd,+CCpgBA,MAAM1B,qBAAEA,GAAyBC,WAwUjCkD,EAAAwF,OAtUA,MAQE,WAAAtJ,CAAYyF,EAAO1E,GACjBT,KAAKmF,MAAQA,EACbnF,KAAKS,YAAcA,GAAe,GAElCT,KAAKe,SAAWoE,EAAMrD,SAAS,KAC/B9B,KAAK0G,SAAWvB,EAAMrD,SAAS,KAE/B9B,KAAKU,SAAW,iBAAiBuI,KAAK9D,GACtCnF,KAAKkJ,WAAY,EACjB,MAAMC,EAoSV,SAA0BhE,GACxB,IAAIiE,EACAC,EAGJ,MAAMC,EAAYnE,EAAMoE,MAAM,UAC1BD,EAAUpI,OAAS,IAAM,QAAQ+H,KAAKK,EAAU,MAClDF,EAAYE,EAAUE,SACxBH,EAAWC,EAAUE,SAEhBJ,GAAa,UAAUH,KAAKI,KAC/BD,EAAYC,EACZA,OAAWlJ,GAEb,MAAO,CAAEiJ,YAAWC,WACtB,CAnTwBI,CAAiBtE,GACrCnF,KAAKyD,MAAQ0F,EAAYC,UACzBpJ,KAAK2D,KAAOwF,EAAYE,SACxBrJ,KAAK0J,QAAS,EACV1J,KAAK2D,OACP3D,KAAK0J,OAAS1J,KAAK2D,KAAKgG,WAAW,UAErC3J,KAAKY,kBAAeT,EACpBH,KAAKa,6BAA0BV,EAC/BH,KAAK4G,eAAYzG,EACjBH,KAAK6G,YAAS1G,EACdH,KAAKW,cAAWR,EAChBH,KAAK8D,QAAS,EACd9D,KAAKc,gBAAaX,EAClBH,KAAK4J,cAAgB,GACrB5J,KAAK6J,aAAU1J,CACnB,CAUE,QAAQiB,EAAOX,GAGb,OAFAT,KAAKY,aAAeQ,EACpBpB,KAAKa,wBAA0BJ,EACxBT,IACX,CAcE,MAAA8J,CAAOjI,GAEL,OADA7B,KAAK4G,UAAY/E,EACV7B,IACX,CAcE,SAAA+J,CAAUC,GAER,OADAhK,KAAK4J,cAAgB5J,KAAK4J,cAAcpI,OAAOwI,GACxChK,IACX,CAeE,OAAAiK,CAAQC,GACN,IAAIC,EAAaD,EAMjB,MALmC,iBAAxBA,IAETC,EAAa,CAAED,CAACA,IAAsB,IAExClK,KAAK6J,QAAUO,OAAOC,OAAOrK,KAAK6J,SAAW,CAAE,EAAEM,GAC1CnK,IACX,CAYE,GAAAsK,CAAIrK,GAEF,OADAD,KAAK6G,OAAS5G,EACPD,IACX,CASE,SAAAyB,CAAUC,GAER,OADA1B,KAAKW,SAAWe,EACT1B,IACX,CASE,mBAAAuK,CAAoBrB,GAAY,GAE9B,OADAlJ,KAAKkJ,YAAcA,EACZlJ,IACX,CASE,QAAAwK,CAASC,GAAO,GAEd,OADAzK,KAAK8D,SAAW2G,EACTzK,IACX,CAME,YAAAmB,CAAaC,EAAOC,GAClB,OAAIA,IAAarB,KAAKY,cAAiBU,MAAMC,QAAQF,GAI9CA,EAASG,OAAOJ,GAHd,CAACA,EAId,CASE,OAAAO,CAAQC,GAaN,OAZA5B,KAAKc,WAAac,EAAOX,QACzBjB,KAAKW,SAAW,CAACkB,EAAKR,KACpB,IAAKrB,KAAKc,WAAWgB,SAASD,GAC5B,MAAM,IAAIxB,EACR,uBAAuBL,KAAKc,WAAWiB,KAAK,UAGhD,OAAI/B,KAAKU,SACAV,KAAKmB,aAAaU,EAAKR,GAEzBQ,CAAG,EAEL7B,IACX,CAQE,IAAAC,GACE,OAAID,KAAK2D,KACA3D,KAAK2D,KAAKD,QAAQ,MAAO,IAE3B1D,KAAKyD,MAAMC,QAAQ,KAAM,GACpC,CASE,aAAAgH,GACE,OAAiB1K,KAAKC,OAAOyD,QAAQ,OAAQ,IAqFpC6F,MAAM,KAAKhE,QAAO,CAACyC,EAAK2C,IAC1B3C,EAAM2C,EAAK,GAAGC,cAAgBD,EAAK1J,MAAM,IArFpD,CAUE,EAAA4J,CAAGhJ,GACD,OAAO7B,KAAKyD,QAAU5B,GAAO7B,KAAK2D,OAAS9B,CAC/C,CAWE,SAAA8E,GACE,OAAQ3G,KAAKe,WAAaf,KAAK0G,WAAa1G,KAAK0J,MACrD,GAwFAlG,EAAAsH,YA9EA,MAIE,WAAApL,CAAYmE,GACV7D,KAAK+K,gBAAkB,IAAIC,IAC3BhL,KAAKiL,gBAAkB,IAAID,IAC3BhL,KAAKkL,YAAc,IAAIC,IACvBtH,EAAQe,SAASpB,IACXA,EAAOkG,OACT1J,KAAKiL,gBAAgBG,IAAI5H,EAAOkH,gBAAiBlH,GAEjDxD,KAAK+K,gBAAgBK,IAAI5H,EAAOkH,gBAAiBlH,EACzD,IAEIxD,KAAKiL,gBAAgBrG,SAAQ,CAACxD,EAAOiK,KAC/BrL,KAAK+K,gBAAgBO,IAAID,IAC3BrL,KAAKkL,YAAYK,IAAIF,EAC7B,GAEA,CASE,eAAAG,CAAgBpK,EAAOoC,GACrB,MAAMiI,EAAYjI,EAAOkH,gBACzB,IAAK1K,KAAKkL,YAAYI,IAAIG,GAAY,OAAO,EAG7C,MAAM3B,EAAS9J,KAAKiL,gBAAgBS,IAAID,GAAW7E,UAC7C+E,OAA2BxL,IAAX2J,GAAuBA,EAC7C,OAAOtG,EAAOkG,UAAYiC,IAAkBvK,EAChD,0DC5LAwK,EAAAC,eA7CA,SAAwBlB,EAAMmB,GAC5B,IAAKA,GAAoC,IAAtBA,EAAW5K,OAAc,MAAO,GAEnD4K,EAAaxK,MAAMyK,KAAK,IAAIZ,IAAIW,IAEhC,MAAME,EAAmBrB,EAAKhB,WAAW,MACrCqC,IACFrB,EAAOA,EAAK1J,MAAM,GAClB6K,EAAaA,EAAW9G,KAAKiH,GAAcA,EAAUhL,MAAM,MAG7D,IAAIiL,EAAU,GACVC,EAnEc,EA2FlB,OAtBAL,EAAWlH,SAASqH,IAClB,GAAIA,EAAU/K,QAAU,EAAG,OAE3B,MAAMkL,EAtEV,SAAsBjJ,EAAGC,GAMvB,GAAIsC,KAAK2G,IAAIlJ,EAAEjC,OAASkC,EAAElC,QARR,EAShB,OAAOwE,KAAKF,IAAIrC,EAAEjC,OAAQkC,EAAElC,QAG9B,MAAMoL,EAAI,GAGV,IAAK,IAAIxD,EAAI,EAAGA,GAAK3F,EAAEjC,OAAQ4H,IAC7BwD,EAAExD,GAAK,CAACA,GAGV,IAAK,IAAIyD,EAAI,EAAGA,GAAKnJ,EAAElC,OAAQqL,IAC7BD,EAAE,GAAGC,GAAKA,EAIZ,IAAK,IAAIA,EAAI,EAAGA,GAAKnJ,EAAElC,OAAQqL,IAC7B,IAAK,IAAIzD,EAAI,EAAGA,GAAK3F,EAAEjC,OAAQ4H,IAAK,CAClC,IAAI0D,EAAO,EAETA,EADErJ,EAAE2F,EAAI,KAAO1F,EAAEmJ,EAAI,GACd,EAEA,EAETD,EAAExD,GAAGyD,GAAK7G,KAAK+G,IACbH,EAAExD,EAAI,GAAGyD,GAAK,EACdD,EAAExD,GAAGyD,EAAI,GAAK,EACdD,EAAExD,EAAI,GAAGyD,EAAI,GAAKC,GAGhB1D,EAAI,GAAKyD,EAAI,GAAKpJ,EAAE2F,EAAI,KAAO1F,EAAEmJ,EAAI,IAAMpJ,EAAE2F,EAAI,KAAO1F,EAAEmJ,EAAI,KAChED,EAAExD,GAAGyD,GAAK7G,KAAK+G,IAAIH,EAAExD,GAAGyD,GAAID,EAAExD,EAAI,GAAGyD,EAAI,GAAK,GAEtD,CAGE,OAAOD,EAAEnJ,EAAEjC,QAAQkC,EAAElC,OACvB,CA2BqBwL,CAAa/B,EAAMsB,GAC9B/K,EAASwE,KAAKF,IAAImF,EAAKzJ,OAAQ+K,EAAU/K,SAC3BA,EAASkL,GAAYlL,EANrB,KAQdkL,EAAWD,GAEbA,EAAeC,EACfF,EAAU,CAACD,IACFG,IAAaD,GACtBD,EAAQjJ,KAAKgJ,GAErB,IAGEC,EAAQhJ,MAAK,CAACC,EAAGC,IAAMD,EAAEE,cAAcD,KACnC4I,IACFE,EAAUA,EAAQlH,KAAKiH,GAAc,KAAKA,OAGxCC,EAAQhL,OAAS,EACZ,0BAA0BgL,EAAQnK,KAAK,UAEzB,IAAnBmK,EAAQhL,OACH,mBAAmBgL,EAAQ,OAE7B,EACT,mCClGA,MAAM1L,SAAEA,GAAaF,KACfqM,QAAEA,gCCDR,MAAMC,EAAetM,EAAuBsM,aACtCC,EAAeC,EACfC,EAAOC,EACPC,EAAKC,EACLC,EAAUC,GAEV5M,SAAEA,EAAQ0B,qBAAEA,GAAyBmL,KACrC7N,eAAEA,GAAmB8N,KACrBjL,KAAEA,GAASkL,KACXvE,OAAEA,EAAM8B,YAAEA,GAAgB0C,KAC1B3B,eAAEA,GAAmB4B,IAE3B,MAAMd,UAAgBC,EAOpB,WAAAlN,CAAYO,GACVH,QAEAE,KAAK4C,SAAW,GAEhB5C,KAAK6D,QAAU,GACf7D,KAAKwE,OAAS,KACdxE,KAAK0N,qBAAsB,EAC3B1N,KAAK2N,uBAAwB,EAE7B3N,KAAK2E,oBAAsB,GAC3B3E,KAAK4N,MAAQ5N,KAAK2E,oBAElB3E,KAAK+E,KAAO,GACZ/E,KAAK6N,QAAU,GACf7N,KAAK8N,cAAgB,GACrB9N,KAAK+N,YAAc,KACnB/N,KAAKgB,MAAQf,GAAQ,GACrBD,KAAKgO,cAAgB,CAAE,EACvBhO,KAAKiO,oBAAsB,GAC3BjO,KAAKkO,2BAA4B,EACjClO,KAAKmO,eAAiB,KACtBnO,KAAKoO,oBAAqB,EAC1BpO,KAAKqO,gBAAkB,KACvBrO,KAAKsO,eAAiB,KACtBtO,KAAKuO,oBAAsB,KAC3BvO,KAAKwO,cAAgB,KACrBxO,KAAKiF,SAAW,GAChBjF,KAAKyO,8BAA+B,EACpCzO,KAAK0O,aAAe,GACpB1O,KAAK2O,SAAW,GAChB3O,KAAK0E,sBAAmBvE,EACxBH,KAAK4O,0BAA2B,EAChC5O,KAAK6O,qBAAsB,EAC3B7O,KAAK8O,gBAAkB,GAEvB9O,KAAK+O,qBAAsB,EAC3B/O,KAAKgP,2BAA4B,EAGjChP,KAAKiP,qBAAuB,CAC1BC,SAAWlH,GAAQmF,EAAQgC,OAAOC,MAAMpH,GACxCqH,SAAWrH,GAAQmF,EAAQmC,OAAOF,MAAMpH,GACxCuH,gBAAiB,IACfpC,EAAQgC,OAAOK,MAAQrC,EAAQgC,OAAOM,aAAUtP,EAClDuP,gBAAiB,IACfvC,EAAQmC,OAAOE,MAAQrC,EAAQmC,OAAOG,aAAUtP,EAClDwP,YAAa,CAAC3H,EAAKoH,IAAUA,EAAMpH,IAGrChI,KAAK8C,SAAU,EAEf9C,KAAK4P,iBAAczP,EACnBH,KAAK6P,6BAA0B1P,EAE/BH,KAAK8P,kBAAe3P,EACpBH,KAAK+P,mBAAqB,CAAE,CAChC,CAUE,qBAAAC,CAAsBC,GAcpB,OAbAjQ,KAAKiP,qBAAuBgB,EAAchB,qBAC1CjP,KAAK4P,YAAcK,EAAcL,YACjC5P,KAAK8P,aAAeG,EAAcH,aAClC9P,KAAK+P,mBAAqBE,EAAcF,mBACxC/P,KAAKwO,cAAgByB,EAAczB,cACnCxO,KAAKkO,0BAA4B+B,EAAc/B,0BAC/ClO,KAAKyO,6BACHwB,EAAcxB,6BAChBzO,KAAK2N,sBAAwBsC,EAActC,sBAC3C3N,KAAK4O,yBAA2BqB,EAAcrB,yBAC9C5O,KAAK+O,oBAAsBkB,EAAclB,oBACzC/O,KAAKgP,0BAA4BiB,EAAcjB,0BAExChP,IACX,CAOE,uBAAAkQ,GACE,MAAMC,EAAS,GAEf,IAAK,IAAI1K,EAAUzF,KAAMyF,EAASA,EAAUA,EAAQjB,OAClD2L,EAAOlN,KAAKwC,GAEd,OAAO0K,CACX,CA2BE,OAAA1K,CAAQ2K,EAAaC,EAAsBC,GACzC,IAAIC,EAAOF,EACPG,EAAOF,EACS,iBAATC,GAA8B,OAATA,IAC9BC,EAAOD,EACPA,EAAO,MAETC,EAAOA,GAAQ,CAAE,EACjB,MAAM,CAAGvQ,EAAM8E,GAAQqL,EAAY9H,MAAM,iBAEnC3F,EAAM3C,KAAKyQ,cAAcxQ,GAa/B,OAZIsQ,IACF5N,EAAIlC,YAAY8P,GAChB5N,EAAIyL,oBAAqB,GAEvBoC,EAAKE,YAAW1Q,KAAKuO,oBAAsB5L,EAAI3B,OACnD2B,EAAIG,WAAa0N,EAAKG,SAAUH,EAAK1M,QACrCnB,EAAI0L,gBAAkBmC,EAAKI,gBAAkB,KACzC7L,GAAMpC,EAAIkO,UAAU9L,GACxB/E,KAAK8Q,iBAAiBnO,GACtBA,EAAI6B,OAASxE,KACb2C,EAAIqN,sBAAsBhQ,MAEtBuQ,EAAavQ,KACV2C,CACX,CAYE,aAAA8N,CAAcxQ,GACZ,OAAO,IAAI0M,EAAQ1M,EACvB,CASE,UAAA8Q,GACE,OAAO3G,OAAOC,OAAO,IAAIhI,EAAQrC,KAAKgR,gBAC1C,CAUE,aAAAA,CAAcC,GACZ,YAAsB9Q,IAAlB8Q,EAAoCjR,KAAK+P,oBAE7C/P,KAAK+P,mBAAqBkB,EACnBjR,KACX,CAqBE,eAAAkR,CAAgBD,GACd,YAAsB9Q,IAAlB8Q,EAAoCjR,KAAKiP,sBAE7C7E,OAAOC,OAAOrK,KAAKiP,qBAAsBgC,GAClCjR,KACX,CAQE,kBAAAmR,CAAmBC,GAAc,GAG/B,MAF2B,iBAAhBA,IAA0BA,IAAgBA,GACrDpR,KAAK+O,oBAAsBqC,EACpBpR,IACX,CAQE,wBAAAqR,CAAyBC,GAAoB,GAE3C,OADAtR,KAAKgP,4BAA8BsC,EAC5BtR,IACX,CAYE,UAAAuR,CAAW5O,EAAK6N,GACd,IAAK7N,EAAI3B,MACP,MAAM,IAAIvB,MAAM,gHAYlB,OARA+Q,EAAOA,GAAQ,CAAE,GACRE,YAAW1Q,KAAKuO,oBAAsB5L,EAAI3B,QAC/CwP,EAAKG,QAAUH,EAAK1M,UAAQnB,EAAIG,SAAU,GAE9C9C,KAAK8Q,iBAAiBnO,GACtBA,EAAI6B,OAASxE,KACb2C,EAAI6O,6BAEGxR,IACX,CAaE,cAAAyR,CAAexR,EAAMQ,GACnB,OAAO,IAAID,EAASP,EAAMQ,EAC9B,CAkBE,QAAAF,CAASN,EAAMQ,EAAaiB,EAAId,GAC9B,MAAML,EAAWP,KAAKyR,eAAexR,EAAMQ,GAO3C,MANkB,mBAAPiB,EACTnB,EAASmR,QAAQ9Q,GAAca,UAAUC,GAEzCnB,EAASmR,QAAQhQ,GAEnB1B,KAAK2R,YAAYpR,GACVP,IACX,CAcE,SAAA6Q,CAAU7G,GAOR,OANAA,EACG4H,OACArI,MAAM,MACN3E,SAASiN,IACR7R,KAAKO,SAASsR,EAAO,IAElB7R,IACX,CAQE,WAAA2R,CAAYpR,GACV,MAAMuR,EAAmB9R,KAAK2E,oBAAoB1D,OAAO,GAAG,GAC5D,GAAI6Q,GAAoBA,EAAiBpR,SACvC,MAAM,IAAIjB,MACR,2CAA2CqS,EAAiB7R,WAGhE,GACEM,EAASQ,eACiBZ,IAA1BI,EAASK,mBACaT,IAAtBI,EAASI,SAET,MAAM,IAAIlB,MACR,2DAA2Dc,EAASN,WAIxE,OADAD,KAAK2E,oBAAoB1B,KAAK1C,GACvBP,IACX,CAgBE,WAAA+C,CAAYgP,EAAqBtR,GAC/B,GAAmC,kBAAxBsR,EAET,OADA/R,KAAK6P,wBAA0BkC,EACxB/R,KAGT+R,EAAsBA,GAAuB,iBAC7C,MAAM,CAAGC,EAAUC,GAAYF,EAAoBzJ,MAAM,iBACnD4J,EAAkBzR,GAAe,2BAEjCsC,EAAc/C,KAAKyQ,cAAcuB,GAQvC,OAPAjP,EAAYgB,YAAW,GACnBkO,GAAUlP,EAAY8N,UAAUoB,GAChCC,GAAiBnP,EAAYtC,YAAYyR,GAE7ClS,KAAK6P,yBAA0B,EAC/B7P,KAAK8P,aAAe/M,EAEb/C,IACX,CASE,cAAAmS,CAAepP,EAAaqP,GAG1B,MAA2B,iBAAhBrP,GACT/C,KAAK+C,YAAYA,EAAaqP,GACvBpS,OAGTA,KAAK6P,yBAA0B,EAC/B7P,KAAK8P,aAAe/M,EACb/C,KACX,CAQE,eAAAgD,GAOE,OALEhD,KAAK6P,0BACJ7P,KAAK4C,SAAS1B,SACZlB,KAAKmO,iBACLnO,KAAKqS,aAAa,eAGKlS,IAAtBH,KAAK8P,cACP9P,KAAK+C,iBAAY5C,OAAWA,GAEvBH,KAAK8P,cAEP,IACX,CAUE,IAAAwC,CAAKC,EAAOC,GACV,MAAMC,EAAgB,CAAC,gBAAiB,YAAa,cACrD,IAAKA,EAAc3Q,SAASyQ,GAC1B,MAAM,IAAI9S,MAAM,gDAAgD8S,0BAClDE,EAAc1Q,KAAK,YAOnC,OALI/B,KAAK8O,gBAAgByD,GACvBvS,KAAK8O,gBAAgByD,GAAOtP,KAAKuP,GAEjCxS,KAAK8O,gBAAgByD,GAAS,CAACC,GAE1BxS,IACX,CASE,YAAA0S,CAAahR,GAYX,OAVE1B,KAAKwO,cADH9M,GAGmB,CAACiR,IACpB,GAAiB,qCAAbA,EAAI/S,KACN,MAAM+S,CAChB,GAKW3S,IACX,CAYE,KAAA4S,CAAMjT,EAAUC,EAAMC,GAChBG,KAAKwO,eACPxO,KAAKwO,cAAc,IAAIhP,EAAeG,EAAUC,EAAMC,IAGxDsN,EAAQ0F,KAAKlT,EACjB,CAiBE,MAAAmT,CAAOpR,GAeL,OADA1B,KAAKmO,eAbapJ,IAEhB,MAAMgO,EAAoB/S,KAAK2E,oBAAoBzD,OAC7C8R,EAAajO,EAAK9D,MAAM,EAAG8R,GAQjC,OAPI/S,KAAKkO,0BACP8E,EAAWD,GAAqB/S,KAEhCgT,EAAWD,GAAqB/S,KAAKwQ,OAEvCwC,EAAW/P,KAAKjD,MAET0B,EAAGuR,MAAMjT,KAAMgT,EAAW,EAG5BhT,IACX,CAaE,YAAAoE,CAAae,EAAO1E,GAClB,OAAO,IAAIuI,EAAO7D,EAAO1E,EAC7B,CAYE,aAAAyS,CAAcC,EAAQ/R,EAAOC,EAAU+R,GACrC,IACE,OAAOD,EAAOxS,SAASS,EAAOC,EAC/B,CAAC,MAAOsR,GACP,GAAiB,8BAAbA,EAAI/S,KAAsC,CAC5C,MAAMC,EAAU,GAAGuT,KAA0BT,EAAI9S,UACjDG,KAAKI,MAAMP,EAAS,CAAEF,SAAUgT,EAAIhT,SAAUC,KAAM+S,EAAI/S,MAChE,CACM,MAAM+S,CACZ,CACA,CAUE,eAAAU,CAAgB7P,GACd,MAAM8P,EACH9P,EAAOC,OAASzD,KAAKkE,YAAYV,EAAOC,QACxCD,EAAOG,MAAQ3D,KAAKkE,YAAYV,EAAOG,MAC1C,GAAI2P,EAAgB,CAClB,MAAMC,EACJ/P,EAAOG,MAAQ3D,KAAKkE,YAAYV,EAAOG,MACnCH,EAAOG,KACPH,EAAOC,MACb,MAAM,IAAIhE,MAAM,sBAAsB+D,EAAO2B,SAASnF,KAAKgB,OAAS,gBAAgBhB,KAAKgB,qCAAqCuS,kCACvGD,EAAenO,SAC5C,CAEInF,KAAK6D,QAAQZ,KAAKO,EACtB,CAUE,gBAAAsN,CAAiBrL,GACf,MAAM+N,EAAW7Q,GACR,CAACA,EAAI1C,QAAQuB,OAAOmB,EAAI8Q,WAG3BC,EAAcF,EAAQ/N,GAASZ,MAAM5E,GACzCD,KAAKqS,aAAapS,KAEpB,GAAIyT,EAAa,CACf,MAAMC,EAAcH,EAAQxT,KAAKqS,aAAaqB,IAAc3R,KAAK,KAC3D6R,EAASJ,EAAQ/N,GAAS1D,KAAK,KACrC,MAAM,IAAItC,MACR,uBAAuBmU,+BAAoCD,KAEnE,CAEI3T,KAAK4C,SAASK,KAAKwC,EACvB,CAQE,SAAAoO,CAAUrQ,GACRxD,KAAKqT,gBAAgB7P,GAErB,MAAMsQ,EAAQtQ,EAAOvD,OACfA,EAAOuD,EAAOkH,gBAGpB,GAAIlH,EAAOkG,OAAQ,CAEjB,MAAMqK,EAAmBvQ,EAAOG,KAAKD,QAAQ,SAAU,MAClD1D,KAAKkE,YAAY6P,IACpB/T,KAAKgU,yBACH/T,OACwBE,IAAxBqD,EAAO5C,cAAoC4C,EAAO5C,aAClD,UAGV,WAAuCT,IAAxBqD,EAAO5C,cAChBZ,KAAKgU,yBAAyB/T,EAAMuD,EAAO5C,aAAc,WAI3D,MAAMqT,EAAoB,CAACC,EAAKC,EAAqBC,KAGxC,MAAPF,QAAoC/T,IAArBqD,EAAOoD,YACxBsN,EAAM1Q,EAAOoD,WAIf,MAAMyN,EAAWrU,KAAKsU,eAAerU,GACzB,OAARiU,GAAgB1Q,EAAO7C,SACzBuT,EAAMlU,KAAKkT,cAAc1P,EAAQ0Q,EAAKG,EAAUF,GAC/B,OAARD,GAAgB1Q,EAAO9C,WAChCwT,EAAM1Q,EAAOrC,aAAa+S,EAAKG,IAItB,MAAPH,IAEAA,GADE1Q,EAAOkG,YAEAlG,EAAOmD,cAAenD,EAAOkD,WAGhC,KAGV1G,KAAKgU,yBAAyB/T,EAAMiU,EAAKE,EAAY,EAevD,OAZApU,KAAKuU,GAAG,UAAYT,GAAQI,IAC1B,MAAMC,EAAsB,kBAAkB3Q,EAAO2B,oBAAoB+O,iBACzED,EAAkBC,EAAKC,EAAqB,MAAM,IAGhD3Q,EAAOqD,QACT7G,KAAKuU,GAAG,aAAeT,GAAQI,IAC7B,MAAMC,EAAsB,kBAAkB3Q,EAAO2B,iBAAiB+O,gBAAkB1Q,EAAOqD,sBAC/FoN,EAAkBC,EAAKC,EAAqB,MAAM,IAI/CnU,IACX,CAQE,SAAAwU,CAAUC,EAAQtP,EAAO1E,EAAaiB,EAAId,GACxC,GAAqB,iBAAVuE,GAAsBA,aAAiB6D,EAChD,MAAM,IAAIvJ,MACR,mFAGJ,MAAM+D,EAASxD,KAAKoE,aAAae,EAAO1E,GAExC,GADA+C,EAAO+G,sBAAsBkK,EAAOvL,WAClB,mBAAPxH,EACT8B,EAAOkO,QAAQ9Q,GAAca,UAAUC,QAClC,GAAIA,aAAc2G,OAAQ,CAE/B,MAAMO,EAAQlH,EACdA,EAAK,CAACwS,EAAKQ,KACT,MAAMC,EAAI/L,EAAMgM,KAAKV,GACrB,OAAOS,EAAIA,EAAE,GAAKD,CAAG,EAEvBlR,EAAOkO,QAAQ9Q,GAAca,UAAUC,EAC7C,MACM8B,EAAOkO,QAAQhQ,GAGjB,OAAO1B,KAAK6T,UAAUrQ,EAC1B,CAwBE,MAAAA,CAAO2B,EAAO1E,EAAaE,EAAUC,GACnC,OAAOZ,KAAKwU,UAAU,CAAE,EAAErP,EAAO1E,EAAaE,EAAUC,EAC5D,CAeE,cAAAiU,CAAe1P,EAAO1E,EAAaE,EAAUC,GAC3C,OAAOZ,KAAKwU,UACV,CAAEtL,WAAW,GACb/D,EACA1E,EACAE,EACAC,EAEN,CAaE,2BAAAkU,CAA4BC,GAAU,GAEpC,OADA/U,KAAKyO,+BAAiCsG,EAC/B/U,IACX,CAQE,kBAAAgV,CAAmBC,GAAe,GAEhC,OADAjV,KAAK0N,sBAAwBuH,EACtBjV,IACX,CAQE,oBAAAkV,CAAqBC,GAAc,GAEjC,OADAnV,KAAK2N,wBAA0BwH,EACxBnV,IACX,CAUE,uBAAAoV,CAAwBC,GAAa,GAEnC,OADArV,KAAK4O,2BAA6ByG,EAC3BrV,IACX,CAWE,kBAAAsV,CAAmBC,GAAc,GAG/B,OAFAvV,KAAK6O,sBAAwB0G,EAC7BvV,KAAKwR,6BACExR,IACX,CAME,0BAAAwR,GACE,GACExR,KAAKwE,QACLxE,KAAK6O,sBACJ7O,KAAKwE,OAAOoK,yBAEb,MAAM,IAAInP,MACR,0CAA0CO,KAAKgB,0EAGvD,CAUE,wBAAAwU,CAAyBC,GAAoB,GAC3C,GAAIzV,KAAK6D,QAAQ3C,OACf,MAAM,IAAIzB,MAAM,0DAElB,GAAI2K,OAAOsL,KAAK1V,KAAKgO,eAAe9M,OAClC,MAAM,IAAIzB,MACR,iEAIJ,OADAO,KAAKkO,4BAA8BuH,EAC5BzV,IACX,CASE,cAAAsU,CAAejJ,GACb,OAAIrL,KAAKkO,0BACAlO,KAAKqL,GAEPrL,KAAKgO,cAAc3C,EAC9B,CAUE,cAAAsK,CAAetK,EAAKjK,GAClB,OAAOpB,KAAKgU,yBAAyB3I,EAAKjK,OAAOjB,EACrD,CAWE,wBAAA6T,CAAyB3I,EAAKjK,EAAOwU,GAOnC,OANI5V,KAAKkO,0BACPlO,KAAKqL,GAAOjK,EAEZpB,KAAKgO,cAAc3C,GAAOjK,EAE5BpB,KAAKiO,oBAAoB5C,GAAOuK,EACzB5V,IACX,CAUE,oBAAA6V,CAAqBxK,GACnB,OAAOrL,KAAKiO,oBAAoB5C,EACpC,CAUE,+BAAAyK,CAAgCzK,GAE9B,IAAIuK,EAMJ,OALA5V,KAAKkQ,0BAA0BtL,SAASjC,SACAxC,IAAlCwC,EAAIkT,qBAAqBxK,KAC3BuK,EAASjT,EAAIkT,qBAAqBxK,GAC1C,IAEWuK,CACX,CASE,gBAAAG,CAAiBC,EAAMC,GACrB,QAAa9V,IAAT6V,IAAuB1U,MAAMC,QAAQyU,GACvC,MAAM,IAAIvW,MAAM,uDAKlB,GAHAwW,EAAeA,GAAgB,CAAE,OAGpB9V,IAAT6V,QAA4C7V,IAAtB8V,EAAalK,KAAoB,CACrDoB,EAAQ+I,UAAUC,WACpBF,EAAalK,KAAO,YAGtB,MAAMqK,EAAWjJ,EAAQiJ,UAAY,IAEnCA,EAAStU,SAAS,OAClBsU,EAAStU,SAAS,WAClBsU,EAAStU,SAAS,OAClBsU,EAAStU,SAAS,cAElBmU,EAAalK,KAAO,OAE5B,CASI,IAAIsK,EACJ,YAPalW,IAAT6V,IACFA,EAAO7I,EAAQ6I,MAEjBhW,KAAK6N,QAAUmI,EAAK/U,QAIZgV,EAAalK,MACnB,UAAK5L,EACL,IAAK,OACHH,KAAK+N,YAAciI,EAAK,GACxBK,EAAWL,EAAK/U,MAAM,GACtB,MACF,IAAK,WAECkM,EAAQmJ,YACVtW,KAAK+N,YAAciI,EAAK,GACxBK,EAAWL,EAAK/U,MAAM,IAEtBoV,EAAWL,EAAK/U,MAAM,GAExB,MACF,IAAK,OACHoV,EAAWL,EAAK/U,MAAM,GACtB,MACF,IAAK,OACHoV,EAAWL,EAAK/U,MAAM,GACtB,MACF,QACE,MAAM,IAAIxB,MACR,oCAAoCwW,EAAalK,WASvD,OAJK/L,KAAKgB,OAAShB,KAAK+N,aACtB/N,KAAKuW,iBAAiBvW,KAAK+N,aAC7B/N,KAAKgB,MAAQhB,KAAKgB,OAAS,UAEpBqV,CACX,CAyBE,KAAAG,CAAMR,EAAMC,GACV,MAAMI,EAAWrW,KAAK+V,iBAAiBC,EAAMC,GAG7C,OAFAjW,KAAKyW,cAAc,GAAIJ,GAEhBrW,IACX,CAuBE,gBAAM0W,CAAWV,EAAMC,GACrB,MAAMI,EAAWrW,KAAK+V,iBAAiBC,EAAMC,GAG7C,aAFMjW,KAAKyW,cAAc,GAAIJ,GAEtBrW,IACX,CAQE,kBAAA2W,CAAmBC,EAAY7R,GAC7BA,EAAOA,EAAK9D,QACZ,IAAI4V,GAAiB,EACrB,MAAMC,EAAY,CAAC,MAAO,MAAO,OAAQ,OAAQ,QAEjD,SAASC,EAASC,EAASC,GAEzB,MAAMC,EAAWnK,EAAKoK,QAAQH,EAASC,GACvC,GAAIhK,EAAGmK,WAAWF,GAAW,OAAOA,EAGpC,GAAIJ,EAAUhV,SAASiL,EAAKsK,QAAQJ,IAAY,OAGhD,MAAMK,EAAWR,EAAUjS,MAAM0S,GAC/BtK,EAAGmK,WAAW,GAAGF,IAAWK,OAE9B,OAAID,EAAiB,GAAGJ,IAAWI,SAAnC,CAGN,CAGItX,KAAKwX,mCACLxX,KAAKyX,8BAGL,IAsCIC,EAtCA9G,EACFgG,EAAWvI,iBAAmB,GAAGrO,KAAKgB,SAAS4V,EAAW5V,QACxD2W,EAAgB3X,KAAKsO,gBAAkB,GAC3C,GAAItO,KAAK+N,YAAa,CACpB,IAAI6J,EACJ,IACEA,EAAqB3K,EAAG4K,aAAa7X,KAAK+N,YAC3C,CAAC,MAAO4E,GACPiF,EAAqB5X,KAAK+N,WAClC,CACM4J,EAAgB5K,EAAKoK,QACnBpK,EAAK+K,QAAQF,GACbD,EAER,CAGI,GAAIA,EAAe,CACjB,IAAII,EAAYhB,EAASY,EAAe/G,GAGxC,IAAKmH,IAAcnB,EAAWvI,iBAAmBrO,KAAK+N,YAAa,CACjE,MAAMiK,EAAajL,EAAKkL,SACtBjY,KAAK+N,YACLhB,EAAKsK,QAAQrX,KAAK+N,cAEhBiK,IAAehY,KAAKgB,QACtB+W,EAAYhB,EACVY,EACA,GAAGK,KAAcpB,EAAW5V,SAGxC,CACM4P,EAAiBmH,GAAanH,CACpC,CAEIiG,EAAiBC,EAAUhV,SAASiL,EAAKsK,QAAQzG,IAGxB,UAArBzD,EAAQ+K,SACNrB,GACF9R,EAAKoT,QAAQvH,GAEb7L,EAAOqT,EAA2BjL,EAAQiJ,UAAU5U,OAAOuD,GAE3D2S,EAAO7K,EAAawL,MAAMlL,EAAQ6I,KAAK,GAAIjR,EAAM,CAAEuT,MAAO,aAE1DZ,EAAO7K,EAAawL,MAAMzH,EAAgB7L,EAAM,CAAEuT,MAAO,aAG3DvT,EAAKoT,QAAQvH,GAEb7L,EAAOqT,EAA2BjL,EAAQiJ,UAAU5U,OAAOuD,GAC3D2S,EAAO7K,EAAawL,MAAMlL,EAAQoL,SAAUxT,EAAM,CAAEuT,MAAO,aAGxDZ,EAAKc,QAEQ,CAAC,UAAW,UAAW,UAAW,SAAU,UACpD5T,SAAS6T,IACftL,EAAQoH,GAAGkE,GAAQ,MACG,IAAhBf,EAAKc,QAAsC,OAAlBd,EAAK/X,UAEhC+X,EAAKgB,KAAKD,EACtB,GACU,IAKN,MAAME,EAAe3Y,KAAKwO,cAC1BkJ,EAAKnD,GAAG,SAAU3U,IAChBA,EAAOA,GAAQ,EACV+Y,EAGHA,EACE,IAAInZ,EACFI,EACA,mCACA,YANJuN,EAAQ0F,KAAKjT,EASrB,IAEI8X,EAAKnD,GAAG,SAAU5B,IAEhB,GAAiB,WAAbA,EAAI/S,KAAmB,CACzB,MAAMgZ,EAAuBjB,EACzB,wDAAwDA,KACxD,kGACEkB,EAAoB,IAAIjI,6BAC7BgG,EAAW5V,0PAEf4X,IACG,MAAM,IAAInZ,MAAMoZ,EAExB,CAAa,GAAiB,WAAblG,EAAI/S,KACb,MAAM,IAAIH,MAAM,IAAImR,qBAEtB,GAAK+H,EAEE,CACL,MAAMG,EAAe,IAAItZ,EACvB,EACA,mCACA,WAEFsZ,EAAa5Y,YAAcyS,EAC3BgG,EAAaG,EACrB,MATQ3L,EAAQ0F,KAAK,EASrB,IAII7S,KAAK+Y,eAAiBrB,CAC1B,CAME,mBAAAsB,CAAoBC,EAAaC,EAAUC,GACzC,MAAMC,EAAapZ,KAAKqS,aAAa4G,GAGrC,IAAII,EAaJ,OAfKD,GAAYpZ,KAAKoC,KAAK,CAAEhC,OAAO,IAGpCiZ,EAAerZ,KAAKsZ,2BAClBD,EACAD,EACA,iBAEFC,EAAerZ,KAAKuZ,aAAaF,GAAc,KAC7C,IAAID,EAAWhL,mBAGb,OAAOgL,EAAW3C,cAAcyC,EAAUC,GAF1CnZ,KAAK2W,mBAAmByC,EAAYF,EAAS1X,OAAO2X,GAG5D,IAEWE,CACX,CASE,oBAAAG,CAAqBC,GACdA,GACHzZ,KAAKoC,OAEP,MAAMgX,EAAapZ,KAAKqS,aAAaoH,GAMrC,OALIL,IAAeA,EAAWhL,oBAC5BgL,EAAWhX,OAINpC,KAAKgZ,oBACVS,EACA,GACA,CAACzZ,KAAKgE,kBAAkBL,MAAQ3D,KAAKgE,kBAAkBP,OAAS,UAEtE,CAQE,uBAAAiW,GAEE1Z,KAAK2E,oBAAoBC,SAAQ,CAAC/C,EAAKiH,KACjCjH,EAAId,UAA4B,MAAhBf,KAAK+E,KAAK+D,IAC5B9I,KAAK2Z,gBAAgB9X,EAAI5B,OACjC,IAIMD,KAAK2E,oBAAoBzD,OAAS,GAClClB,KAAK2E,oBAAoB3E,KAAK2E,oBAAoBzD,OAAS,GAAGR,UAI5DV,KAAK+E,KAAK7D,OAASlB,KAAK2E,oBAAoBzD,QAC9ClB,KAAK4Z,iBAAiB5Z,KAAK+E,KAEjC,CAQE,iBAAA8U,GACE,MAAMC,EAAa,CAACvZ,EAAUa,EAAOC,KAEnC,IAAI0Y,EAAc3Y,EAClB,GAAc,OAAVA,GAAkBb,EAASI,SAAU,CACvC,MAAMwT,EAAsB,kCAAkC/S,+BAAmCb,EAASN,WAC1G8Z,EAAc/Z,KAAKkT,cACjB3S,EACAa,EACAC,EACA8S,EAEV,CACM,OAAO4F,CAAW,EAGpB/Z,KAAK0Z,0BAEL,MAAM5L,EAAgB,GACtB9N,KAAK2E,oBAAoBC,SAAQ,CAACoV,EAAaC,KAC7C,IAAI7Y,EAAQ4Y,EAAYpZ,aACpBoZ,EAAYtZ,SAEVuZ,EAAQja,KAAK+E,KAAK7D,QACpBE,EAAQpB,KAAK+E,KAAK9D,MAAMgZ,GACpBD,EAAYrZ,WACdS,EAAQA,EAAMmE,QAAO,CAAC2U,EAAWC,IACxBL,EAAWE,EAAaG,EAAGD,IACjCF,EAAYpZ,qBAEET,IAAViB,IACTA,EAAQ,IAED6Y,EAAQja,KAAK+E,KAAK7D,SAC3BE,EAAQpB,KAAK+E,KAAKkV,GACdD,EAAYrZ,WACdS,EAAQ0Y,EAAWE,EAAa5Y,EAAO4Y,EAAYpZ,gBAGvDkN,EAAcmM,GAAS7Y,CAAK,IAE9BpB,KAAK8N,cAAgBA,CACzB,CAWE,YAAAyL,CAAaa,EAAS1Y,GAEpB,OAAI0Y,GAAWA,EAAQC,MAAgC,mBAAjBD,EAAQC,KAErCD,EAAQC,MAAK,IAAM3Y,MAGrBA,GACX,CAUE,iBAAA4Y,CAAkBF,EAAS7H,GACzB,IAAIpC,EAASiK,EACb,MAAMG,EAAQ,GAkBd,OAjBAva,KAAKkQ,0BACFsK,UACA3X,QAAQF,QAAuCxC,IAA/BwC,EAAImM,gBAAgByD,KACpC3N,SAAS6V,IACRA,EAAc3L,gBAAgByD,GAAO3N,SAAS8V,IAC5CH,EAAMtX,KAAK,CAAEwX,gBAAeC,YAAW,GACvC,IAEQ,eAAVnI,GACFgI,EAAMC,UAGRD,EAAM3V,SAAS+V,IACbxK,EAASnQ,KAAKuZ,aAAapJ,GAAQ,IAC1BwK,EAAWD,SAASC,EAAWF,cAAeza,OACrD,IAEGmQ,CACX,CAWE,0BAAAmJ,CAA2Bc,EAAShB,EAAY7G,GAC9C,IAAIpC,EAASiK,EAQb,YAPoCja,IAAhCH,KAAK8O,gBAAgByD,IACvBvS,KAAK8O,gBAAgByD,GAAO3N,SAAS0N,IACnCnC,EAASnQ,KAAKuZ,aAAapJ,GAAQ,IAC1BmC,EAAKtS,KAAMoZ,IAClB,IAGCjJ,CACX,CASE,aAAAsG,CAAcyC,EAAUC,GACtB,MAAMyB,EAAS5a,KAAKiW,aAAakD,GAOjC,GANAnZ,KAAK6a,mBACL7a,KAAK8a,uBACL5B,EAAWA,EAAS1X,OAAOoZ,EAAO1B,UAClCC,EAAUyB,EAAOzB,QACjBnZ,KAAK+E,KAAOmU,EAAS1X,OAAO2X,GAExBD,GAAYlZ,KAAKqS,aAAa6G,EAAS,IACzC,OAAOlZ,KAAKgZ,oBAAoBE,EAAS,GAAIA,EAASjY,MAAM,GAAIkY,GAElE,GACEnZ,KAAKgD,mBACLkW,EAAS,KAAOlZ,KAAKgD,kBAAkB/C,OAEvC,OAAOD,KAAKwZ,qBAAqBN,EAAS,IAE5C,GAAIlZ,KAAKuO,oBAEP,OADAvO,KAAK+a,uBAAuB5B,GACrBnZ,KAAKgZ,oBACVhZ,KAAKuO,oBACL2K,EACAC,IAIFnZ,KAAK4C,SAAS1B,QACO,IAArBlB,KAAK+E,KAAK7D,QACTlB,KAAKmO,gBACLnO,KAAKuO,qBAGNvO,KAAKoC,KAAK,CAAEhC,OAAO,IAGrBJ,KAAK+a,uBAAuBH,EAAOzB,SACnCnZ,KAAKwX,mCACLxX,KAAKyX,8BAGL,MAAMuD,EAAyB,KACzBJ,EAAOzB,QAAQjY,OAAS,GAC1BlB,KAAKib,cAAcL,EAAOzB,QAAQ,GAC1C,EAGU+B,EAAe,WAAWlb,KAAKC,SACrC,GAAID,KAAKmO,eAAgB,CAIvB,IAAIkL,EAWJ,OAdA2B,IACAhb,KAAK6Z,oBAGLR,EAAerZ,KAAKsa,kBAAkBjB,EAAc,aACpDA,EAAerZ,KAAKuZ,aAAaF,GAAc,IAC7CrZ,KAAKmO,eAAenO,KAAK8N,iBAEvB9N,KAAKwE,SACP6U,EAAerZ,KAAKuZ,aAAaF,GAAc,KAC7CrZ,KAAKwE,OAAO2W,KAAKD,EAAchC,EAAUC,EAAQ,KAGrDE,EAAerZ,KAAKsa,kBAAkBjB,EAAc,cAC7CA,CACb,CACI,GAAIrZ,KAAKwE,QAAUxE,KAAKwE,OAAO4W,cAAcF,GAC3CF,IACAhb,KAAK6Z,oBACL7Z,KAAKwE,OAAO2W,KAAKD,EAAchC,EAAUC,QACpC,GAAID,EAAShY,OAAQ,CAC1B,GAAIlB,KAAKqS,aAAa,KAEpB,OAAOrS,KAAKgZ,oBAAoB,IAAKE,EAAUC,GAE7CnZ,KAAKob,cAAc,aAErBpb,KAAKmb,KAAK,YAAajC,EAAUC,GACxBnZ,KAAK4C,SAAS1B,OACvBlB,KAAKqb,kBAELL,IACAhb,KAAK6Z,oBAEb,MAAe7Z,KAAK4C,SAAS1B,QACvB8Z,IAEAhb,KAAKoC,KAAK,CAAEhC,OAAO,MAEnB4a,IACAhb,KAAK6Z,oBAGX,CAQE,YAAAxH,CAAapS,GACX,GAAKA,EACL,OAAOD,KAAK4C,SAASiC,MAClBlC,GAAQA,EAAI3B,QAAUf,GAAQ0C,EAAIsC,SAASnD,SAAS7B,IAE3D,CAUE,WAAAiE,CAAYrC,GACV,OAAO7B,KAAK6D,QAAQgB,MAAMrB,GAAWA,EAAOqH,GAAGhJ,IACnD,CASE,gCAAA2V,GAEExX,KAAKkQ,0BAA0BtL,SAASjC,IACtCA,EAAIkB,QAAQe,SAAS0W,IAEjBA,EAASpS,gBACwC/I,IAAjDwC,EAAI2R,eAAegH,EAAS5Q,kBAE5B/H,EAAI4Y,4BAA4BD,EAC1C,GACQ,GAER,CAOE,gCAAAE,GACE,MAAMC,EAA2Bzb,KAAK6D,QAAQhB,QAAQW,IACpD,MAAMiI,EAAYjI,EAAOkH,gBACzB,YAAuCvK,IAAnCH,KAAKsU,eAAe7I,IAGwB,YAAzCzL,KAAK6V,qBAAqBpK,EAAwB,IAGrDiQ,EAAyBD,EAAyB5Y,QACrDW,GAAWA,EAAOoG,cAAc1I,OAAS,IAG5Cwa,EAAuB9W,SAASpB,IAC9B,MAAMmY,EAAwBF,EAAyB5W,MAAM+W,GAC3DpY,EAAOoG,cAAc9H,SAAS8Z,EAAQlR,mBAEpCiR,GACF3b,KAAK6b,mBAAmBrY,EAAQmY,EACxC,GAEA,CAQE,2BAAAlE,GAEEzX,KAAKkQ,0BAA0BtL,SAASjC,IACtCA,EAAI6Y,kCAAkC,GAE5C,CAkBE,YAAAvF,CAAaD,GACX,MAAMkD,EAAW,GACXC,EAAU,GAChB,IAAI2C,EAAO5C,EACX,MAAMnU,EAAOiR,EAAK/U,QAElB,SAAS8a,EAAYla,GACnB,OAAOA,EAAIX,OAAS,GAAgB,MAAXW,EAAI,EACnC,CAGI,IAAIma,EAAuB,KAC3B,KAAOjX,EAAK7D,QAAQ,CAClB,MAAMW,EAAMkD,EAAKyE,QAGjB,GAAY,OAAR3H,EAAc,CACZia,IAAS3C,GAAS2C,EAAK7Y,KAAKpB,GAChCia,EAAK7Y,QAAQ8B,GACb,KACR,CAEM,IAAIiX,GAAyBD,EAAYla,GAAzC,CAMA,GAFAma,EAAuB,KAEnBD,EAAYla,GAAM,CACpB,MAAM2B,EAASxD,KAAKkE,YAAYrC,GAEhC,GAAI2B,EAAQ,CACV,GAAIA,EAAOzC,SAAU,CACnB,MAAMK,EAAQ2D,EAAKyE,aACLrJ,IAAViB,GAAqBpB,KAAKic,sBAAsBzY,GACpDxD,KAAKmb,KAAK,UAAU3X,EAAOvD,SAAUmB,EACjD,MAAiB,GAAIoC,EAAOkD,SAAU,CAC1B,IAAItF,EAAQ,KAER2D,EAAK7D,OAAS,IAAM6a,EAAYhX,EAAK,MACvC3D,EAAQ2D,EAAKyE,SAEfxJ,KAAKmb,KAAK,UAAU3X,EAAOvD,SAAUmB,EACjD,MAEYpB,KAAKmb,KAAK,UAAU3X,EAAOvD,UAE7B+b,EAAuBxY,EAAO9C,SAAW8C,EAAS,KAClD,QACV,CACA,CAGM,GAAI3B,EAAIX,OAAS,GAAgB,MAAXW,EAAI,IAAyB,MAAXA,EAAI,GAAY,CACtD,MAAM2B,EAASxD,KAAKkE,YAAY,IAAIrC,EAAI,MACxC,GAAI2B,EAAQ,CAERA,EAAOzC,UACNyC,EAAOkD,UAAY1G,KAAKyO,6BAGzBzO,KAAKmb,KAAK,UAAU3X,EAAOvD,SAAU4B,EAAIZ,MAAM,KAG/CjB,KAAKmb,KAAK,UAAU3X,EAAOvD,UAC3B8E,EAAKoT,QAAQ,IAAItW,EAAIZ,MAAM,OAE7B,QACV,CACA,CAGM,GAAI,YAAYgI,KAAKpH,GAAM,CACzB,MAAMoY,EAAQpY,EAAIqa,QAAQ,KACpB1Y,EAASxD,KAAKkE,YAAYrC,EAAIZ,MAAM,EAAGgZ,IAC7C,GAAIzW,IAAWA,EAAOzC,UAAYyC,EAAOkD,UAAW,CAClD1G,KAAKmb,KAAK,UAAU3X,EAAOvD,SAAU4B,EAAIZ,MAAMgZ,EAAQ,IACvD,QACV,CACA,CAWM,GALI8B,EAAYla,KACdia,EAAO3C,IAKNnZ,KAAK4O,0BAA4B5O,KAAK6O,sBACnB,IAApBqK,EAAShY,QACU,IAAnBiY,EAAQjY,OACR,CACA,GAAIlB,KAAKqS,aAAaxQ,GAAM,CAC1BqX,EAASjW,KAAKpB,GACVkD,EAAK7D,OAAS,GAAGiY,EAAQlW,QAAQ8B,GACrC,KACV,CAAe,GACL/E,KAAKgD,mBACLnB,IAAQ7B,KAAKgD,kBAAkB/C,OAC/B,CACAiZ,EAASjW,KAAKpB,GACVkD,EAAK7D,OAAS,GAAGgY,EAASjW,QAAQ8B,GACtC,KACV,CAAe,GAAI/E,KAAKuO,oBAAqB,CACnC4K,EAAQlW,KAAKpB,GACTkD,EAAK7D,OAAS,GAAGiY,EAAQlW,QAAQ8B,GACrC,KACV,CACA,CAGM,GAAI/E,KAAK6O,oBAAqB,CAC5BiN,EAAK7Y,KAAKpB,GACNkD,EAAK7D,OAAS,GAAG4a,EAAK7Y,QAAQ8B,GAClC,KACR,CAGM+W,EAAK7Y,KAAKpB,EAhGhB,MAFQ7B,KAAKmb,KAAK,UAAUa,EAAqB/b,SAAU4B,EAmG3D,CAEI,MAAO,CAAEqX,WAAUC,UACvB,CAOE,IAAA3I,GACE,GAAIxQ,KAAKkO,0BAA2B,CAElC,MAAMiC,EAAS,CAAE,EACXgM,EAAMnc,KAAK6D,QAAQ3C,OAEzB,IAAK,IAAI4H,EAAI,EAAGA,EAAIqT,EAAKrT,IAAK,CAC5B,MAAMuC,EAAMrL,KAAK6D,QAAQiF,GAAG4B,gBAC5ByF,EAAO9E,GACLA,IAAQrL,KAAKoc,mBAAqBpc,KAAKqc,SAAWrc,KAAKqL,EACjE,CACM,OAAO8E,CACb,CAEI,OAAOnQ,KAAKgO,aAChB,CAOE,eAAAsO,GAEE,OAAOtc,KAAKkQ,0BAA0B3K,QACpC,CAACgX,EAAiB5Z,IAAQyH,OAAOC,OAAOkS,EAAiB5Z,EAAI6N,SAC7D,CAAE,EAER,CAUE,KAAApQ,CAAMP,EAAS2c,GAEbxc,KAAKiP,qBAAqBU,YACxB,GAAG9P,MACHG,KAAKiP,qBAAqBI,UAEY,iBAA7BrP,KAAK+O,oBACd/O,KAAKiP,qBAAqBI,SAAS,GAAGrP,KAAK+O,yBAClC/O,KAAK+O,sBACd/O,KAAKiP,qBAAqBI,SAAS,MACnCrP,KAAKyc,WAAW,CAAErc,OAAO,KAI3B,MAAMqU,EAAS+H,GAAgB,CAAE,EAC3B7c,EAAW8U,EAAO9U,UAAY,EAC9BC,EAAO6U,EAAO7U,MAAQ,kBAC5BI,KAAK4S,MAAMjT,EAAUC,EAAMC,EAC/B,CAQE,gBAAAgb,GACE7a,KAAK6D,QAAQe,SAASpB,IACpB,GAAIA,EAAOqD,QAAUrD,EAAOqD,UAAUsG,EAAQ7C,IAAK,CACjD,MAAMmB,EAAYjI,EAAOkH,sBAGYvK,IAAnCH,KAAKsU,eAAe7I,IACpB,CAAC,UAAW,SAAU,OAAO3J,SAC3B9B,KAAK6V,qBAAqBpK,OAGxBjI,EAAOzC,UAAYyC,EAAOkD,SAG5B1G,KAAKmb,KAAK,aAAa3X,EAAOvD,SAAUkN,EAAQ7C,IAAI9G,EAAOqD,SAI3D7G,KAAKmb,KAAK,aAAa3X,EAAOvD,UAG1C,IAEA,CAOE,oBAAA6a,GACE,MAAM4B,EAAa,IAAI5R,EAAY9K,KAAK6D,SAClC8Y,EAAwBlR,QAEStL,IAAnCH,KAAKsU,eAAe7I,KACnB,CAAC,UAAW,WAAW3J,SAAS9B,KAAK6V,qBAAqBpK,IAG/DzL,KAAK6D,QACFhB,QACEW,QACoBrD,IAAnBqD,EAAOqG,SACP8S,EAAqBnZ,EAAOkH,kBAC5BgS,EAAWlR,gBACTxL,KAAKsU,eAAe9Q,EAAOkH,iBAC3BlH,KAGLoB,SAASpB,IACR4G,OAAOsL,KAAKlS,EAAOqG,SAChBhH,QAAQ+Z,IAAgBD,EAAqBC,KAC7ChY,SAASgY,IACR5c,KAAKgU,yBACH4I,EACApZ,EAAOqG,QAAQ+S,GACf,UACD,GACD,GAEZ,CASE,eAAAjD,CAAgB1Z,GACd,MAAMJ,EAAU,qCAAqCI,KACrDD,KAAKI,MAAMP,EAAS,CAAED,KAAM,6BAChC,CASE,qBAAAqc,CAAsBzY,GACpB,MAAM3D,EAAU,kBAAkB2D,EAAO2B,0BACzCnF,KAAKI,MAAMP,EAAS,CAAED,KAAM,mCAChC,CASE,2BAAA2b,CAA4B/X,GAC1B,MAAM3D,EAAU,2BAA2B2D,EAAO2B,uBAClDnF,KAAKI,MAAMP,EAAS,CAAED,KAAM,yCAChC,CASE,kBAAAic,CAAmBrY,EAAQqZ,GAGzB,MAAMC,EAA2BtZ,IAC/B,MAAMiI,EAAYjI,EAAOkH,gBACnBqS,EAAc/c,KAAKsU,eAAe7I,GAClCuR,EAAiBhd,KAAK6D,QAAQgB,MACjCsO,GAAWA,EAAOzJ,QAAU+B,IAAc0H,EAAOzI,kBAE9CuS,EAAiBjd,KAAK6D,QAAQgB,MACjCsO,IAAYA,EAAOzJ,QAAU+B,IAAc0H,EAAOzI,kBAErD,OACEsS,SAC+B7c,IAA7B6c,EAAepW,YAA2C,IAAhBmW,QACZ5c,IAA7B6c,EAAepW,WACdmW,IAAgBC,EAAepW,WAE5BoW,EAEFC,GAAkBzZ,CAAM,EAG3B0Z,EAAmB1Z,IACvB,MAAM2Z,EAAaL,EAAwBtZ,GACrCiI,EAAY0R,EAAWzS,gBAE7B,MAAe,QADA1K,KAAK6V,qBAAqBpK,GAEhC,yBAAyB0R,EAAWtW,UAEtC,WAAWsW,EAAWhY,QAAQ,EAGjCtF,EAAU,UAAUqd,EAAgB1Z,0BAA+B0Z,EAAgBL,KACzF7c,KAAKI,MAAMP,EAAS,CAAED,KAAM,+BAChC,CASE,aAAAqb,CAAcmC,GACZ,GAAIpd,KAAK0N,oBAAqB,OAC9B,IAAI2P,EAAa,GAEjB,GAAID,EAAKzT,WAAW,OAAS3J,KAAKgP,0BAA2B,CAE3D,IAAIsO,EAAiB,GAEjB7X,EAAUzF,KACd,EAAG,CACD,MAAMud,EAAY9X,EACfsL,aACAnN,eAAe6B,GACf5C,QAAQW,GAAWA,EAAOG,OAC1BqB,KAAKxB,GAAWA,EAAOG,OAC1B2Z,EAAiBA,EAAe9b,OAAO+b,GACvC9X,EAAUA,EAAQjB,MAC1B,OAAeiB,IAAYA,EAAQmJ,0BAC7ByO,EAAaxR,EAAeuR,EAAME,EACxC,CAEI,MAAMzd,EAAU,0BAA0Bud,KAAQC,IAClDrd,KAAKI,MAAMP,EAAS,CAAED,KAAM,2BAChC,CASE,gBAAAga,CAAiB4D,GACf,GAAIxd,KAAK2N,sBAAuB,OAEhC,MAAM8P,EAAWzd,KAAK2E,oBAAoBzD,OACpCwc,EAAiB,IAAbD,EAAiB,GAAK,IAE1B5d,EAAU,4BADMG,KAAKwE,OAAS,SAASxE,KAAKC,UAAY,gBACSwd,aAAoBC,aAAaF,EAAatc,UACrHlB,KAAKI,MAAMP,EAAS,CAAED,KAAM,6BAChC,CAQE,cAAAyb,GACE,MAAMsC,EAAc3d,KAAK+E,KAAK,GAC9B,IAAIsY,EAAa,GAEjB,GAAIrd,KAAKgP,0BAA2B,CAClC,MAAM4O,EAAiB,GACvB5d,KAAK+Q,aACFrO,gBAAgB1C,MAChB4E,SAASa,IACRmY,EAAe3a,KAAKwC,EAAQxF,QAExBwF,EAAQoY,SAASD,EAAe3a,KAAKwC,EAAQoY,QAAQ,IAE7DR,EAAaxR,EAAe8R,EAAaC,EAC/C,CAEI,MAAM/d,EAAU,2BAA2B8d,KAAeN,IAC1Drd,KAAKI,MAAMP,EAAS,CAAED,KAAM,4BAChC,CAeE,OAAAke,CAAQ9V,EAAK7C,EAAO1E,GAClB,QAAYN,IAAR6H,EAAmB,OAAOhI,KAAKqc,SACnCrc,KAAKqc,SAAWrU,EAChB7C,EAAQA,GAAS,gBACjB1E,EAAcA,GAAe,4BAC7B,MAAMsd,EAAgB/d,KAAKoE,aAAae,EAAO1E,GAQ/C,OAPAT,KAAKoc,mBAAqB2B,EAAcrT,gBACxC1K,KAAKqT,gBAAgB0K,GAErB/d,KAAKuU,GAAG,UAAYwJ,EAAc9d,QAAQ,KACxCD,KAAKiP,qBAAqBC,SAAS,GAAGlH,OACtChI,KAAK4S,MAAM,EAAG,oBAAqB5K,EAAI,IAElChI,IACX,CASE,WAAAS,CAAYuH,EAAKgW,GACf,YAAY7d,IAAR6H,QAAyC7H,IAApB6d,EAChBhe,KAAK0O,cACd1O,KAAK0O,aAAe1G,EAChBgW,IACFhe,KAAK0E,iBAAmBsZ,GAEnBhe,KACX,CAQE,OAAAoG,CAAQ4B,GACN,YAAY7H,IAAR6H,EAA0BhI,KAAK2O,UACnC3O,KAAK2O,SAAW3G,EACThI,KACX,CAWE,KAAA6d,CAAMA,GACJ,QAAc1d,IAAV0d,EAAqB,OAAO7d,KAAKiF,SAAS,GAI9C,IAAIQ,EAAUzF,KASd,GAP2B,IAAzBA,KAAK4C,SAAS1B,QACdlB,KAAK4C,SAAS5C,KAAK4C,SAAS1B,OAAS,GAAGkN,qBAGxC3I,EAAUzF,KAAK4C,SAAS5C,KAAK4C,SAAS1B,OAAS,IAG7C2c,IAAUpY,EAAQzE,MACpB,MAAM,IAAIvB,MAAM,+CAClB,MAAMwe,EAAkBje,KAAKwE,QAAQ6N,aAAawL,GAClD,GAAII,EAAiB,CAEnB,MAAMtK,EAAc,CAACsK,EAAgBhe,QAClCuB,OAAOyc,EAAgBxK,WACvB1R,KAAK,KACR,MAAM,IAAItC,MACR,qBAAqBoe,kBAAsB7d,KAAKC,oCAAoC0T,KAE5F,CAGI,OADAlO,EAAQR,SAAShC,KAAK4a,GACf7d,IACX,CAWE,OAAAyT,CAAQA,GAEN,YAAgBtT,IAAZsT,EAA8BzT,KAAKiF,UAEvCwO,EAAQ7O,SAASiZ,GAAU7d,KAAK6d,MAAMA,KAC/B7d,KACX,CASE,KAAAiG,CAAM+B,GACJ,QAAY7H,IAAR6H,EAAmB,CACrB,GAAIhI,KAAKke,OAAQ,OAAOle,KAAKke,OAE7B,MAAMnZ,EAAO/E,KAAK2E,oBAAoBK,KAAKnD,GAClCK,EAAqBL,KAE9B,MAAO,GACJL,OACCxB,KAAK6D,QAAQ3C,QAA+B,OAArBlB,KAAK4P,YAAuB,YAAc,GACjE5P,KAAK4C,SAAS1B,OAAS,YAAc,GACrClB,KAAK2E,oBAAoBzD,OAAS6D,EAAO,IAE1ChD,KAAK,IACd,CAGI,OADA/B,KAAKke,OAASlW,EACPhI,IACX,CASE,IAAAC,CAAK+H,GACH,YAAY7H,IAAR6H,EAA0BhI,KAAKgB,OACnChB,KAAKgB,MAAQgH,EACNhI,KACX,CAeE,gBAAAuW,CAAiB4H,GAGf,OAFAne,KAAKgB,MAAQ+L,EAAKkL,SAASkG,EAAUpR,EAAKsK,QAAQ8G,IAE3Cne,IACX,CAcE,aAAA2X,CAAc5K,GACZ,YAAa5M,IAAT4M,EAA2B/M,KAAKsO,gBACpCtO,KAAKsO,eAAiBvB,EACf/M,KACX,CASE,eAAAoe,CAAgBC,GACd,MAAM/Y,EAAStF,KAAK+Q,aAOpB,YANyB5Q,IAArBmF,EAAOhD,YACTgD,EAAOhD,UACL+b,GAAkBA,EAAeje,MAC7BJ,KAAKiP,qBAAqBS,kBAC1B1P,KAAKiP,qBAAqBM,mBAE3BjK,EAAO0B,WAAWhH,KAAMsF,EACnC,CAME,eAAAgZ,CAAgBD,GAEd,MAAME,EAAU,CAAEne,SADlBie,EAAiBA,GAAkB,CAAE,GACKje,OAC1C,IAAIgP,EAQJ,OANEA,EADEmP,EAAQne,MACDyB,GAAQ7B,KAAKiP,qBAAqBI,SAASxN,GAE3CA,GAAQ7B,KAAKiP,qBAAqBC,SAASrN,GAEtD0c,EAAQnP,MAAQiP,EAAejP,OAASA,EACxCmP,EAAQ9Y,QAAUzF,KACXue,CACX,CAUE,UAAA9B,CAAW4B,GACT,IAAIG,EAC0B,mBAAnBH,IACTG,EAAqBH,EACrBA,OAAiBle,GAEnB,MAAMoe,EAAUve,KAAKse,gBAAgBD,GAErCre,KAAKkQ,0BACFsK,UACA5V,SAASa,GAAYA,EAAQ0V,KAAK,gBAAiBoD,KACtDve,KAAKmb,KAAK,aAAcoD,GAExB,IAAIH,EAAkBpe,KAAKoe,gBAAgBG,GAC3C,GAAIC,IACFJ,EAAkBI,EAAmBJ,GAER,iBAApBA,IACNK,OAAOC,SAASN,IAEjB,MAAM,IAAI3e,MAAM,wDAGpB8e,EAAQnP,MAAMgP,GAEVpe,KAAKgE,kBAAkBL,MACzB3D,KAAKmb,KAAKnb,KAAKgE,iBAAiBL,MAElC3D,KAAKmb,KAAK,YAAaoD,GACvBve,KAAKkQ,0BAA0BtL,SAASa,GACtCA,EAAQ0V,KAAK,eAAgBoD,IAEnC,CAeE,UAAAxa,CAAWoB,EAAO1E,GAEhB,MAAqB,kBAAV0E,GAEPnF,KAAK4P,YADHzK,EACiBnF,KAAK4P,kBAAezP,EAEpB,KAEdH,OAITmF,EAAQA,GAAS,aACjB1E,EAAcA,GAAe,2BAC7BT,KAAK4P,YAAc5P,KAAKoE,aAAae,EAAO1E,GAErCT,KACX,CASE,cAAAgE,GAKE,YAHyB7D,IAArBH,KAAK4P,aACP5P,KAAK+D,gBAAW5D,OAAWA,GAEtBH,KAAK4P,WAChB,CASE,aAAA+O,CAAcnb,GAEZ,OADAxD,KAAK4P,YAAcpM,EACZxD,IACX,CAUE,IAAAoC,CAAKic,GACHre,KAAKyc,WAAW4B,GAChB,IAAI1e,EAAWwN,EAAQxN,UAAY,EAEpB,IAAbA,GACA0e,GAC0B,mBAAnBA,GACPA,EAAeje,QAEfT,EAAW,GAGbK,KAAK4S,MAAMjT,EAAU,iBAAkB,eAC3C,CAYE,WAAAif,CAAYC,EAAUC,GACpB,MAAMrM,EAAgB,CAAC,YAAa,SAAU,QAAS,YACvD,IAAKA,EAAc3Q,SAAS+c,GAC1B,MAAM,IAAIpf,MAAM,oEACFgT,EAAc1Q,KAAK,YAEnC,MAAMgd,EAAY,GAAGF,QAarB,OAZA7e,KAAKuU,GAAGwK,GAAYR,IAClB,IAAIS,EAEFA,EADkB,mBAATF,EACCA,EAAK,CAAE1e,MAAOme,EAAQne,MAAOqF,QAAS8Y,EAAQ9Y,UAE9CqZ,EAGRE,GACFT,EAAQnP,MAAM,GAAG4P,MACzB,IAEWhf,IACX,CASE,sBAAA+a,CAAuBhW,GACrB,MAAMhB,EAAa/D,KAAKgE,iBACFD,GAAcgB,EAAKF,MAAMhD,GAAQkC,EAAW8G,GAAGhJ,OAEnE7B,KAAKyc,aAELzc,KAAK4S,MAAM,EAAG,0BAA2B,gBAE/C,EAWA,SAASwF,EAA2BrT,GAKlC,OAAOA,EAAKC,KAAKnD,IACf,IAAKA,EAAI8H,WAAW,aAClB,OAAO9H,EAET,IAAIod,EAGA3W,EAFA4W,EAAY,YACZC,EAAY,OAyBhB,OAvBoD,QAA/C7W,EAAQzG,EAAIyG,MAAM,yBAErB2W,EAAc3W,EAAM,GAE0C,QAA7DA,EAAQzG,EAAIyG,MAAM,wCAEnB2W,EAAc3W,EAAM,GAChB,QAAQW,KAAKX,EAAM,IAErB6W,EAAY7W,EAAM,GAGlB4W,EAAY5W,EAAM,IAGgD,QAAnEA,EAAQzG,EAAIyG,MAAM,+CAGnB2W,EAAc3W,EAAM,GACpB4W,EAAY5W,EAAM,GAClB6W,EAAY7W,EAAM,IAGhB2W,GAA6B,MAAdE,EACV,GAAGF,KAAeC,KAAaE,SAASD,GAAa,IAEvDtd,CAAG,GAEd,QAEA4D,EAAAkH,QAAkBA,ID38EEG,IACdtN,eAAEA,EAAca,qBAAEA,GAAyB2M,KAC3C3K,KAAEA,GAAS6K,KACXlE,OAAEA,GAAWoE,WAEJiS,EAAAC,QAAG,IAAI3S,EAED0S,EAAA5O,cAAIxQ,GAAS,IAAI0M,EAAQ1M,GAC9Cof,EAAAjb,aAAuB,CAACe,EAAO1E,IAAgB,IAAIuI,EAAO7D,EAAO1E,GACjE4e,EAAA5N,eAAyB,CAACxR,EAAMQ,IAAgB,IAAID,EAASP,EAAMQ,GAMnE4e,EAAA1S,QAAkBA,EAClB0S,EAAArW,OAAiBA,EACjBqW,EAAA7e,SAAmBA,EACnB6e,EAAAhd,KAAeA,EAEfgd,EAAA7f,eAAyBA,EACzB6f,EAAAhf,qBAA+BA,EACGgf,EAAAE,2BAAGlf,qEEPrC,MAAMmf,EAAS,MAIb,MAQMC,EAAW,CAAA,EACXC,EAAc,CAClBC,KAAM,WACNC,SAAU,WAkHZ,SAASC,EAAaC,EAAKC,EAAKC,GAC9B,OAAIF,IAAQC,GAAOD,IAAQE,GAClBF,CAGb,CAQE,SAASG,EAAaH,EAAKC,GACzB,IAAIG,EAAW,eACf,GAAY,MAARJ,GACF,IAA+B,IAA3BI,EAAShE,QAAQ6D,GACnB,OAAOA,OAEJ,GAAY,MAARA,IACsB,IAA3BG,EAAShE,QAAQ4D,GACnB,OAAOA,EAGX,OAAO,CACX,CAUE,SAASK,EAAaL,EAAKC,GACzB,IAAIK,EAAe,oBACfC,EAAUD,EAAalE,QAAQ4D,GAC/BQ,EAAUF,EAAalE,QAAQ6D,GACnC,IAAiB,IAAbM,IAA+B,IAAbC,GAChBD,IAAYC,GAA2C,IAAhC5a,KAAK2G,IAAIgU,EAAUC,GAAgB,CAC5D,MAAMC,EAAW7a,KAAKF,IAAI6a,EAASC,GAEnC,OAAOF,EAAaI,UAAUD,EADfA,EAAW,EAElC,CAEI,OAAO,CACX,CASE,SAASE,EAAaX,EAAKC,GACzB,IAAIW,EAAW,WACXC,EAAUD,EAASxE,QAAQ4D,GAC3Bc,EAAUF,EAASxE,QAAQ6D,GAC/B,OAAiB,IAAbY,IAA+B,IAAbC,GAChBlb,KAAK2G,IAAIsU,EAAUC,IAAY,GAC1B,GAIf,CAUE,SAASC,EAAaf,EAAKC,GACzB,IAAIe,EAAW,aACXC,EAAY,CAAE,EAAG,IAAK,EAAG,IAAK,EAAG,KACjCC,EAAUF,EAAS5E,QAAQ4D,GAC3BmB,EAAUH,EAAS5E,QAAQ6D,GAC/B,OAAiB,IAAbiB,IAA+B,IAAbC,GAChBA,EAAUD,GAAY,GACjBD,EAAUC,EAIzB,CAQE,SAASE,EAAapB,EAAKC,EAAKC,GAC9B,OAAIF,IAAQE,GAAaD,IAAQC,GACxBA,CAGb,CAOE,SAASmB,EAAarB,EAAKC,GACzB,OAAID,IAAQC,GACHD,CAGb,CAOE,SAASsB,EAAatB,EAAKC,GACzB,IAAIG,EAAW,eACf,GAAY,MAARJ,GACF,IAA+B,IAA3BI,EAAShE,QAAQ6D,GACnB,OAAOA,OAEJ,GAAY,MAARA,IACsB,IAA3BG,EAAShE,QAAQ4D,GACnB,OAAOA,EAGX,OAAO,CACX,CAOE,SAASuB,EAAavB,EAAKC,GACzB,IAAIK,EAAe,oBACfC,EAAUD,EAAalE,QAAQ4D,GAC/BQ,EAAUF,EAAalE,QAAQ6D,GACnC,IAAiB,IAAbM,IAA+B,IAAbC,GAChBD,IAAYC,GAA2C,IAAhC5a,KAAK2G,IAAIgU,EAAUC,GAAgB,CAC5D,MAAMC,EAAW7a,KAAKF,IAAI6a,EAASC,GAEnC,OAAOF,EAAaI,UAAUD,EADfA,EAAW,EAElC,CAEI,OAAO,CACX,CAYE,SAASe,EAAaxB,EAAKC,GACzB,OAAa,MAARD,GAAuB,MAARC,GAAyB,MAARD,GAAuB,MAARC,IAC3C,GAGb,CAgBE,SAASwB,EAAazB,EAAKC,GACzB,MAAY,MAARD,GAAuB,MAARC,GACV,GAGb,CASE,SAASyB,EAAU1B,EAAKC,EAAKC,GAC3B,MAAY,MAARD,GAAuB,KAARA,GAERA,IAAQC,GAAqB,MAARF,EADvBA,EAIAC,CAEb,CAeE,SAAS0B,EAAiBC,EAAMC,EAAMnR,GACpC,GA1ViB,IA0VbA,EAAKoR,aAAaC,QACpB,MAAO,UAET,IAAIC,EAEFhC,EACAC,EAEAgC,EAJA5F,EAAMzW,KAAK+G,IAAIiV,EAAKxgB,OAAQygB,EAAKzgB,QAGjC8gB,GAAW,EAEb,GAAY,IAAR7F,EACF,MAAO,UAGT,IAAK2F,EAAK,EAAGA,EAAK3F,EAAK2F,IAGrB,GAFAhC,EAAM4B,EAAKlB,UAAUsB,EAAIA,EAAK,GAC9B/B,EAAM4B,EAAKnB,UAAUsB,EAAIA,EAAK,GAClB,MAARhC,GAAuB,MAARC,EAAa,CAC9B,GA1WM,IA0WFvP,EAAKoR,aAAaC,QACpB,MAAO,UACF,GA3WA,IA2WIrR,EAAKoR,aAAaC,QAC3B,MAAO,MAEP,GAAIN,EAAazB,EAAKC,GAAM,CAC1BiC,EAAWA,IAAY,EACvB,QACD,CAkBD,GAjBAD,GAAa,EACbA,EAAavR,EAAKoR,aAAaK,OAC3Bd,EAAarB,EAAKC,GAClBgC,EACJA,GACGA,GAAcvR,EAAKoR,aAAaM,OAC7Bd,EAAatB,EAAKC,GAClBgC,EACNA,GACGA,GAAcvR,EAAKoR,aAAaO,OAC7Bd,EAAavB,EAAKC,GAClBgC,EACNA,GACGA,GAAcvR,EAAKoR,aAAaQ,OAC7Bd,EAAaxB,EAAKC,GAClBgC,EACNC,GAAW,GACND,EACH,MAAO,SAGnB,CAEI,OAAIC,EACK,MAEA,OAEb,CA4CE,SAASK,EAAqBC,EAAOC,EAAO/R,GAC1C,IAAIsR,EAEAhC,EACFC,EAEAgC,EAJA5F,EAAMzW,KAAK+G,IAAI6V,EAAMphB,OAAQqhB,EAAMrhB,QAGnCiP,EAAS,GAGX,IAAK2R,EAAK,EAAGA,EAAK3F,EAAK2F,IACrBhC,EAAMwC,EAAM9B,UAAUsB,EAAIA,EAAK,GAC/B/B,EAAMwC,EAAM/B,UAAUsB,EAAIA,EAAK,GACnB,MAARhC,GAAuB,MAARC,EAtcX,IAucFvP,EAAKoR,aAAaC,SAtcf,IAwcIrR,EAAKoR,aAAaC,QAD3B1R,GAAUqR,EAAU1B,EAAKC,IAIzBgC,GAAa,EACbA,EAAavR,EAAKoR,aAAaY,OAC3BjB,EAAazB,EAAKC,GAClBgC,EACJA,GACGA,GAAcvR,EAAKoR,aAAaK,OAC7Bd,EAAarB,EAAKC,GAClBgC,EACNA,GACGA,GAAcvR,EAAKoR,aAAaM,OAC7Bd,EAAatB,EAAKC,GAClBgC,EACNA,GACGA,GAAcvR,EAAKoR,aAAaO,OAC7Bd,EAAavB,EAAKC,GAClBgC,EACNA,GACGA,GAAcvR,EAAKoR,aAAaQ,OAC7Bd,EAAaxB,EAAKC,GAClBgC,EACN5R,GAAU4R,GAGZ5R,GAAUqR,EAAU1B,EAAKC,GAG7B,OAAO5P,CACX,CA8BE,SAASsS,EAASC,EAAOC,GACvB,IAAIb,EACF3F,EAAMuG,EAAMxhB,OACZ0hB,EAAU,GACZ,IAAKd,EAAK,EAAGA,EAAKa,EAAWb,IAC3Bc,GAAW,IAEb,IAAKd,EAAK,EAAGA,EAAK3F,EAAK2F,IACrBY,EAAMZ,IAAOc,CAEnB,CAEE,SAASC,EAAsBlb,EAAQ+a,EAAOlS,GAC5C,IAEIsS,EAFAC,EAAOpb,EAAO,GAAGzG,OACjB8hB,EAAON,EAAM,GAAGxhB,OAQpB,OANI6hB,EAAOC,EACTP,EAASC,EAAOK,EAAOC,GACdA,EAAOD,GAChBN,EAAS9a,EAAQqb,EAAOD,GAE1BD,EAzIF,SAA8BG,EAAQC,EAAQ1S,GAC5C,IAGI2S,EAAWC,EAAWC,EAHtBC,EAAUL,EAAO/hB,OACjB6hB,EAAOE,EAAO/hB,OACPgiB,EAAOhiB,OAElB,IACI4gB,EAAIyB,EAAKpT,EADTqT,EAAU,EAEd,KAAOA,GAAWF,GAAS,CAMzB,IALAH,EAAYF,EAAOhiB,MAAMyE,KAAKF,IAAI,EAAGud,EAAOS,GAAUT,GACtDK,EAAYF,EAAOjiB,MAAM,EAAGyE,KAAK+G,IAAI6W,EAASE,IAE9CH,EAAOD,EAAUliB,OACjBiP,EAAS,GACJ2R,EAAK,EAAGA,EAAKuB,EAAMvB,IAEtB,GADAyB,EAAM9B,EAAiB0B,EAAUrB,GAAKsB,EAAUtB,GAAKtR,GACzC,QAAR+S,EACFpT,EAASoT,MACJ,IAAY,YAARA,EAAmB,CAC5BpT,EAASoT,EACT,KACV,CACyB,KAAXpT,IACFA,EAAS,QAErB,CAGM,GAAe,YAAXA,EAAsB,CACxBqT,IACA,KACR,CACM,GAAe,QAAXrT,EACF,MAEa,UAAXA,GACFqT,GAER,CAEI,OAAO9d,KAAK+G,IAAI6W,EAASE,EAC7B,CAiGcC,CAAqB9b,EAAQ+a,EAAOlS,GAjDhD,SAAuByS,EAAQC,EAAQJ,EAAStS,GAC9C,IAKIsR,EACF3F,EACAtT,EAEA6a,EATEX,EAAOE,EAAO/hB,OACd8hB,EAAOE,EAAOhiB,OACdyiB,EAASV,EAAOhiB,MAAM,EAAGyE,KAAKF,IAAI,EAAGud,EAAOD,IAC5Cc,EAAWX,EAAOhiB,MAAMyE,KAAKF,IAAI,EAAGud,EAAOD,GAAUC,GACrDc,EAAWX,EAAOjiB,MAAM,EAAGyE,KAAK+G,IAAIqW,EAASE,IAI/Cc,EAAS,GAKX,IADA3H,EAAMyH,EAAS1iB,OACV4gB,EAAK,EAAGA,EAAK3F,EAAK2F,IAEnBjZ,EADEiZ,GAAMkB,EACDY,EAAS9B,GAETO,EAAqBuB,EAAS9B,GAAK+B,EAAS/B,GAAKtR,GAE1DsT,EAAO7gB,KAAK4F,GAKd,OAFA6a,EAASR,EAAOjiB,MAAMyE,KAAK+G,IAAIqW,EAASE,GAAOA,GAZpC,GAcGxhB,OAAOmiB,EAAQG,EAAQJ,EACzC,CAwBWK,CAAcpc,EAAQ+a,EAAOI,EAAStS,EACjD,CAKE,SAASwT,EAAyBtC,EAAMC,EAAMnR,GAC5C,GAniBiB,IAmiBbA,EAAKoR,aAAaqC,QACpB,OAAO,EAET,IAAInC,EAOAoC,EAAMC,EAAMrE,EAAKC,EANnBgD,EAAOrB,EAAKxgB,OACZ8hB,EAAOrB,EAAKzgB,OACVoiB,EAAUP,EACVS,EAAU,EACVY,GAAa,EACbrC,GAAa,EAEjB,GAAa,IAATgB,EACF,OAAO,EAGTsB,EAAS,KAAOb,GAAWF,GAAS,CAClC,MAAMgB,EAAevB,EAAOS,EAG5B,IAFAU,EAAOxC,EAAKlB,UAAU8D,EAAcA,EAAed,GACnDW,EAAOxC,EAAKnB,UAAU,EAAG9a,KAAK+G,IAAI+W,EAASR,IACtClB,EAAK,EAAGA,EAAKpc,KAAK+G,IAAI+W,EAASR,GAAOlB,IAGzC,GAFAhC,EAAMoE,EAAK1D,UAAUsB,EAAIA,EAAK,GAC9B/B,EAAMoE,EAAK3D,UAAUsB,EAAIA,EAAK,GAClB,MAARhC,GAAuB,MAARC,EAAa,CAC9B,GAzjBI,IAyjBAvP,EAAKoR,aAAaqC,QAAqB,CACzCT,GAAoB,EACpB,MAAMa,CACP,CAAM,GA3jBF,IA2jBM7T,EAAKoR,aAAaqC,QAAsB,CAC7CnE,IAAQtP,EAAKwP,WAAaD,IAAQvP,EAAKwP,YACzCwD,GAAoB,GAEtB,MAAMa,CAClB,CA4BY,GA3BAD,GAAa,EACbrC,GAAa,EAEbA,EAAavR,EAAKoR,aAAa2C,OAC3B1E,EAAaC,EAAKC,EAAKvP,EAAKwP,WAC5B+B,EACJA,GACGA,GAAcvR,EAAKoR,aAAa4C,OAC7BvE,EAAaH,EAAKC,EAAKvP,EAAKwP,WAC5B+B,EACNA,GACGA,GAAcvR,EAAKoR,aAAa6C,OAC7BtE,EAAaL,EAAKC,EAAKvP,EAAKwP,WAC5B+B,EACNA,GACGA,GAAcvR,EAAKoR,aAAa8C,OAC7BjE,EAAaX,EAAKC,EAAKvP,EAAKwP,WAC5B+B,EACNA,GACGA,GAAcvR,EAAKoR,aAAa+C,OAC7B9D,EAAaf,EAAKC,EAAKvP,EAAKwP,WAC5B+B,EACNA,GACGA,GAAcvR,EAAKoR,aAAagD,OAC7B1D,EAAapB,EAAKC,EAAKvP,EAAKwP,WAC5B+B,GAEDA,EAAY,CACfyB,GAAoB,EACpB,MAAMa,CACpB,CAEA,CAEM,GAAID,EACF,MAEFZ,GACN,CACI,OAAO9d,KAAK+G,IAAI6W,EAASE,EAC7B,CAEE,SAASqB,EAAgBC,EAAYC,EAAYjC,EAAStS,GACxD,IAAIsR,EACFkD,EAEAC,EACAtB,EACAG,EACAJ,EACAX,EACAC,EACAtB,EACAC,EARAuD,EAAY,GAUd,IAAKpD,EAAK,EAAGA,EAAKtR,EAAK2U,OAAQrD,IAAM,CACnCJ,EAAOoD,EAAWhD,GAClBH,EAAOoD,EAAWjD,GAClBiB,EAAOrB,EAAKxgB,OACZ8hB,EAAOrB,EAAKzgB,OACZ+jB,EAAelC,EAAOD,EACtBa,EAASjC,EAAK0D,OAAO,EAAG1f,KAAKF,IAAI,EAAGyf,IACpCnB,EAAS,GAGT,MAAMQ,EAAe5e,KAAKF,IAAI,EAAGud,EAAOD,GACxC,IAAIoB,EAAOxC,EAAKlB,UAAU8D,EAAcA,EAAexB,GACnDqB,EAAOxC,EAAKnB,UAAU,EAAG9a,KAAK+G,IAAIqW,EAASE,IAE/C,IAAKgC,EAAK,EAAGA,EAAKlC,EAASkC,IAAM,CAC/B,IAAIlF,EAAMkF,EAAKjC,EAAOmB,EAAK1D,UAAUwE,EAAIA,EAAK,GAAK,IAC/CjF,EAAMiF,EAAKhC,EAAOmB,EAAK3D,UAAUwE,EAAIA,EAAK,GAAK,IAEnD,GAAY,MAARlF,GAAuB,MAARC,EACjB,GA5oBI,IA4oBAvP,EAAKoR,aAAaqC,QACpBH,GAAUtC,EAAU1B,EAAKC,EAAKvP,EAAKwP,gBAC9B,GA7oBF,IA6oBMxP,EAAKoR,aAAaqC,QAC3BH,GAAUtC,EAAU1B,EAAKC,EAAKvP,EAAKwP,eAC9B,CAEL,IAAIqF,EAAS,GA0BbvB,GADAuB,GAJAA,IAJAA,IAJAA,IAJAA,IAJAA,IAJAA,GACGA,GAAU7U,EAAKoR,aAAa2C,OACzB1E,EAAaC,EAAKC,EAAKvP,EAAKwP,WAC5BqF,IAEO7U,EAAKoR,aAAa4C,OACzBvE,EAAaH,EAAKC,EAAKvP,EAAKwP,WAC5BqF,IAEO7U,EAAKoR,aAAa6C,OACzBtE,EAAaL,EAAKC,EAAKvP,EAAKwP,WAC5BqF,IAEO7U,EAAKoR,aAAa8C,OACzBjE,EAAaX,EAAKC,EAAKvP,EAAKwP,WAC5BqF,IAEO7U,EAAKoR,aAAa+C,OACzB9D,EAAaf,EAAKC,EAAKvP,EAAKwP,WAC5BqF,IAEO7U,EAAKoR,aAAagD,OACzB1D,EAAapB,EAAKC,EAAKvP,EAAKwP,WAC5BqF,IACa7D,EAAU1B,EAAKC,EAAKvP,EAAKwP,UAExD,MAEU8D,GAAUtC,EAAU1B,EAAKC,EAAKvP,EAAKwP,UAE7C,CAGQ0D,EADEZ,GAAWE,EACJ,GAEArB,EAAKnB,UAAUsC,EAASA,EAAUpd,KAAKF,IAAI,EAAGwd,EAAOF,IAEhEoC,EAAUpD,GAAM6B,EAASG,EAASJ,CACxC,CACI,OAAOwB,CACX,CAME,SAASI,EAAWnJ,GAClB,IACEoJ,EADEC,EAAgB,GAEpB,IAAKD,EAAM,EAAGA,EAAMpJ,EAAKoJ,IACvBC,EAAcD,GAAO,GAEvB,OAAOC,CACX,CAOE,MAAMC,EAAgB,SAAUC,GAC9B,OAAOhgB,KAAKF,IAAIyN,MACdvN,KACAggB,EAAU1gB,KAAI,SAAU6D,EAAMC,GAC5B,OAAOD,EAAK3H,MACb,IAEJ,EAQD,SAASykB,EAAaC,EAAOzJ,EAAK3L,GAChC,OAAOoV,EAAMrgB,QAAO,SAAUsgB,EAAKC,GACjC,OAAOjB,EAAgBgB,EAAKC,EAAKC,IAAKD,EAAKhD,QAAStS,EAC1D,GAAO8U,EAAWnJ,GAClB,CAQE,SAAS6J,EAAUC,EAAU9J,EAAK3L,GAChC,MAAML,EAAS,CAAE,EACjB,IAAK,IAAIrH,EAAImd,EAAS/kB,SAAU4H,GAAK,CACnC,IAAIod,EAAIP,EAAaM,EAAShlB,MAAM,EAAG6H,GAAIqT,EAAK3L,GAChD,GAAIiV,EAAcS,IAAM1V,EAAKvI,MAAO,CAClCkI,EAAOqV,cAAgBU,EACnBpd,EAAImd,EAAS/kB,OACfiP,EAAOgW,MAAQF,EAAShlB,MAAM6H,GAE9BqH,EAAOgW,MAAQ,GAEjB,KACR,CACA,CACI,OAAOhW,CACX,CAEE,SAASiW,EAAqBC,EAAKJ,EAAUzV,GAC3C,IAAI8V,EACFC,EAEAhB,EACAC,EACArJ,EAGAqK,EACAC,EAEAC,EACAC,EACAC,EACAC,EACAC,EAbAhE,EAAU,EAIVqC,EAAS3U,EAAK2U,OACd4B,EAAiB,GAGjBC,EAAW,GAoBb,IAbAxB,EAAgBF,EAAWH,GACvB3U,EAAKvI,MAAQ,GAAKuI,EAAKyW,kBAGzBR,EAAe,CACbN,MAAO,GACPrD,QAASA,IAGe,IAAxBtS,EAAK0W,iBACPb,EAAMA,EAAI9c,MAAM,IAAIiR,UAAUzY,KAAK,KAErCoa,EAAMkK,EAAInlB,OACLolB,EAAY,EAAGA,EAAYnK,EAAKmK,IAKnC,GAJAI,EAAOL,EAAI7F,UAAU8F,EAAWA,EAAY,GAC5CK,EAAUD,EAAKpe,MAAM,MACrBie,EAAUN,EAASS,EAAKS,WAAW,IACnCN,EAAc,KACVN,EAAS,CACX,GAjyBa,IAiyBT/V,EAAKoR,aAAaqC,QAAwB,CAE5C,IADAnB,EAAU,IACLyC,EAAM,EAAGA,EAAM/U,EAAK2U,OAAQI,IAC/BzC,EAAUpd,KAAK+G,IACbqW,EACAkB,EAAyBwB,EAAcD,GAAMgB,EAAQhB,GAAM/U,IAG/DsS,EAAsB,MAAZA,EAAoB,EAAIA,CAC5C,CAgDQ,GA/CItS,EAAKvI,MAAQ,IACXuI,EAAKyW,iBAEPL,EAAcjB,EACZc,EAAaN,MAAM3kB,OAAO,CACxB,CACEukB,IAAKQ,EACLzD,QAASA,KAGbqC,EACA3U,GAEFqW,EAAclB,EACZqB,EAASxlB,OAAO,CACd,CACEukB,IAAKa,EACL9D,QAAS2D,EAAa3D,WAG1BqC,EACA3U,GAEFgW,EAAWf,EAAcoB,KAEzBA,EAAchC,EACZW,EACAe,EACAzD,EACAtS,GAEFgW,EAAWf,EAAcoB,IAEvBL,GAAYhW,EAAKvI,OAASqe,EAAY,IACpC9V,EAAKyW,iBACPzB,EAAgBG,EAAaqB,EAAS/lB,MAAM,GAAI,GAAIkkB,EAAQ3U,GACxDwW,EAAS9lB,OAAS,IACpB6lB,EAAe9jB,KAAKuiB,GACpBA,EAAgBF,EAAWH,IAE7B6B,EAAW,KAEXD,EAAe9jB,KAAKuiB,GACpBA,EAAgBF,EAAWH,MAI7B3U,EAAKvI,MAAQ,GAAKuI,EAAKyW,kBACpBN,GAAWL,IAAcnK,EAAM,GAClCsK,EAAaN,MAAMljB,KAAK,CAAE8iB,IAAKQ,EAASzD,QAASA,IAE/C6D,GAAWL,IAAcnK,EAAM,GAAG,CAGpC,IADA2K,EAAW,KAETD,EAAclB,EAAac,EAAaN,MAAOhB,EAAQ3U,GACvDgW,EAAWf,EAAcoB,GACrBL,GAAYhW,EAAKvI,OACnB6e,EAAWd,EAAUS,EAAaN,MAAOhB,EAAQ3U,GACjDiW,EAAe,CAAEN,MAAOW,EAASX,OACjCY,EAAe9jB,KAAK6jB,EAAStB,eAM7BgB,EAAW,IACTM,EACFE,EAAS/jB,KAAK,CAAE8iB,IAAKc,EAAa/D,QAAS,IAE3CkE,EAAS/jB,KAAK,CACZ8iB,IAAKc,EACL/D,QAAS2D,EAAa3D,WAKxB6D,IACFK,EAAS/jB,KAAK,CAAE8iB,IAAKQ,EAASzD,QAASA,IACvC0C,EAAgBF,EAAWH,IAEzBmB,IAAcnK,EAAM,IAEtBqJ,EAAgBG,EAAaqB,EAAU7B,EAAQ3U,IAEjDiW,EAAe,CACbN,MAAO,GACPrD,QAASA,GAEX,QACZ,CAEQ0C,EAAgBX,EAAgBW,EAAee,EAASzD,EAAStS,EACzE,CAmBI,OAfIiV,EAAcD,GAAiB,GACjCuB,EAAe9jB,KAAKuiB,IAGM,IAAxBhV,EAAK4W,gBACPL,EAAeniB,SAAQ,SAAU4gB,GAE/B,IADArJ,EAAMqJ,EAActkB,OACfqkB,EAAM,EAAGA,EAAMpJ,EAAKoJ,IACvBC,EAAcD,GAAOC,EAAcD,GAAK7hB,QACtC,IAAI2E,OAAO,KAAOmI,EAAKwP,UAAW,KAClC,IAGZ,IAEW+G,CACX,CAKE,MAsHMM,EAAe,SAAUC,EAAUzjB,EAASwiB,GAEhD,IAEIvE,EAAI3F,EAAKxU,EAFT+a,GADJ2D,EAAMA,EAAI3iB,QAAQ,QAAS,MAAMA,QAAQ,MAAO,OAChC6F,MAAM,MAClBge,EAAW,GAGf,IADApL,EAAMuG,EAAMxhB,OACP4gB,EAAK,EAAGA,EAAK3F,EAAK2F,IACrByF,EAAWA,EAAS/lB,OAClB4kB,EAAqB1D,EAAMZ,GAAKrC,EAAS6H,GAAWzjB,IAKxD,IAFAsY,EAAMoL,EAASrmB,OACfyG,EAAS4f,EAAS,GACbzF,EAAK,EAAGA,EAAK3F,EAAK2F,IACrBna,EAASkb,EAAsBlb,EAAQ4f,EAASzF,GAAKje,GAGvD,OAAO8D,EAASA,EAAO5F,KAAK,MAAQ,EACrC,EAKD,SAASylB,EAAgBC,EAAU5jB,GACjC,IACE6jB,EACAC,EAFEC,EAASphB,KAAKgQ,MAAMhQ,KAAKC,UAAUghB,IAQvC,QAAwC,IAA7B5jB,EAAQgkB,iBAEjB,IAAKF,KADLD,EAvJ8B,SAAUI,EAAQjkB,GAClD,IAUEie,EAVEiG,EAAQ,CACR,UACA,SACA,SACA,SACA,SACA,SACA,UAEFL,EAAS,CAAE,EAEb,GAAe,YAAXI,EACF,IAAKhG,EAAK,EAAGA,EAAKiG,EAAM7mB,OAAQ4gB,IAC9B4F,EAAOK,EAAMjG,IAAOje,EAAQ+d,aAAamG,EAAMjG,SAE5C,GAAe,SAAXgG,EACTJ,EAAS,CACPzD,QAn7Ba,EAo7BbM,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,QAEL,GAAe,WAAXkD,EACTJ,EAAS,CACPzD,QA57BM,EA67BNM,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,QAEL,GAAe,wBAAXkD,EACTJ,EAAS,CACPzD,QAp8BkB,EAq8BlBM,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,OAEL,IAAe,uBAAXkD,EAWT,OAVAJ,EAAS,CACPzD,QA/8BO,EAg9BPM,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EAIhB,CACI,OAAO8C,CACR,CA2FYM,CAA0BnkB,EAAQgkB,iBAAkBJ,GAChDC,EACPA,EAAOO,eAAeN,KACxBC,EAAOhG,aAAa+F,GAAQD,EAAOC,IAIzC,QAAsC,IAA3B9jB,EAAQqkB,eAEjB,IAAKP,KADLD,EAjG4B,SAAUI,EAAQjkB,GAChD,IAEEie,EAFEiG,EAAQ,CAAC,UAAW,SAAU,SAAU,SAAU,SAAU,UAC9DL,EAAS,CAAE,EAEb,GAAe,YAAXI,EACF,IAAKhG,EAAK,EAAGA,EAAKiG,EAAM7mB,OAAQ4gB,IAC9B4F,EAAOK,EAAMjG,IAAOje,EAAQ+d,aAAamG,EAAMjG,SAE5C,GAAe,SAAXgG,EACTJ,EAAS,CACP7F,QAz+Ba,EA0+BbI,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRI,QAAQ,QAEL,GAAe,WAAXsF,EACTJ,EAAS,CACP7F,QAj/BM,EAk/BNI,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRI,QAAQ,QAEL,GAAe,wBAAXsF,EACTJ,EAAS,CACP7F,QAx/BkB,EAy/BlBI,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRI,QAAQ,OAEL,IAAe,uBAAXsF,EAUT,OATAJ,EAAS,CACP7F,QAlgCO,EAmgCPI,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRC,QAAQ,EACRI,QAAQ,EAIhB,CACI,OAAOkF,CACR,CAiDYS,CAAwBtkB,EAAQqkB,eAAgBT,GAC5CC,EACPA,EAAOO,eAAeN,KACxBC,EAAOhG,aAAa+F,GAAQD,EAAOC,IAYzC,OARAC,EAAOV,oBAC6B,IAA3BrjB,EAAQqjB,eACXrjB,EAAQqjB,eACRO,EAASP,eACfU,EAAOR,eAAiBvjB,EAAQujB,iBAAkB,EAClDQ,EAAO3f,MAAQpE,EAAQoE,QAAU,EACjC2f,EAAOX,gBAAkBpjB,EAAQojB,kBAAmB,EAE7CW,CACX,CAoBE,MAAMQ,EAAK,SAAU/B,EAAKxiB,EAASwkB,GACjC,OAAOD,EAAGtJ,KAAKuH,EAAKxiB,EAASwkB,EAC9B,EA4UD,OA3UAD,EAAGtJ,KAAOwJ,eAAgBjC,EAAKxiB,EAASwkB,GACtC,IAAIf,EAAW,GAmBf,OAhBAjB,GAAY,GAEgB,mBAAjBxV,UAAU,KACnBwX,EAAOxkB,GACPA,EAAU,CAAE,GACJ8b,KAAOD,EAAYC,MAGN,iBAAZ9b,GACTyjB,EAAWzjB,EACXA,EAAU,CAAE,GAGZyjB,GADAzjB,EAAUA,GAAW,CAAE,GACJ8b,MAAQD,EAAYC,WAG5B,IAAI4I,SAAQ,CAACpR,EAASqR,KAMjCJ,EAAGK,SAASnB,GAAU,SAAU3U,EAAK8U,GACnC,GAAI9U,EAGF,OAFA6V,EAAO7V,QACH0V,GAAMA,EAAK1V,IAIjB,MAAM+V,EAAerB,EACnBC,EACAE,EAAgBC,EAAU5jB,GAC1BwiB,GAGFlP,EAAQuR,GACJL,GAAMA,EAAK,KAAMK,EAC7B,GAAQ,GAEL,EAMDN,EAAGO,SAAW,SAAUtC,EAAKxiB,GAC3B,IAAIyjB,EAAW,GAGfjB,GAAY,GAEW,iBAAZxiB,GACTyjB,EAAWzjB,EACXA,EAAU,CAAE,GAGZyjB,GADAzjB,EAAUA,GAAW,CAAE,GACJ8b,MAAQD,EAAYC,KAGzC,IAAI8H,EAAWD,EAAgBY,EAAGQ,aAAatB,GAAWzjB,GAC1D,OAAOwjB,EAAaC,EAAUG,EAAUpB,EACzC,EAWD+B,EAAGS,SAAW,SAAUvB,EAAUe,GAQhC,OAPAf,GAAsB,GAOf,IAAIiB,SAAQ,SAASpR,EAASqR,GACnCJ,EAAGK,SAASnB,GAAU,SAAU3U,EAAK8U,GACnC,GAAI9U,EAGF,OAFI0V,GAAMA,EAAK1V,QACf6V,EAAO7V,GAIL0V,GACFA,EAAK,KAAMZ,EAAUhI,EAAS6H,GAAUwB,SAE1C3R,EAAQ,CAACsQ,EAAUhI,EAAS6H,GAAUwB,SAC9C,GACA,GACG,EAODV,EAAGW,SAAW,SAAUvY,GACtB,GAAoB,iBAATA,GAA8B,OAATA,EAC9B,IAAK,IAAImX,KAAQnX,EACXA,EAAKyX,eAAeN,KACtBjI,EAAYiI,GAAQnX,EAAKmX,IAI/B,OAAOnhB,KAAKgQ,MAAMhQ,KAAKC,UAAUiZ,GAClC,EAKD0I,EAAGY,UAAY,SAAU1B,EAAUxB,GACjCA,EAAOA,EAAKpiB,QAAQ,QAAS,MAAMA,QAAQ,MAAO,MAClD+b,EAAS6H,GAAY,CAAE,EAEvB,IAAI5E,EAAQoD,EAAKvc,MAAM,MACnB0f,EAAavG,EAAMwG,OAAO,EAAG,GAAG,GAAG3f,MAAM,KACzC4f,EAAU1J,EAAS6H,GACnB9W,EAAO,CAAE,EAmBb,GAjBAA,EAAKwP,UAAYiJ,EAAW,GAAG7D,OAAO,EAAG,GACzC5U,EAAK2U,OAAS/F,SAAS6J,EAAW,GAAI,IACtCzY,EAAK4Y,SAAWhK,SAAS6J,EAAW,GAAI,IACxCzY,EAAK6Y,UAAYjK,SAAS6J,EAAW,GAAI,IACzCzY,EAAK8Y,UAAYlK,SAAS6J,EAAW,GAAI,IACzCzY,EAAK+Y,gBAAkBnK,SAAS6J,EAAW,GAAI,IAC/CzY,EAAK0W,eACH+B,EAAW/nB,QAAU,EAAIke,SAAS6J,EAAW,GAAI,IAAM,EACzDzY,EAAKgZ,WACHP,EAAW/nB,QAAU,EAAIke,SAAS6J,EAAW,GAAI,IAAM,KACzDzY,EAAKiZ,aACHR,EAAW/nB,QAAU,EAAIke,SAAS6J,EAAW,GAAI,IAAM,KACzDzY,EAAKoR,aA9tCP,SAA0B0H,EAAWI,GACnC,IACIxV,EAAK+F,EAAOkC,EAAKvc,EADjB+pB,EAAQ,CAAE,EAEVC,EAAQ,CACV,CAAC,MAAO,UAvBC,GAwBT,CAAC,KAAM,UAzBC,GA0BR,CAAC,KAAM,UAAU,GACjB,CAAC,KAAM,UAAU,GACjB,CAAC,KAAM,UAAU,GACjB,CAAC,IAAK,UAAU,GAChB,CAAC,IAAK,UAAU,GAChB,CAAC,IAAK,UA9BG,GA+BT,CAAC,GAAI,UAhCG,GAiCR,CAAC,GAAI,UAAU,GACf,CAAC,GAAI,UAAU,GACf,CAAC,EAAG,UAAU,GACd,CAAC,EAAG,UAAU,GACd,CAAC,EAAG,UAAU,GACd,CAAC,EAAG,UAAU,IAMhB,IAHA1V,EAAoB,OAAdwV,EAAqBA,EAAYJ,EACvCrP,EAAQ,EACRkC,EAAMyN,EAAM1oB,OACL+Y,EAAQkC,GACbvc,EAAOgqB,EAAM3P,GACT/F,GAAOtU,EAAK,IACdsU,GAAYtU,EAAK,GACjB+pB,EAAM/pB,EAAK,SACiB,IAAnB+pB,EAAM/pB,EAAK,IAAsBA,EAAK,GAAK+pB,EAAM/pB,EAAK,KAC1C,YAAZA,EAAK,IAAgC,YAAZA,EAAK,KACvC+pB,EAAM/pB,EAAK,KAAM,GAEnBqa,IA2DF,YAxDgC,IAArB0P,EAAe,QACN,IAAdL,EACFK,EAAe,QA1DT,GA2DkB,IAAfL,EACTK,EAAe,QA7DF,EAgEXA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,OAEdA,EAAe,QApEC,EAsEhBA,EAAe,QAvEV,MA0EAA,EAAe,UAEtBA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,UAEdA,EAAe,QAlFG,QAsFU,IAArBA,EAAe,QAEtBA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,OAEdA,EAAe,QA9FG,EAgGlBA,EAAe,QAnGF,EAEN,IAmGAA,EAAe,UAEtBA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,QACdA,EAAc,UAEdA,EAAe,QA1GG,GA8GfA,CACX,CAioCwBE,CAAiBrZ,EAAK8Y,UAAW9Y,EAAKgZ,YAE1DL,EAAQtlB,QAAU2M,EAIU,IAA1BA,EAAKwP,UAAU9e,QACf4oB,MAAMtZ,EAAK2U,SACX2E,MAAMtZ,EAAK4Y,WACXU,MAAMtZ,EAAK6Y,YACXS,MAAMtZ,EAAK8Y,YACXQ,MAAMtZ,EAAK+Y,iBAEX,MAAM,IAAI9pB,MAAM,0CAOlB,IACEqiB,EADEiI,EAAW,GAEf,IAAKjI,EAAK,GAAIA,GAAM,IAAKA,IACvBiI,EAAS9mB,KAAK6e,GAKhB,GAHAiI,EAAWA,EAASvoB,OAAO,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAGrDkhB,EAAMxhB,OAASsP,EAAK+Y,gBAAkB/Y,EAAK2U,OAAS4E,EAAS7oB,OAC/D,MAAM,IAAIzB,MAAM,gCAOlB,IAAIuqB,EACFC,EACAC,GAAa,EAKf,IAHAf,EAAQL,QAAUpG,EAAMwG,OAAO,EAAG1Y,EAAK+Y,iBAAiBxnB,KAAK,MAC7DonB,EAAQgB,SAAW,EAEZzH,EAAMxhB,OAAS,GAAKioB,EAAQgB,SAAWJ,EAAS7oB,QAAQ,CAI7D,IAHA8oB,EAAOD,EAASZ,EAAQgB,UACxBhB,EAAQa,GAAQtH,EAAMwG,OAAO,EAAG1Y,EAAK2U,QAEhCrD,EAAK,EAAGA,EAAKtR,EAAK2U,OAAQrD,SACI,IAAtBqH,EAAQa,GAAMlI,GACvBqH,EAAQa,GAAMlI,GAAM,IAEpBmI,EAAe,IAAI5hB,OACjB,KACE8gB,EAAQa,GAAMlI,GAAIsD,OAAO+D,EAAQa,GAAMlI,GAAI5gB,OAAS,EAAG,GACvD,MAEJioB,EAAQa,GAAMlI,GAAMqH,EAAQa,GAAMlI,GAAIpe,QAAQumB,EAAc,KAGhEd,EAAQgB,UACd,CAMI,KAAOzH,EAAMxhB,OAAS,GAAG,CAEvB,GADA8oB,EAAOtH,EAAMwG,OAAO,EAAG,GAAG,GAAG3f,MAAM,KAAK,GACpC,sBAAsBN,KAAK+gB,GAC7BA,EAAO5K,SAAS4K,EAAM,SACjB,GAAI,YAAY/gB,KAAK+gB,GAC1BA,EAAO5K,SAAS4K,EAAM,QACjB,GAAI,WAAW/gB,KAAK+gB,GACzBA,EAAO5K,SAAS4K,EAAM,QACjB,KAAI,uBAAuB/gB,KAAK+gB,GAEhC,CACL,GAAa,KAATA,EACF,MAGFI,QAAQC,IAAI,gBAAkBL,GAC9BE,GAAa,EACb,KACR,CATQF,EAAO5K,SAAS4K,EAAM,GAS9B,CAIM,IAFAb,EAAQa,GAAQtH,EAAMwG,OAAO,EAAG1Y,EAAK2U,QAEhCrD,EAAK,EAAGA,EAAKtR,EAAK2U,OAAQrD,SACI,IAAtBqH,EAAQa,GAAMlI,GACvBqH,EAAQa,GAAMlI,GAAM,IAEpBmI,EAAe,IAAI5hB,OACjB,KACE8gB,EAAQa,GAAMlI,GAAIsD,OAAO+D,EAAQa,GAAMlI,GAAI5gB,OAAS,EAAG,GACvD,MAEJioB,EAAQa,GAAMlI,GAAMqH,EAAQa,GAAMlI,GAAIpe,QAAQumB,EAAc,KAGhEd,EAAQgB,UACd,CAGI,IAAmB,IAAfD,EACF,MAAM,IAAIzqB,MAAM,uBAGlB,OAAO+Q,CACR,EAKD4X,EAAGK,SAAW,SAAUnB,EAAUe,GAChC,GAAI5I,EAAS6H,GAIX,OAHIe,GACFA,EAAK,KAAM5I,EAAS6H,GAAUzjB,SAEzB0kB,QAAQpR,UAGjB,GAAqB,mBAAVmT,MAIT,MAHAF,QAAQhqB,MACN,kGAEI,IAAIX,MAAM,4CAGlB,OAAO6qB,MAAM5K,EAAYE,SAAW,IAAM0H,EAAW,QAClDjN,MAAK,SAAUkQ,GACd,GAAIA,EAASC,GACX,OAAOD,EAASzL,OAIlB,MADAsL,QAAQC,IAAI,sBAAuBE,GAC7B,IAAI9qB,MAAM,+BACjB,IACA4a,MAAK,SAAUyE,GACVuJ,GACFA,EAAK,KAAMD,EAAGY,UAAU1B,EAAUxI,GAErC,IACA2L,MAAMpC,EACV,EAKDD,EAAGQ,aAAe,SAAU3oB,GAC1B,GAAIwf,EAASxf,GACX,OAAOwf,EAASxf,GAAM4D,QAExB,MAAM,IAAIpE,MACR,8DAEH,EAOD2oB,EAAGsC,aAAe,SAAUC,EAAOtC,GACjC,IAAIuC,EAAW,GAEf,OAAOD,EACJplB,QAAO,SAAU6U,EAASna,GACzB,OAAOma,EAAQC,MAAK,WAClB,OAAOiQ,MAAM5K,EAAYE,SAAW,IAAM3f,EAAO,QAC9Coa,MAAMkQ,GACEA,EAASzL,SAEjBzE,MAAK,SAAUyL,GACd8E,EAAS3nB,KAAK6iB,EAC5B,GACA,GACA,GAASyC,QAAQpR,WACVkD,MAAK,SAAUwQ,GACd,IAAK,IAAI/hB,KAAK6hB,EACRA,EAAM1C,eAAenf,IACvBsf,EAAGY,UAAU2B,EAAM7hB,GAAI8hB,EAAS9hB,IAIhCuf,GAAMA,GAClB,GACG,EAEDD,EAAG3I,SAAWA,EAEP2I,CACR,EAv7Cc,GA47CX0C,UAAiBtL,4EC38CrBpV,OAAO2gB,eAAeC,EAAS,aAAc,CAAE5pB,OAAO,IACvC4pB,EAAAC,QAAGD,UAAkBA,EAAAE,WAAqBF,EAAsBG,oBAAG,EAClFH,EAAAG,eAAyB,UACzBH,EAAAE,WAAqB,CACjBE,QAAUjR,GAAMkR,OAAOlR,GAAGzW,QAAQ,OAAQ,KAC1CunB,QAAU9Q,GAAMkR,OAAOlR,IAE3B6Q,EAAAI,QAAkB,UAClBJ,EAAAC,QAAkB,qECRlB7gB,OAAO2gB,eAAeO,GAAS,aAAc,CAAElqB,OAAO,IACtDkqB,GAAAC,UAAoBD,GAAevW,QAAGuW,aAAoBA,GAAAE,UAAoBF,GAAeG,QAAGH,GAAcI,OAAGJ,UAAiBA,GAAAK,qBAA+BL,GAAaM,WAAG,EACjL,MAAMC,EAAmCvrB,IACnCgL,EAAMlB,OAAO0hB,UAAU7D,eACvB8D,EAAWzqB,MAAMC,QACjByqB,EAAY,MACd,MAAMpG,EAAQ,GACd,IAAK,IAAI9c,EAAI,EAAGA,EAAI,MAAOA,EACvB8c,EAAM3iB,KAAK,MAAQ6F,EAAI,GAAK,IAAM,IAAMA,EAAEmjB,SAAS,KAAKrhB,eAE5D,OAAOgb,CACV,EANiB,GAyFlB0F,GAAAM,MAvDA,SAASA,EAAMzY,EAAQyC,EAAQ/R,EAAU,CAAA,GACrC,IAAK+R,EACD,OAAOzC,EAEX,GAAsB,iBAAXyC,EAAqB,CAC5B,GAAImW,EAAS5Y,GACTA,EAAOlQ,KAAK2S,OAEX,KAAIzC,GAA4B,iBAAXA,EAOtB,MAAO,CAACA,EAAQyC,IANX/R,IAAYA,EAAQqoB,cAAgBroB,EAAQsoB,mBAC5C7gB,EAAI8gB,KAAKhiB,OAAO0hB,UAAWlW,MAC5BzC,EAAOyC,IAAU,EAKjC,CACQ,OAAOzC,CACf,CACI,IAAKA,GAA4B,iBAAXA,EAClB,MAAO,CAACA,GAAQ3R,OAAOoU,GAE3B,IAAIyW,EAAclZ,EAKlB,OAJI4Y,EAAS5Y,KAAY4Y,EAASnW,KAE9ByW,EAlCR,SAAyBzW,EAAQ/R,GAC7B,MAAMyoB,EAAMzoB,GAAWA,EAAQqoB,aAAe9hB,OAAOmiB,OAAO,MAAQ,CAAE,EACtE,IAAK,IAAIzjB,EAAI,EAAGA,EAAI8M,EAAO1U,SAAU4H,OACR,IAAd8M,EAAO9M,KACdwjB,EAAIxjB,GAAK8M,EAAO9M,IAGxB,OAAOwjB,CACX,CA0BsBE,CAAgBrZ,EAAQtP,IAEtCkoB,EAAS5Y,IAAW4Y,EAASnW,IAC7BA,EAAOhR,SAAQ,SAAU6nB,EAAM3jB,GAC3B,GAAIwC,EAAI8gB,KAAKjZ,EAAQrK,GAAI,CACrB,MAAM4jB,EAAavZ,EAAOrK,GACtB4jB,GAAoC,iBAAfA,GAA2BD,GAAwB,iBAATA,EAC/DtZ,EAAOrK,GAAK8iB,EAAMc,EAAYD,EAAM5oB,GAGpCsP,EAAOlQ,KAAKwpB,EAEhC,MAEgBtZ,EAAOrK,GAAK2jB,CAE5B,IACetZ,GAEJ/I,OAAOsL,KAAKE,GAAQrQ,QAAO,SAAUsgB,EAAKxa,GAC7C,MAAMjK,EAAQwU,EAAOvK,GAOrB,OANIC,EAAI8gB,KAAKvG,EAAKxa,GACdwa,EAAIxa,GAAOugB,EAAM/F,EAAIxa,GAAMjK,EAAOyC,GAGlCgiB,EAAIxa,GAAOjK,EAERykB,CACV,GAAEwG,EACP,EAQAf,GAAAK,qBANA,SAA8BxY,EAAQyC,GAClC,OAAOxL,OAAOsL,KAAKE,GAAQrQ,QAAO,SAAUsgB,EAAKxa,GAE7C,OADAwa,EAAIxa,GAAOuK,EAAOvK,GACXwa,CACV,GAAE1S,EACP,EAgBAmY,GAAAqB,OAdA,SAAgB3kB,EAAK4kB,EAAGC,GACpB,MAAMC,EAAiB9kB,EAAItE,QAAQ,MAAO,KAC1C,GAAgB,eAAZmpB,EAEA,OAAOC,EAAeppB,QAAQ,iBAAkBqpB,UAGpD,IACI,OAAOC,mBAAmBF,EAClC,CACI,MAAOG,GACH,OAAOH,CACf,CACA,EAEA,MAAMI,EAAQ,YA8Dd5B,GAAAI,OA7De,CAAC1jB,EAAKmlB,EAAiBN,EAASO,EAAOC,KAGlD,GAAmB,IAAfrlB,EAAI9G,OACJ,OAAO8G,EAEX,IAAIslB,EAAStlB,EAOb,GANmB,iBAARA,EACPslB,EAASC,OAAOzB,UAAUG,SAASG,KAAKpkB,GAEpB,iBAARA,IACZslB,EAASjC,OAAOrjB,IAEJ,eAAZ6kB,EACA,OAAOW,OAAOF,GAAQ5pB,QAAQ,mBAAmB,SAAU+pB,GACvD,MAAO,SAAWrO,SAASqO,EAAGxsB,MAAM,GAAI,IAAM,KAC1D,IAEI,IAAIysB,EAAM,GACV,IAAK,IAAInhB,EAAI,EAAGA,EAAI+gB,EAAOpsB,OAAQqL,GAAK2gB,EAAO,CAC3C,MAAMS,EAAUL,EAAOpsB,QAAUgsB,EAAQI,EAAOrsB,MAAMsL,EAAGA,EAAI2gB,GAASI,EAChEM,EAAM,GACZ,IAAK,IAAI9kB,EAAI,EAAGA,EAAI6kB,EAAQzsB,SAAU4H,EAAG,CACrC,IAAI+kB,EAAIF,EAAQxG,WAAWre,GACjB,KAAN+kB,GACM,KAANA,GACM,KAANA,GACM,MAANA,GACCA,GAAK,IAAQA,GAAK,IAClBA,GAAK,IAAQA,GAAK,IAClBA,GAAK,IAAQA,GAAK,KAClBR,IAAWxB,EAAUT,UAAkB,KAANyC,GAAoB,KAANA,GAEhDD,EAAIA,EAAI1sB,QAAUysB,EAAQG,OAAOhlB,GAGjC+kB,EAAI,IACJD,EAAIA,EAAI1sB,QAAU8qB,EAAU6B,GAG5BA,EAAI,KACJD,EAAIA,EAAI1sB,QAAU8qB,EAAU,IAAQ6B,GAAK,GAAM7B,EAAU,IAAY,GAAJ6B,GAGjEA,EAAI,OAAUA,GAAK,MACnBD,EAAIA,EAAI1sB,QACJ8qB,EAAU,IAAQ6B,GAAK,IAAO7B,EAAU,IAAS6B,GAAK,EAAK,IAAS7B,EAAU,IAAY,GAAJ6B,IAG9F/kB,GAAK,EACL+kB,EAAI,QAAiB,KAAJA,IAAc,GAA+B,KAAxBF,EAAQxG,WAAWre,IACzD8kB,EAAIA,EAAI1sB,QACJ8qB,EAAU,IAAQ6B,GAAK,IACnB7B,EAAU,IAAS6B,GAAK,GAAM,IAC9B7B,EAAU,IAAS6B,GAAK,EAAK,IAC7B7B,EAAU,IAAY,GAAJ6B,GACtC,CACQH,GAAOE,EAAI7rB,KAAK,GACxB,CACI,OAAO2rB,CAAG,EAuBdpC,GAAAG,QApBA,SAAiBrqB,GACb,MAAM2sB,EAAQ,CAAC,CAAEzB,IAAK,CAAE0B,EAAG5sB,GAASumB,KAAM,MACpCsG,EAAO,GACb,IAAK,IAAInlB,EAAI,EAAGA,EAAIilB,EAAM7sB,SAAU4H,EAAG,CACnC,MAAM2jB,EAAOsB,EAAMjlB,GAEbwjB,EAAMG,EAAKH,IAAIG,EAAK9E,MACpBjS,EAAOtL,OAAOsL,KAAK4W,GACzB,IAAK,IAAI/f,EAAI,EAAGA,EAAImJ,EAAKxU,SAAUqL,EAAG,CAClC,MAAMlB,EAAMqK,EAAKnJ,GACX2H,EAAMoY,EAAIjhB,GACG,iBAAR6I,GAA4B,OAARA,IAAuC,IAAvB+Z,EAAK/R,QAAQhI,KACxD6Z,EAAM9qB,KAAK,CAAEqpB,IAAKA,EAAK3E,KAAMtc,IAC7B4iB,EAAKhrB,KAAKiR,GAE1B,CACA,CAEI,OA1LJ,SAAuB6Z,GACnB,KAAOA,EAAM7sB,OAAS,GAAG,CACrB,MAAMurB,EAAOsB,EAAMG,MACnB,IAAKzB,EACD,SACJ,MAAMH,EAAMG,EAAKH,IAAIG,EAAK9E,MAC1B,GAAIoE,EAASO,GAAM,CACf,MAAM6B,EAAY,GAClB,IAAK,IAAI5hB,EAAI,EAAGA,EAAI+f,EAAIprB,SAAUqL,OACR,IAAX+f,EAAI/f,IACX4hB,EAAUlrB,KAAKqpB,EAAI/f,IAI3BkgB,EAAKH,IAAIG,EAAK9E,MAAQwG,CAClC,CACA,CACA,CAwKIC,CAAcL,GACP3sB,CACX,EAKAkqB,GAAAE,UAHA,SAAmBc,GACf,MAA+C,oBAAxCliB,OAAO0hB,UAAUG,SAASG,KAAKE,EAC1C,EAQAhB,GAAA+C,UANA,SAAmB/B,GACf,SAAKA,GAAsB,iBAARA,OAGTA,EAAI5sB,aAAe4sB,EAAI5sB,YAAYgf,UAAY4N,EAAI5sB,YAAYgf,SAAS4N,GACtF,EAKAhB,GAAAvW,QAHA,SAAiB5R,EAAGC,GAChB,MAAO,GAAG5B,OAAO2B,EAAGC,EACxB,EAYAkoB,GAAAC,UAVA,SAAmBrX,EAAKxS,GACpB,GAAIqqB,EAAS7X,GAAM,CACf,MAAMoa,EAAS,GACf,IAAK,IAAIxlB,EAAI,EAAGA,EAAIoL,EAAIhT,OAAQ4H,GAAK,EACjCwlB,EAAOrrB,KAAKvB,EAAGwS,EAAIpL,KAEvB,OAAOwlB,CACf,CACI,OAAO5sB,EAAGwS,EACd,sCCjOA9J,OAAO2gB,eAAewD,GAAS,aAAc,CAAEntB,OAAO,IACrCmtB,GAAA9nB,eAAG,EACpB,MAAM+nB,EAA+BluB,KAC/BurB,EAAmC/e,IACnCxB,EAAMlB,OAAO0hB,UAAU7D,eACvBwG,EAA0B,CAC5BC,SAASC,GACEtD,OAAOsD,GAAU,KAE5BC,MAAO,QACPC,QAAO,CAACF,EAAQtjB,IACLggB,OAAOsD,GAAU,IAAMtjB,EAAM,IAExC3D,OAAOinB,GACItD,OAAOsD,IAGhB5C,EAAWzqB,MAAMC,QACjB0B,EAAO3B,MAAMwqB,UAAU7oB,KACvB6rB,EAAgB,SAAUlB,EAAKmB,GACjC9rB,EAAKgQ,MAAM2a,EAAK7B,EAASgD,GAAkBA,EAAiB,CAACA,GAChE,EACKC,EAASC,KAAKnD,UAAUoD,YACxBnG,EAAW,CACboG,gBAAgB,EAChBC,WAAW,EACXC,kBAAkB,EAClBC,YAAa,UACbzC,QAAS,QACT0C,iBAAiB,EACjBC,UAAW,IACX9D,QAAQ,EACR+D,iBAAiB,EACjBC,QAASlB,EAAQ9C,OACjBiE,kBAAkB,EAClBtC,OAAQxB,EAAUV,eAClByE,UAAW/D,EAAUX,WAAWW,EAAUV,gBAE1C0D,SAAS,EACTgB,cAAcC,GACHd,EAAO5C,KAAK0D,GAEvBC,WAAW,EACXC,oBAAoB,GASxB,MAAMC,EAAW,CAAE,EACnB,SAASC,EAAgBC,EAAQxB,EAAQyB,EAAqBC,EAAgBhB,EAAkBW,EAAoBD,EAAWN,EAAiBC,EAAS7sB,EAAQK,EAAMksB,EAAWS,EAAexC,EAAQuC,EAAWD,EAAkB9C,EAASyD,GAC3O,IAAIhE,EAAM6D,EACNI,EAASD,EACTE,EAAO,EACPC,GAAY,EAChB,UAA2C,KAAnCF,EAASA,EAAO7kB,IAAIukB,MAAkCQ,GAAW,CAErE,MAAMC,EAAMH,EAAO7kB,IAAIykB,GAEvB,GADAK,GAAQ,OACW,IAARE,EAAqB,CAC5B,GAAIA,IAAQF,EACR,MAAM,IAAIG,WAAW,uBAGrBF,GAAY,CAE5B,MAC4C,IAAzBF,EAAO7kB,IAAIukB,KAClBO,EAAO,EAEnB,CAeI,GAdsB,mBAAX3tB,EACPypB,EAAMzpB,EAAO8rB,EAAQrC,GAEhBA,aAAe2C,KACpB3C,EAAMuD,IAAgBvD,GAEO,UAAxB8D,GAAmCrE,EAASO,KACjDA,GAAM,EAAIkC,EAAQjD,WAAWe,GAAK,SAAUlrB,GACxC,OAAIA,aAAiB6tB,KACVY,IAAgBzuB,GAEpBA,CACnB,KAEgB,OAARkrB,EAAc,CACd,GAAI0D,EACA,OAAON,IAAYC,EAEfD,EAAQf,EAAQ5F,EAAS2G,QAAS7C,EAAS,MAAOQ,GAChDsB,EAEVrC,EAAM,EACd,CACI,GAnDqB,iBADSnS,EAoDDmS,IAlDZ,iBAANnS,GACM,kBAANA,GACM,iBAANA,GACM,iBAANA,IA+C0B,EAAIqU,EAAQH,WAAW/B,GAAM,CAC9D,GAAIoD,EAAS,CACT,MAAMkB,EAAYjB,EAAmBhB,EAE/Be,EAAQf,EAAQ5F,EAAS2G,QAAS7C,EAAS,MAAOQ,GACxD,MAAO,CACHuC,IAAYgB,GACR,IAEAhB,IAAYF,EAAQpD,EAAKvD,EAAS2G,QAAS7C,EAAS,QAASQ,IAEjF,CACQ,MAAO,CAACuC,IAAYjB,GAAU,IAAMiB,IAAYvE,OAAOiB,IAC/D,CAjEA,IAAkCnS,EAkE9B,MAAMvY,EAAS,GACf,QAAmB,IAAR0qB,EACP,OAAO1qB,EAEX,IAAIivB,EACJ,GAA4B,UAAxBT,GAAmCrE,EAASO,GAExCqD,GAAoBD,IAEpBpD,GAAM,EAAIkC,EAAQjD,WAAWe,EAAKoD,IAEtCmB,EAAW,CAAC,CAAEzvB,MAAOkrB,EAAIprB,OAAS,EAAIorB,EAAIvqB,KAAK,MAAQ,UAAO,SAE7D,GAAIgqB,EAASlpB,GACdguB,EAAWhuB,MAEV,CACD,MAAM6S,EAAOtL,OAAOsL,KAAK4W,GACzBuE,EAAW3tB,EAAOwS,EAAKxS,KAAKA,GAAQwS,CAC5C,CACI,MAAMob,EAAiBrB,EAAkBpE,OAAOsD,GAAQjrB,QAAQ,MAAO,OAAS2nB,OAAOsD,GACjFoC,EAAkBV,GAAkBtE,EAASO,IAAuB,IAAfA,EAAIprB,OAAe4vB,EAAiB,KAAOA,EACtG,GAAIzB,GAAoBtD,EAASO,IAAuB,IAAfA,EAAIprB,OACzC,OAAO6vB,EAAkB,KAE7B,IAAK,IAAIxkB,EAAI,EAAGA,EAAIskB,EAAS3vB,SAAUqL,EAAG,CACtC,MAAMlB,EAAMwlB,EAAStkB,GACfnL,EAES,iBAARiK,QAAyC,IAAdA,EAAIjK,MAAwBiK,EAAIjK,MAAQkrB,EAAIjhB,GAC9E,GAAI0kB,GAAuB,OAAV3uB,EACb,SAGJ,MAAM4vB,EAAc5B,GAAaK,EAAkBpkB,EAAI3H,QAAQ,MAAO,OAAS2H,EACzE4lB,EAAalF,EAASO,GACO,mBAAxB8D,EACHA,EAAoBW,EAAiBC,GACnCD,EACJA,GAAmB3B,EAAY,IAAM4B,EAAc,IAAMA,EAAc,KAC7EV,EAAYllB,IAAI+kB,EAAQK,GACxB,MAAMU,EAAmB,IAAIC,QAC7BD,EAAiB9lB,IAAI6kB,EAAUK,GAC/BxB,EAAcltB,EAAQsuB,EAAgB9uB,EAAO6vB,EAAYb,EAAqBC,EAAgBhB,EAAkBW,EAAoBD,EAAWN,EAEvH,UAAxBW,GAAmCT,GAAoB5D,EAASO,GAAO,KAAOoD,EAAS7sB,EAAQK,EAAMksB,EAAWS,EAAexC,EAAQuC,EAAWD,EAAkB9C,EAASqE,GACrL,CACI,OAAOtvB,CACX,QAsHA2sB,GAAA9nB,UAjDA,SAAmB0pB,EAAQ3f,EAAO,IAC9B,IAAI8b,EAAM6D,EACV,MAAMtsB,EAtEV,SAAqC2M,EAAOuY,GACxC,QAAqC,IAA1BvY,EAAK6e,kBAAqE,kBAA1B7e,EAAK6e,iBAC5D,MAAM,IAAI+B,UAAU,0EAExB,QAAoC,IAAzB5gB,EAAKif,iBAAmE,kBAAzBjf,EAAKif,gBAC3D,MAAM,IAAI2B,UAAU,yEAExB,GAAqB,OAAjB5gB,EAAKkf,cAA4C,IAAjBlf,EAAKkf,SAAmD,mBAAjBlf,EAAKkf,QAC5E,MAAM,IAAI0B,UAAU,iCAExB,MAAMvE,EAAUrc,EAAKqc,SAAW9D,EAAS8D,QACzC,QAA4B,IAAjBrc,EAAKqc,SAA4C,UAAjBrc,EAAKqc,SAAwC,eAAjBrc,EAAKqc,QACxE,MAAM,IAAIuE,UAAU,qEAExB,IAAI/D,EAASxB,EAAUV,eACvB,QAA2B,IAAhB3a,EAAK6c,OAAwB,CACpC,IAAK/hB,EAAI8gB,KAAKP,EAAUX,WAAY1a,EAAK6c,QACrC,MAAM,IAAI+D,UAAU,mCAExB/D,EAAS7c,EAAK6c,MACtB,CACI,MAAMuC,EAAY/D,EAAUX,WAAWmC,GACvC,IAIIiC,EAJAzsB,EAASkmB,EAASlmB,OActB,IAb2B,mBAAhB2N,EAAK3N,QAAyBkpB,EAASvb,EAAK3N,WACnDA,EAAS2N,EAAK3N,QAIdysB,EADA9e,EAAK8e,aAAe9e,EAAK8e,eAAeb,EAC1Bje,EAAK8e,YAEd,YAAa9e,EACJA,EAAKqe,QAAU,UAAY,SAG3B9F,EAASuG,YAEvB,mBAAoB9e,GAAuC,kBAAxBA,EAAK6f,eACxC,MAAM,IAAIe,UAAU,iDAExB,MAAMhC,OAAsC,IAAnB5e,EAAK4e,UACC,KAAzB5e,EAAKif,iBAED1G,EAASqG,YACX5e,EAAK4e,UACb,MAAO,CACHD,eAA+C,kBAAxB3e,EAAK2e,eAA+B3e,EAAK2e,eAAiBpG,EAASoG,eAE1FC,UAAWA,EACXC,iBAAmD,kBAA1B7e,EAAK6e,mBAAmC7e,EAAK6e,iBAAmBtG,EAASsG,iBAClGC,YAAaA,EACbzC,QAASA,EACT0C,gBAAiD,kBAAzB/e,EAAK+e,gBAAgC/e,EAAK+e,gBAAkBxG,EAASwG,gBAC7Fc,iBAAkB7f,EAAK6f,eACvBb,eAAqC,IAAnBhf,EAAKgf,UAA4BzG,EAASyG,UAAYhf,EAAKgf,UAC7E9D,OAA+B,kBAAhBlb,EAAKkb,OAAuBlb,EAAKkb,OAAS3C,EAAS2C,OAClE+D,gBAAiD,kBAAzBjf,EAAKif,gBAAgCjf,EAAKif,gBAAkB1G,EAAS0G,gBAC7FC,QAAiC,mBAAjBlf,EAAKkf,QAAyBlf,EAAKkf,QAAU3G,EAAS2G,QACtEC,iBAAmD,kBAA1Bnf,EAAKmf,iBAAiCnf,EAAKmf,iBAAmB5G,EAAS4G,iBAChG9sB,OAAQA,EACRwqB,OAAQA,EACRuC,UAAWA,EACXC,cAA6C,mBAAvBrf,EAAKqf,cAA+Brf,EAAKqf,cAAgB9G,EAAS8G,cACxFE,UAAqC,kBAAnBvf,EAAKuf,UAA0Bvf,EAAKuf,UAAYhH,EAASgH,UAE3E7sB,KAA2B,mBAAdsN,EAAKtN,KAAsBsN,EAAKtN,KAAO,KACpD8sB,mBAAuD,kBAA5Bxf,EAAKwf,mBAAmCxf,EAAKwf,mBAAqBjH,EAASiH,mBAE9G,CAGoBqB,CAA4B7gB,GAC5C,IAAIqgB,EACAhuB,EAC0B,mBAAnBgB,EAAQhB,QACfA,EAASgB,EAAQhB,OACjBypB,EAAMzpB,EAAO,GAAIypB,IAEZP,EAASloB,EAAQhB,UACtBA,EAASgB,EAAQhB,OACjBguB,EAAWhuB,GAEf,MAAM6S,EAAO,GACb,GAAmB,iBAAR4W,GAA4B,OAARA,EAC3B,MAAO,GAEX,MAAM8D,EAAsB3B,EAAwB5qB,EAAQyrB,aACtDe,EAAyC,UAAxBD,GAAmCvsB,EAAQwsB,eAC7DQ,IACDA,EAAWzmB,OAAOsL,KAAK4W,IAEvBzoB,EAAQX,MACR2tB,EAAS3tB,KAAKW,EAAQX,MAE1B,MAAMotB,EAAc,IAAIa,QACxB,IAAK,IAAIroB,EAAI,EAAGA,EAAI+nB,EAAS3vB,SAAU4H,EAAG,CACtC,MAAMuC,EAAMwlB,EAAS/nB,GACjBjF,EAAQksB,WAA0B,OAAbzD,EAAIjhB,IAG7ByjB,EAAcpZ,EAAMwa,EAAgB5D,EAAIjhB,GAAMA,EAE9C+kB,EAAqBC,EAAgBxsB,EAAQwrB,iBAAkBxrB,EAAQmsB,mBAAoBnsB,EAAQksB,UAAWlsB,EAAQ4rB,gBAAiB5rB,EAAQ6nB,OAAS7nB,EAAQ6rB,QAAU,KAAM7rB,EAAQhB,OAAQgB,EAAQX,KAAMW,EAAQurB,UAAWvrB,EAAQgsB,cAAehsB,EAAQwpB,OAAQxpB,EAAQ+rB,UAAW/rB,EAAQ8rB,iBAAkB9rB,EAAQgpB,QAASyD,GAC9U,CACI,MAAMgB,EAAS5b,EAAK3T,KAAK8B,EAAQ2rB,WACjC,IAAIb,GAAoC,IAA3B9qB,EAAQsrB,eAA0B,IAAM,GAWrD,OAVItrB,EAAQ0rB,kBACgB,eAApB1rB,EAAQgpB,QAER8B,GAAU,uBAIVA,GAAU,mBAGX2C,EAAOpwB,OAAS,EAAIytB,EAAS2C,EAAS,EACjD,gDCpRAlnB,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAkBvG,QAAAuG,EAAA9qB,eAAoB,EACtC,MAAMolB,EAAmCvrB,IACnC0qB,EAAU,CACZE,WAAYW,EAAUX,WACtBE,QAASS,EAAUT,QACnBH,QAASY,EAAUZ,QACnBvZ,QAASma,EAAUV,gBAEvBoG,EAAAvG,QAAkBA,EAClB,IAAIuD,EAAuCzhB,KAC3C1C,OAAO2gB,eAAewG,EAAS,YAAa,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO6iB,EAAY9nB,SAAY,6DCXlH2D,OAAO2gB,eAAejN,GAAS,aAAc,CAAE1c,OAAO,IACvC0c,GAAA2T,aAAG,EACH3T,GAAA2T,QAAG,6BCHX,IACIC,GACApH,GACAqH,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAbAC,IAAO,8bAcX,SAAkBC,EAAO1uB,EAAU,CAAEyuB,MAAM,IAC9C,GAAIA,GACA,MAAM,IAAI7yB,MAAM,mCAAmC8yB,EAAMb,sDAE7D,GAAIA,GACA,MAAM,IAAIjyB,MAAM,gCAAgC8yB,EAAMb,wCAAwCA,SAElGY,GAAOzuB,EAAQyuB,KACfZ,GAAOa,EAAMb,KACbpH,GAAQiI,EAAMjI,MACdqH,GAAUY,EAAMZ,QAChBC,GAAWW,EAAMX,SACjBC,GAAUU,EAAMV,QAChBC,GAAWS,EAAMT,SACjBC,GAAOQ,EAAMR,KACbC,GAAOO,EAAMP,KACbC,GAAiBM,EAAMN,eACvBC,GAA6BK,EAAML,2BACnCC,GAAkBI,EAAMJ,gBACxBC,GAAeG,EAAMH,aACrBC,GAAiBE,EAAMF,cAC3B,0DClCAjoB,OAAO2gB,eAAeyH,GAAS,aAAc,CAAEpxB,OAAO,IACjCoxB,GAAAC,mBAAG,EAIxB,IAAAC,EAAA,MACI,WAAAhzB,CAAYizB,GACR3yB,KAAK2yB,KAAOA,CACpB,CACI,IAAKpF,OAAOqF,eACR,MAAO,eACf,UAEAJ,GAAAC,cAAwBA,wCCbxBroB,OAAO2gB,eAAe8H,GAAS,aAAc,CAAEzxB,OAAO,IACpCyxB,GAAAC,gBAAG,EAIrB,MAAMN,EAA+ClyB,YAsErDuyB,GAAAC,WArEA,UAAoBC,iBAAEA,GAAqB,IACvC,MAAMC,EAAiBD,EACnB,gCACE,gLAIN,IAAIE,EAAQC,EAAUC,EAAWC,EACjC,IAEIH,EAAS3I,MAET4I,EAAWvB,QAEXwB,EAAYvB,SAEZwB,EAAWvB,OACnB,CACI,MAAOzxB,GACH,MAAM,IAAIX,MAAM,iEAAiEW,EAAMP,YAAYmzB,IAC3G,CACI,MAAO,CACHtB,KAAM,MACNpH,MAAO2I,EACPtB,QAASuB,EACTtB,SAAUuB,EACVtB,QAASuB,EACTtB,SAEoB,oBAAbA,SAA2BA,SAAQ,MAEtC,WAAApyB,GACI,MAAM,IAAID,MAAM,qFAAqFuzB,IACrH,GAEQjB,KAAsB,oBAATA,KAAuBA,KAAI,MACpC,WAAAryB,GACI,MAAM,IAAID,MAAM,iFAAiFuzB,IACjH,GAEQhB,KAEgB,oBAATA,KAAuBA,KAAI,MAE9B,WAAAtyB,GACI,MAAM,IAAID,MAAM,iFAAiFuzB,IACjH,GAEQf,eAE0B,oBAAnBA,eAAiCA,eAAc,MAElD,WAAAvyB,GACI,MAAM,IAAID,MAAM,uFAAuFuzB,IACvH,GAEQd,2BAA4B5J,MAE5B+K,EAAM7iB,KAAU,IACTA,EACHmiB,KAAM,IAAIH,EAAgBC,cAAcY,KAE5ClB,gBAAkBmB,IAAiB,EACnClB,aAAc,KACV,MAAM,IAAI3yB,MAAM,iJAAiJ,EAErK4yB,eAAiBjxB,IAAU,EAEnC,gDCxEA,MAAMmxB,EAAQjyB,GACRgyB,mCCHFiB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGM,EAAgB9zB,IAAQA,GAAK8zB,cAAiB,SAASnf,EAAG4c,GAC1D,IAAK,IAAIwC,KAAKpf,EAAa,YAANof,GAAoB3pB,OAAO0hB,UAAU7D,eAAemE,KAAKmF,EAASwC,IAAIR,EAAgBhC,EAAS5c,EAAGof,EAC1H,EACD3pB,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IAItD0yB,EAAaxzB,KAA8BixB,aAlBvCgC,EAWAO,EDRShnB,GACRylB,EAAMb,MAAMa,EAAMyB,SAAS1B,EAAKQ,aAAc,CAAER,MAAM,IAC3D,IAAK,MAAM2B,KAAY7pB,OAAOsL,KAAK6c,GACjCnoB,OAAO2gB,eAAewG,EAAS0C,EAAU,CACvCvoB,IAAG,IACM6mB,EAAM0B,8DEPnB7pB,OAAO2gB,eAAe3qB,GAAS,aAAc,CAAEgB,OAAO,IACtDhB,GAAA8zB,+BAAyC9zB,GAAA+zB,wBAAkC/zB,GAAAg0B,oBAA8Bh0B,GAAAi0B,eAAyBj0B,GAAAk0B,yBAAmCl0B,GAAAm0B,cAAwBn0B,GAAAo0B,cAAwBp0B,GAA6Bq0B,sBAAGr0B,GAA2Bs0B,oBAAGt0B,GAAuBu0B,gBAAGv0B,GAAiCw0B,0BAAGx0B,GAA0By0B,mBAAGz0B,GAAyB00B,kBAAG10B,GAAgB20B,SAAG30B,GAAmB40B,iBAAG,EACnb,MAAMC,EAA6B30B,KACnC,MAAM00B,UAAoBv1B,OAE1BW,GAAA40B,YAAsBA,EACtB,MAAMD,UAAiBC,EACnB,WAAAt1B,CAAYw1B,EAAQ90B,EAAOP,EAASs1B,GAChCr1B,MAAM,GAAGi1B,EAASK,YAAYF,EAAQ90B,EAAOP,MAC7CG,KAAKk1B,OAASA,EACdl1B,KAAKm1B,QAAUA,EACfn1B,KAAKq1B,WAAaF,IAAU,gBAC5B,MAAMrP,EAAO1lB,EACbJ,KAAKI,MAAQ0lB,EACb9lB,KAAKJ,KAAOkmB,GAAa,KACzB9lB,KAAKs1B,MAAQxP,GAAc,MAC3B9lB,KAAKu1B,KAAOzP,GAAa,IACjC,CACI,kBAAOsP,CAAYF,EAAQ90B,EAAOP,GAC9B,MAAM21B,EAAMp1B,GAAOP,QACU,iBAAlBO,EAAMP,QACTO,EAAMP,QACJ2G,KAAKC,UAAUrG,EAAMP,SACzBO,EAAQoG,KAAKC,UAAUrG,GACnBP,EACV,OAAIq1B,GAAUM,EACH,GAAGN,KAAUM,IAEpBN,EACO,GAAGA,0BAEVM,GAGG,0BACf,CACI,eAAOC,CAASP,EAAQQ,EAAe71B,EAASs1B,GAC5C,IAAKD,EACD,OAAO,IAAIL,EAAmB,CAAEh1B,UAAS81B,OAAO,EAAIV,EAAOW,aAAaF,KAE5E,MAAMt1B,EAAQs1B,GAAuB,MACrC,OAAe,MAAXR,EACO,IAAIP,EAAgBO,EAAQ90B,EAAOP,EAASs1B,GAExC,MAAXD,EACO,IAAIR,EAAoBQ,EAAQ90B,EAAOP,EAASs1B,GAE5C,MAAXD,EACO,IAAIT,EAAsBS,EAAQ90B,EAAOP,EAASs1B,GAE9C,MAAXD,EACO,IAAIV,EAAcU,EAAQ90B,EAAOP,EAASs1B,GAEtC,MAAXD,EACO,IAAIX,EAAcW,EAAQ90B,EAAOP,EAASs1B,GAEtC,MAAXD,EACO,IAAIZ,EAAyBY,EAAQ90B,EAAOP,EAASs1B,GAEjD,MAAXD,EACO,IAAIb,EAAea,EAAQ90B,EAAOP,EAASs1B,GAElDD,GAAU,IACH,IAAId,EAAoBc,EAAQ90B,EAAOP,EAASs1B,GAEpD,IAAIJ,EAASG,EAAQ90B,EAAOP,EAASs1B,EACpD,EAEA/0B,GAAA20B,SAAmBA,EAOnB30B,GAAA00B,kBANA,cAAgCC,EAC5B,WAAAr1B,EAAYG,QAAEA,GAAY,IACtBC,WAAMK,OAAWA,EAAWN,GAAW,4BAAwBM,GAC/DH,KAAKk1B,YAAS/0B,CACtB,GAGA,MAAM00B,UAA2BE,EAC7B,WAAAr1B,EAAYG,QAAEA,EAAO81B,MAAEA,IACnB71B,WAAMK,OAAWA,EAAWN,GAAW,yBAAqBM,GAC5DH,KAAKk1B,YAAS/0B,EAGVw1B,IACA31B,KAAK21B,MAAQA,EACzB,EAEAv1B,GAAAy0B,mBAA6BA,EAM7Bz0B,GAAAw0B,0BALA,cAAwCC,EACpC,WAAAn1B,EAAYG,QAAEA,GAAY,IACtBC,MAAM,CAAED,QAASA,GAAW,sBACpC,GAGA,MAAM80B,UAAwBI,EAC1B,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAu0B,gBAA0BA,EAC1B,MAAMD,UAA4BK,EAC9B,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAs0B,oBAA8BA,EAC9B,MAAMD,UAA8BM,EAChC,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAq0B,sBAAgCA,EAChC,MAAMD,UAAsBO,EACxB,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAo0B,cAAwBA,EACxB,MAAMD,UAAsBQ,EACxB,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAm0B,cAAwBA,EACxB,MAAMD,UAAiCS,EACnC,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAk0B,yBAAmCA,EACnC,MAAMD,UAAuBU,EACzB,WAAAr1B,GACII,SAAS+Q,WACT7Q,KAAKk1B,OAAS,GACtB,EAEA90B,GAAAi0B,eAAyBA,EACzB,MAAMD,UAA4BW,GAElC30B,GAAAg0B,oBAA8BA,EAM9Bh0B,GAAA+zB,wBALA,cAAsCa,EAClC,WAAAt1B,GACII,MAAM,mEACd,UAQAM,GAAA8zB,+BALA,cAA6Cc,EACzC,WAAAt1B,GACII,MAAM,qFACd,yDC3JAsK,OAAO2gB,eAAeliB,GAAS,aAAc,CAAEzH,OAAO,IACnCyH,GAAAgtB,iBAAG,EACtB,MAAMC,EAAmCx1B,KAOzC,MAAMu1B,EACF,WAAAn2B,GACIM,KAAK+1B,OAAS,GACd/1B,KAAKg2B,YAAa,CAC1B,CACI,MAAArJ,CAAOsJ,GACH,IAAInX,EAAO9e,KAAKk2B,WAAWD,GAS3B,GARIj2B,KAAKg2B,aACLlX,EAAO,KAAOA,EACd9e,KAAKg2B,YAAa,GAElBlX,EAAKqX,SAAS,QACdn2B,KAAKg2B,YAAa,EAClBlX,EAAOA,EAAK7d,MAAM,GAAI,KAErB6d,EACD,MAAO,GAEX,MAAMsX,EAAkBP,EAAYQ,cAAc/qB,IAAIwT,EAAKA,EAAK5d,OAAS,IAAM,IAC/E,IAAIwhB,EAAQ5D,EAAKvV,MAAMssB,EAAYS,gBAMnC,OAHIF,GACA1T,EAAMwL,MAEW,IAAjBxL,EAAMxhB,QAAiBk1B,GAIvBp2B,KAAK+1B,OAAO70B,OAAS,IACrBwhB,EAAQ,CAAC1iB,KAAK+1B,OAAOh0B,KAAK,IAAM2gB,EAAM,MAAOA,EAAMzhB,MAAM,IACzDjB,KAAK+1B,OAAS,IAEbK,IACDp2B,KAAK+1B,OAAS,CAACrT,EAAMwL,OAAS,KAE3BxL,IAVH1iB,KAAK+1B,OAAO9yB,KAAKyf,EAAM,IAChB,GAUnB,CACI,UAAAwT,CAAWK,GACP,GAAa,MAATA,EACA,MAAO,GACX,GAAqB,iBAAVA,EACP,OAAOA,EAEX,GAAsB,oBAAX9X,OAAwB,CAC/B,GAAI8X,aAAiB9X,OACjB,OAAO8X,EAAMtK,WAEjB,GAAIsK,aAAiBC,WACjB,OAAO/X,OAAO1S,KAAKwqB,GAAOtK,WAE9B,MAAM,IAAI6J,EAAQd,YAAY,wCAAwCuB,EAAM72B,YAAYO,wIACpG,CAEQ,GAA2B,oBAAhBw2B,YAA6B,CACpC,GAAIF,aAAiBC,YAAcD,aAAiBG,YAEhD,OADA12B,KAAK22B,cAAgB32B,KAAK22B,YAAc,IAAIF,YAAY,SACjDz2B,KAAK22B,YAAYhK,OAAO4J,GAEnC,MAAM,IAAIT,EAAQd,YAAY,oDAAoDuB,EAAM72B,YAAYO,qDAChH,CACQ,MAAM,IAAI61B,EAAQd,YAAY,iGACtC,CACI,KAAA4B,GACI,IAAK52B,KAAK+1B,OAAO70B,SAAWlB,KAAKg2B,WAC7B,MAAO,GAEX,MAAMtT,EAAQ,CAAC1iB,KAAK+1B,OAAOh0B,KAAK,KAGhC,OAFA/B,KAAK+1B,OAAS,GACd/1B,KAAKg2B,YAAa,EACXtT,CACf,SAEA7Z,GAAAgtB,YAAsBA,EAEtBA,EAAYQ,cAAgB,IAAIlrB,IAAI,CAAC,KAAM,OAC3C0qB,EAAYS,eAAiB,qDCrF7BlsB,OAAO2gB,eAAe8L,GAAS,aAAc,CAAEz1B,OAAO,IACnBy1B,GAAAC,4BAAGD,iBAAwBA,GAAAE,iBAA2BF,GAAcG,YAAG,EAC1G,MAAMC,EAAU32B,KACVw1B,EAA+BhpB,KAC/BoqB,EAA+ClqB,KAC/CmqB,EAA+BrqB,KACrC,MAAMkqB,EACF,WAAAt3B,CAAY03B,EAAUC,GAClBr3B,KAAKo3B,SAAWA,EAChBp3B,KAAKq3B,WAAaA,CAC1B,CACI,sBAAOC,CAAgB/M,EAAU8M,GAC7B,IAAIE,GAAW,EA6Df,OAAO,IAAIP,GA5DX1O,kBACI,GAAIiP,EACA,MAAM,IAAI93B,MAAM,4EAEpB83B,GAAW,EACX,IAAIC,GAAO,EACX,IACI,UAAW,MAAMC,KAAOV,EAAiBxM,EAAU8M,GAC/C,IAAIG,EAEJ,GAAIC,EAAI3R,KAAKnc,WAAW,UACpB6tB,GAAO,OAGX,GAAkB,OAAdC,EAAIllB,MAAgB,CACpB,IAAIuT,EACJ,IACIA,EAAOtf,KAAKgQ,MAAMihB,EAAI3R,KAClD,CACwB,MAAOmH,GAGH,MAFA7C,QAAQhqB,MAAM,qCAAsCq3B,EAAI3R,MACxDsE,QAAQhqB,MAAM,cAAeq3B,EAAIC,KAC3BzK,CAClC,CACwB,GAAInH,GAAQA,EAAK1lB,MACb,MAAM,IAAI+2B,EAAQpC,cAAS50B,EAAW2lB,EAAK1lB,WAAOD,OAAWA,SAE3D2lB,CAC9B,KACyB,CACD,IAAIA,EACJ,IACIA,EAAOtf,KAAKgQ,MAAMihB,EAAI3R,KAClD,CACwB,MAAOmH,GAGH,MAFA7C,QAAQhqB,MAAM,qCAAsCq3B,EAAI3R,MACxDsE,QAAQhqB,MAAM,cAAeq3B,EAAIC,KAC3BzK,CAClC,CAEwB,GAAiB,SAAbwK,EAAIllB,MACJ,MAAM,IAAI4kB,EAAQpC,cAAS50B,EAAW2lB,EAAK1lB,MAAO0lB,EAAKjmB,aAASM,QAE9D,CAAEoS,MAAOklB,EAAIllB,MAAOuT,KAAMA,EACxD,CAEgB0R,GAAO,CACvB,CACY,MAAOvK,GAEH,GAAIA,aAAaxtB,OAAoB,eAAXwtB,EAAEhtB,KACxB,OACJ,MAAMgtB,CACtB,CACoB,QAECuK,GACDH,EAAWM,OAC/B,CACA,GACoCN,EACpC,CAKI,yBAAOO,CAAmBC,EAAgBR,GACtC,IAAIE,GAAW,EAwCf,OAAO,IAAIP,GA3BX1O,kBACI,GAAIiP,EACA,MAAM,IAAI93B,MAAM,4EAEpB83B,GAAW,EACX,IAAIC,GAAO,EACX,IACI,UAAW,MAAM3uB,KAnBzByf,kBACI,MAAMwP,EAAc,IAAIZ,EAAOrB,YACzBkC,EAAOjB,EAA4Be,GACzC,UAAW,MAAM5B,KAAS8B,EACtB,IAAK,MAAMlvB,KAAQivB,EAAYnL,OAAOsJ,SAC5BptB,EAGd,IAAK,MAAMA,KAAQivB,EAAYlB,cACrB/tB,CAEtB,CAQyCmvB,GACjBR,GAEA3uB,UACMrC,KAAKgQ,MAAM3N,IAEzB2uB,GAAO,CACvB,CACY,MAAOvK,GAEH,GAAIA,aAAaxtB,OAAoB,eAAXwtB,EAAEhtB,KACxB,OACJ,MAAMgtB,CACtB,CACoB,QAECuK,GACDH,EAAWM,OAC/B,CACA,GACoCN,EACpC,CACI,CAAC9J,OAAO0K,iBACJ,OAAOj4B,KAAKo3B,UACpB,CAKI,GAAAc,GACI,MAAMC,EAAO,GACPC,EAAQ,GACRhB,EAAWp3B,KAAKo3B,WAChBiB,EAAetK,IACV,CACH1F,KAAM,KACF,GAAqB,IAAjB0F,EAAM7sB,OAAc,CACpB,MAAMiP,EAASinB,EAAS/O,OACxB8P,EAAKl1B,KAAKkN,GACVioB,EAAMn1B,KAAKkN,EACnC,CACoB,OAAO4d,EAAMvkB,OAAO,IAIhC,MAAO,CACH,IAAIwtB,GAAO,IAAMqB,EAAYF,IAAOn4B,KAAKq3B,YACzC,IAAIL,GAAO,IAAMqB,EAAYD,IAAQp4B,KAAKq3B,YAEtD,CAMI,gBAAAiB,GACI,MAAMC,EAAOv4B,KACb,IAAI+3B,EACJ,MAAMrI,EAAU,IAAI8I,YACpB,OAAO,IAAIvB,EAAQhF,eAAe,CAC9B,WAAMwG,GACFV,EAAOQ,EAAKhL,OAAO0K,gBACtB,EACD,UAAMS,CAAKC,GACP,IACI,MAAMv3B,MAAEA,EAAKo2B,KAAEA,SAAeO,EAAK1P,OACnC,GAAImP,EACA,OAAOmB,EAAKC,QAChB,MAAMrC,EAAQ7G,EAAQhE,OAAOllB,KAAKC,UAAUrF,GAAS,MACrDu3B,EAAKE,QAAQtC,EACjC,CACgB,MAAO5jB,GACHgmB,EAAKv4B,MAAMuS,EAC/B,CACa,EACD,YAAMmmB,SACIf,EAAKgB,WACd,GAEb,EAGAzQ,eAAgByO,EAAiBxM,EAAU8M,GACvC,IAAK9M,EAASoI,KAEV,MADA0E,EAAWM,QACL,IAAI7B,EAAQd,YAAY,qDAElC,MAAMgE,EAAa,IAAIC,EACjBnB,EAAc,IAAIZ,EAAOrB,YACzBkC,EAAOjB,EAA4BvM,EAASoI,MAClD,UAAW,MAAMuG,KAkBrB5Q,gBAA8B8O,GAC1B,IAAItR,EAAO,IAAI0Q,WACf,UAAW,MAAMP,KAASmB,EAAU,CAChC,GAAa,MAATnB,EACA,SAEJ,MAAMkD,EAAclD,aAAiBS,YAAc,IAAIF,WAAWP,GAC3C,iBAAVA,GAAqB,IAAIuC,aAAc9M,OAAOuK,GACjDA,EACV,IAIImD,EAJAC,EAAU,IAAI7C,WAAW1Q,EAAK5kB,OAASi4B,EAAYj4B,QAKvD,IAJAm4B,EAAQjuB,IAAI0a,GACZuT,EAAQjuB,IAAI+tB,EAAarT,EAAK5kB,QAC9B4kB,EAAOuT,GAEmD,KAAlDD,EAAeE,EAAuBxT,WACpCA,EAAK7kB,MAAM,EAAGm4B,GACpBtT,EAAOA,EAAK7kB,MAAMm4B,EAE9B,CACQtT,EAAK5kB,OAAS,UACR4kB,EAEd,CAxCiCyT,CAAcxB,GACvC,IAAK,MAAMlvB,KAAQivB,EAAYnL,OAAOuM,GAAW,CAC7C,MAAMzB,EAAMuB,EAAWrM,OAAO9jB,GAC1B4uB,UACMA,EACtB,CAEI,IAAK,MAAM5uB,KAAQivB,EAAYlB,QAAS,CACpC,MAAMa,EAAMuB,EAAWrM,OAAO9jB,GAC1B4uB,UACMA,EAClB,CACA,CA6BA,SAAS6B,EAAuBvD,GAM5B,IAAK,IAAIjtB,EAAI,EAAGA,EAAIitB,EAAO70B,OAAS,EAAG4H,IAAK,CACxC,GAHY,KAGRitB,EAAOjtB,IAHC,KAGiBitB,EAAOjtB,EAAI,GAEpC,OAAOA,EAAI,EAEf,GANa,KAMTitB,EAAOjtB,IANE,KAMiBitB,EAAOjtB,EAAI,GAErC,OAAOA,EAAI,EAEf,GAVa,KAUTitB,EAAOjtB,IAXC,KAYRitB,EAAOjtB,EAAI,IACXA,EAAI,EAAIitB,EAAO70B,QAZN,KAaT60B,EAAOjtB,EAAI,IAdH,KAeRitB,EAAOjtB,EAAI,GAEX,OAAOA,EAAI,CAEvB,CACI,OAAQ,CACZ,CA3EA+tB,GAAAG,OAAiBA,EAsBjBH,GAAAE,iBAA2BA,EAsD3B,MAAMkC,EACF,WAAAv5B,GACIM,KAAKuS,MAAQ,KACbvS,KAAK8lB,KAAO,GACZ9lB,KAAKw5B,OAAS,EACtB,CACI,MAAA7M,CAAO9jB,GAIH,GAHIA,EAAKstB,SAAS,QACdttB,EAAOA,EAAK2X,UAAU,EAAG3X,EAAK3H,OAAS,KAEtC2H,EAAM,CAEP,IAAK7I,KAAKuS,QAAUvS,KAAK8lB,KAAK5kB,OAC1B,OAAO,KACX,MAAMu2B,EAAM,CACRllB,MAAOvS,KAAKuS,MACZuT,KAAM9lB,KAAK8lB,KAAK/jB,KAAK,MACrB21B,IAAK13B,KAAKw5B,QAKd,OAHAx5B,KAAKuS,MAAQ,KACbvS,KAAK8lB,KAAO,GACZ9lB,KAAKw5B,OAAS,GACP/B,CACnB,CAEQ,GADAz3B,KAAKw5B,OAAOv2B,KAAK4F,GACbA,EAAKc,WAAW,KAChB,OAAO,KAEX,IAAK8vB,EAAW7M,EAAGxrB,GAuB3B,SAAmB4G,EAAKwnB,GACpB,MAAMvV,EAAQjS,EAAIkU,QAAQsT,GAC1B,IAAe,IAAXvV,EACA,MAAO,CAACjS,EAAIwY,UAAU,EAAGvG,GAAQuV,EAAWxnB,EAAIwY,UAAUvG,EAAQuV,EAAUtuB,SAEhF,MAAO,CAAC8G,EAAK,GAAI,GACrB,CA7BoC0xB,CAAU7wB,EAAM,KAU5C,OATIzH,EAAMuI,WAAW,OACjBvI,EAAQA,EAAMof,UAAU,IAEV,UAAdiZ,EACAz5B,KAAKuS,MAAQnR,EAEM,SAAdq4B,GACLz5B,KAAK8lB,KAAK7iB,KAAK7B,GAEZ,IACf,EAyBA,SAAS01B,EAA4B6C,GACjC,GAAIA,EAAOpM,OAAO0K,eACd,OAAO0B,EACX,MAAMC,EAASD,EAAOE,YACtB,MAAO,CACH,UAAMxR,GACF,IACI,MAAMlY,QAAeypB,EAAOE,OAG5B,OAFI3pB,GAAQqnB,MACRoC,EAAOG,cACJ5pB,CACvB,CACY,MAAO8c,GAEH,MADA2M,EAAOG,cACD9M,CACtB,CACS,EACD,YAAM,GACF,MAAM+M,EAAgBJ,EAAOd,SAG7B,OAFAc,EAAOG,oBACDC,EACC,CAAExC,MAAM,EAAMp2B,WAAOjB,EAC/B,EACD,CAACotB,OAAO0K,iBACJ,OAAOj4B,IACV,EAET,QAzCA62B,GAAAoD,cARA,SAAuBT,GACnB,MAAMU,EAAU,IAAIhD,EAAOrB,YACrBnT,EAAQ,GACd,IAAK,MAAMuT,KAASuD,EAChB9W,EAAMzf,QAAQi3B,EAAQvN,OAAOsJ,IAEjC,OAAOvT,CACX,EA2CAmU,GAAAC,4BAAsCA,gEC7VtC1sB,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAqB4I,WAAA5I,EAAA6I,4BAAsC7I,EAA2C8I,iCAAA9I,EAAA+I,gBAA0B/I,EAAiBgJ,OAAAhJ,EAAAiJ,aAAuBjJ,aAAqBA,EAAqBkJ,WAAAlJ,EAAAmJ,eAAyBnJ,EAAuBa,kBAAA,EAClQ,MAAM6E,EAAU32B,KAChB,IAAIq6B,EAAUr6B,KACd8J,OAAO2gB,eAAewG,EAAS,eAAgB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOivB,EAAQvI,YAAe,IAKpHb,EAAAmJ,eAJwBt5B,GAAmB,MAATA,GACb,iBAAVA,GACc,iBAAdA,EAAMkyB,KACS,mBAAflyB,EAAMw5B,KAOjBrJ,EAAAkJ,WALoBr5B,GAAmB,MAATA,GACT,iBAAVA,GACe,iBAAfA,EAAMnB,MACiB,iBAAvBmB,EAAMy5B,eACb,EAAItJ,EAAQuJ,YAAY15B,GAa5BmwB,EAAAuJ,WAPoB15B,GAAmB,MAATA,GACT,iBAAVA,GACe,iBAAfA,EAAM25B,MACS,iBAAf35B,EAAMm0B,MACS,mBAAfn0B,EAAM0d,MACU,mBAAhB1d,EAAMH,OACgB,mBAAtBG,EAAM45B,YAejB1S,eAAeiS,EAAOn5B,EAAOnB,EAAM4D,GAI/B,GAFAzC,QAAcA,GAEV,EAAImwB,EAAQkJ,YAAYr5B,GACxB,OAAOA,EAEX,IAAI,EAAImwB,EAAQmJ,gBAAgBt5B,GAAQ,CACpC,MAAMw5B,QAAax5B,EAAMw5B,OACzB36B,IAASA,EAAO,IAAIg7B,IAAI75B,EAAMkyB,KAAK4H,SAAS3xB,MAAM,SAAS2kB,OAAS,gBAIpE,MAAMpI,GAAO,EAAIyL,EAAQuJ,YAAYF,GAAQ,OAAQA,EAAKI,eAAkB,CAACJ,GAC7E,OAAO,IAAI3D,EAAQjF,KAAKlM,EAAM7lB,EAAM4D,EAC5C,CACI,MAAMs3B,QAWV7S,eAAwBlnB,GACpB,IAAIg6B,EAAQ,GACZ,GAAqB,iBAAVh6B,GACPs1B,YAAY2E,OAAOj6B,IACnBA,aAAiBs1B,YACjB0E,EAAMn4B,KAAK7B,QAEV,IAAI,EAAImwB,EAAQuJ,YAAY15B,GAC7Bg6B,EAAMn4B,WAAW7B,EAAM45B,mBAEtB,KAAIM,EAAwBl6B,GAO7B,MAAM,IAAI3B,MAAM,gCAAgC2B,mBAAuBA,GAAO1B,aACxEO,gBAId,SAAuBmB,GACnB,MAAM2mB,EAAQ3d,OAAOmxB,oBAAoBn6B,GACzC,MAAO,IAAI2mB,EAAM/iB,KAAK+uB,GAAM,IAAIA,OAAMhyB,KAAK,QAC/C,CAP8By5B,CAAcp6B,MANpC,UAAW,MAAM60B,KAAS70B,EACtBg6B,EAAMn4B,KAAKgzB,EAMvB,CACI,OAAOmF,CACX,CAhCuBK,CAASr6B,GAE5B,GADAnB,IAASA,EAoCb,SAAiBmB,GACb,OAAQs6B,EAAyBt6B,EAAMnB,OACnCy7B,EAAyBt6B,EAAM+c,WAE/Bud,EAAyBt6B,EAAM2L,OAAOxD,MAAM,SAAS2kB,KAC7D,CAzCoByN,CAAQv6B,IAAU,iBAC7ByC,GAAS0xB,KAAM,CAChB,MAAMA,EAAO4F,EAAK,IAAI5F,KACF,iBAATA,IACP1xB,EAAU,IAAKA,EAAS0xB,QAEpC,CACI,OAAO,IAAI0B,EAAQjF,KAAKmJ,EAAMl7B,EAAM4D,EACxC,CAnCA0tB,EAAAiJ,aAHsBp5B,IACX,EAAImwB,EAAQkJ,YAAYr5B,KAAU,EAAImwB,EAAQmJ,gBAAgBt5B,KAAU,EAAI61B,EAAQ5E,gBAAgBjxB,GAsC/GmwB,EAAAgJ,OAAiBA,EAiCjB,MAAMmB,EAA4BE,GACb,iBAANA,EACAA,EACW,oBAAXnd,QAA0Bmd,aAAand,OACvC4M,OAAOuQ,QADlB,EAIEN,EAA2Bl6B,GAAmB,MAATA,GAAkC,iBAAVA,GAA6D,mBAAhCA,EAAMmsB,OAAO0K,eAE7G1G,EAAA+I,gBADyB3H,GAASA,GAAwB,iBAATA,GAAqBA,EAAKA,MAAqC,kBAA7BA,EAAKpF,OAAOqF,aAY/FrB,EAAA8I,iCANyC/R,MAAO9X,IAC5C,IAAKqrB,EAAmBrrB,EAAKmiB,MACzB,OAAOniB,EACX,MAAM6iB,QAAa,EAAI9B,EAAQ4I,YAAY3pB,EAAKmiB,MAChD,OAAO,EAAIsE,EAAQ/E,4BAA4BmB,EAAM7iB,EAAK,EAO9D+gB,EAAA6I,4BAJoC9R,MAAO9X,IACvC,MAAM6iB,QAAa,EAAI9B,EAAQ4I,YAAY3pB,EAAKmiB,MAChD,OAAO,EAAIsE,EAAQ/E,4BAA4BmB,EAAM7iB,EAAK,EAQ9D+gB,EAAA4I,WALmB7R,MAAOqK,IACtB,MAAMU,EAAO,IAAI4D,EAAQnF,SAEzB,aADMvJ,QAAQuT,IAAI1xB,OAAO2xB,QAAQpJ,GAAQ,CAAE,GAAE3tB,KAAI,EAAEqG,EAAKjK,KAAW46B,EAAa3I,EAAMhoB,EAAKjK,MACpFiyB,CAAI,EAGf,MAAMwI,EAAsBz6B,IACxB,IAAI,EAAImwB,EAAQiJ,cAAcp5B,GAC1B,OAAO,EACX,GAAIE,MAAMC,QAAQH,GACd,OAAOA,EAAM66B,KAAKJ,GACtB,GAAIz6B,GAA0B,iBAAVA,EAChB,IAAK,MAAMoyB,KAAKpyB,EACZ,GAAIy6B,EAAmBz6B,EAAMoyB,IACzB,OAAO,EAGnB,OAAO,CAAK,EAEVwI,EAAe1T,MAAO+K,EAAMhoB,EAAKjK,KACnC,QAAcjB,IAAViB,EAAJ,CAEA,GAAa,MAATA,EACA,MAAM,IAAIgwB,UAAU,sBAAsB/lB,gEAG9C,GAAqB,iBAAVjK,GAAuC,iBAAVA,GAAuC,kBAAVA,EACjEiyB,EAAK6I,OAAO7wB,EAAKggB,OAAOjqB,SAEvB,IAAI,EAAImwB,EAAQiJ,cAAcp5B,GAAQ,CACvC,MAAM+6B,QAAa5B,EAAOn5B,GAC1BiyB,EAAK6I,OAAO7wB,EAAK8wB,EACzB,MACS,GAAI76B,MAAMC,QAAQH,SACbmnB,QAAQuT,IAAI16B,EAAM4D,KAAKo3B,GAAUJ,EAAa3I,EAAMhoB,EAAM,KAAM+wB,UAErE,IAAqB,iBAAVh7B,EAIZ,MAAM,IAAIgwB,UAAU,wGAAwGhwB,mBAHtHmnB,QAAQuT,IAAI1xB,OAAO2xB,QAAQ36B,GAAO4D,KAAI,EAAE/E,EAAM0nB,KAAUqU,EAAa3I,EAAM,GAAGhoB,KAAOpL,KAAS0nB,KAI5G,CApBQ,CAoBR,sDCvKA,IAWI0U,EAXAC,EAA0Bt8B,IAAQA,GAAKs8B,wBAA2B,SAAUC,EAAUC,EAAOp7B,EAAOswB,EAAM+K,GAC1G,GAAa,MAAT/K,EAAc,MAAM,IAAIN,UAAU,kCACtC,GAAa,MAATM,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,2EACvG,MAAiB,MAATM,EAAe+K,EAAErQ,KAAKmQ,EAAUn7B,GAASq7B,EAAIA,EAAEr7B,MAAQA,EAAQo7B,EAAMpxB,IAAImxB,EAAUn7B,GAASA,CACvG,EACGs7B,EAA0B18B,IAAQA,GAAK08B,wBAA2B,SAAUH,EAAUC,EAAO9K,EAAM+K,GACnG,GAAa,MAAT/K,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,4EACvG,MAAgB,MAATM,EAAe+K,EAAa,MAAT/K,EAAe+K,EAAErQ,KAAKmQ,GAAYE,EAAIA,EAAEr7B,MAAQo7B,EAAM9wB,IAAI6wB,EACvF,EAEDnyB,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAAoL,MAAgBpL,EAAmBqL,SAAArL,EAAAsL,UAAoBtL,EAA4BuL,kBAAAvL,EAAAwL,kBAA4BxL,EAA6ByL,mBAAAzL,EAAA0L,MAAgB1L,EAAiB2L,OAAA3L,EAAA4L,WAAqB5L,EAA6B6L,mBAAA7L,EAAA8L,iBAA2B9L,EAA6B+L,mBAAA/L,EAAAgM,cAAwBhM,EAAsBiM,YAAAjM,EAAAkM,cAAwBlM,EAAkBmM,QAAAnM,EAAAoM,cAAwBpM,EAAsBqE,YAAArE,EAAAqM,MAAgBrM,EAAmBsM,SAAAtM,EAAAuM,iBAA2BvM,EAAgCwM,sBAAAxM,EAAAyM,YAAsBzM,EAAuB0M,aAAA1M,EAAA2M,UAAoB3M,EAAqB4M,WAAA5M,EAAA4I,WAAqB5I,EAAsC6I,4BAAA7I,EAAA8I,sCAA2C,EACvrB,MAAM+D,EAAmC99B,KACnC+9B,EAAuCvxB,KACvCgpB,EAA+B9oB,KAC/BiqB,EAAU/pB,KACVoxB,EAAmClxB,KACzC,IAAImxB,EAAmCnxB,KAIvCkb,eAAekW,EAAqBzW,GAChC,MAAMwC,SAAEA,GAAaxC,EACrB,GAAIA,EAAMlkB,QAAQ81B,OAId,OAHAsD,EAAM,WAAY1S,EAAS2K,OAAQ3K,EAAS+I,IAAK/I,EAAS4K,QAAS5K,EAASoI,MAGxE5K,EAAMlkB,QAAQ46B,cACP1W,EAAMlkB,QAAQ46B,cAAcnH,gBAAgB/M,EAAUxC,EAAMsP,YAEhEgH,EAAYrH,OAAOM,gBAAgB/M,EAAUxC,EAAMsP,YAG9D,GAAwB,MAApB9M,EAAS2K,OACT,OAAO,KAEX,GAAInN,EAAMlkB,QAAQ66B,iBACd,OAAOnU,EAEX,MAAMoU,EAAcpU,EAAS4K,QAAQzpB,IAAI,gBAEzC,GADeizB,GAAa78B,SAAS,qBAAuB68B,GAAa78B,SAAS,4BACtE,CACR,MAAM88B,QAAarU,EAASqU,OAE5B,OADA3B,EAAM,WAAY1S,EAAS2K,OAAQ3K,EAAS+I,IAAK/I,EAAS4K,QAASyJ,GAC5DC,EAAcD,EAAMrU,EACnC,CACI,MAAMzL,QAAayL,EAASzL,OAG5B,OAFAme,EAAM,WAAY1S,EAAS2K,OAAQ3K,EAAS+I,IAAK/I,EAAS4K,QAASrW,GAE5DA,CACX,CACA,SAAS+f,EAAcz9B,EAAOmpB,GAC1B,OAAKnpB,GAA0B,iBAAVA,GAAsBE,MAAMC,QAAQH,GAC9CA,EAEJgJ,OAAO2gB,eAAe3pB,EAAO,cAAe,CAC/CA,MAAOmpB,EAAS4K,QAAQzpB,IAAI,gBAC5B8lB,YAAY,GAEpB,CAzCApnB,OAAO2gB,eAAewG,EAAS,mCAAoC,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO6yB,EAAUlE,gCAAmC,IAC9JjwB,OAAO2gB,eAAewG,EAAS,8BAA+B,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO6yB,EAAUnE,2BAA8B,IACpJhwB,OAAO2gB,eAAewG,EAAS,aAAc,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO6yB,EAAUpE,UAAa,IA4ClH,MAAMgE,UAAmB5V,QACrB,WAAA7oB,CAAYo/B,EAAiBC,EAAgBP,GACzC1+B,OAAOqX,IAIHA,EAAQ,KAAK,IAEjBnX,KAAK8+B,gBAAkBA,EACvB9+B,KAAK++B,cAAgBA,CAC7B,CACI,WAAAC,CAAYC,GACR,OAAO,IAAId,EAAWn+B,KAAK8+B,iBAAiBxW,MAAOP,GAAU8W,EAAcI,QAAgBj/B,KAAK++B,cAAchX,GAAQA,GAAQA,EAAMwC,WAC5I,CAcI,UAAA2U,GACI,OAAOl/B,KAAK8+B,gBAAgBzkB,MAAM0Z,GAAMA,EAAExJ,UAClD,CAgBI,kBAAM4U,GACF,MAAOrZ,EAAMyE,SAAkBhC,QAAQuT,IAAI,CAAC97B,KAAKwW,QAASxW,KAAKk/B,eAC/D,MAAO,CAAEpZ,OAAMyE,WAAU8K,WAAY9K,EAAS4K,QAAQzpB,IAAI,gBAClE,CACI,KAAA8K,GAII,OAHKxW,KAAKo/B,gBACNp/B,KAAKo/B,cAAgBp/B,KAAK8+B,gBAAgBzkB,KAAKra,KAAK++B,gBAEjD/+B,KAAKo/B,aACpB,CACI,IAAA/kB,CAAKglB,EAAaC,GACd,OAAOt/B,KAAKwW,QAAQ6D,KAAKglB,EAAaC,EAC9C,CACI,MAAMA,GACF,OAAOt/B,KAAKwW,QAAQiU,MAAM6U,EAClC,CACI,QAAQC,GACJ,OAAOv/B,KAAKwW,QAAQgpB,QAAQD,EACpC,EAEAhO,EAAA4M,WAAqBA,EAiUrB5M,EAAA2M,UAhUA,MACI,WAAAx+B,EAAY+/B,QAAEA,EAAOC,WAAEA,EAAa,EAACC,QAAEA,EAAU,IAAMC,UACvDA,EAAWtV,MAAOuV,IACd7/B,KAAKy/B,QAAUA,EACfz/B,KAAK0/B,WAAaI,EAAwB,aAAcJ,GACxD1/B,KAAK2/B,QAAUG,EAAwB,UAAWH,GAClD3/B,KAAK4/B,UAAYA,EACjB5/B,KAAKsqB,MAAQuV,GAAkB5I,EAAQ3M,KAC/C,CACI,WAAAyV,CAAYvvB,GACR,MAAO,CAAE,CACjB,CASI,cAAAwvB,CAAexvB,GACX,MAAO,CACHyvB,OAAQ,mBACR,eAAgB,mBAChB,aAAcjgC,KAAKkgC,kBAChBC,OACAngC,KAAK+/B,YAAYvvB,GAEhC,CAII,eAAA4vB,CAAgBjL,EAASkL,GAAe,CACxC,qBAAAC,GACI,MAAO,wBAAwBC,KACvC,CACI,GAAA70B,CAAIqB,EAAMyD,GACN,OAAOxQ,KAAKwgC,cAAc,MAAOzzB,EAAMyD,EAC/C,CACI,IAAAiwB,CAAK1zB,EAAMyD,GACP,OAAOxQ,KAAKwgC,cAAc,OAAQzzB,EAAMyD,EAChD,CACI,KAAAkwB,CAAM3zB,EAAMyD,GACR,OAAOxQ,KAAKwgC,cAAc,QAASzzB,EAAMyD,EACjD,CACI,GAAAmwB,CAAI5zB,EAAMyD,GACN,OAAOxQ,KAAKwgC,cAAc,MAAOzzB,EAAMyD,EAC/C,CACI,OAAOzD,EAAMyD,GACT,OAAOxQ,KAAKwgC,cAAc,SAAUzzB,EAAMyD,EAClD,CACI,aAAAgwB,CAAcI,EAAQ7zB,EAAMyD,GACxB,OAAOxQ,KAAK6gC,QAAQtY,QAAQpR,QAAQ3G,GAAM6J,MAAKiO,MAAO9X,IAClD,MAAMmiB,EAAOniB,IAAQ,EAAI8tB,EAAUxD,YAAYtqB,GAAMmiB,MAAQ,IAAImO,eAAetwB,EAAKmiB,KAAKqI,eACpFxqB,GAAMmiB,gBAAgBmO,SAAWtwB,EAAKmiB,KAClCniB,GAAMmiB,gBAAgB+D,YAAc,IAAIoK,SAAStwB,EAAKmiB,MAClDniB,GAAQkmB,YAAY2E,OAAO7qB,GAAMmiB,MAAQ,IAAImO,SAAStwB,EAAKmiB,KAAKoD,QAC5DvlB,GAAMmiB,KACxB,MAAO,CAAEiO,SAAQ7zB,UAASyD,EAAMmiB,OAAM,IAElD,CACI,UAAAoO,CAAWh0B,EAAMi0B,EAAMxwB,GACnB,OAAOxQ,KAAKihC,eAAeD,EAAM,CAAEJ,OAAQ,MAAO7zB,UAASyD,GACnE,CACI,sBAAA0wB,CAAuBvO,GACnB,GAAoB,iBAATA,EAAmB,CAC1B,GAAsB,oBAAXlU,OACP,OAAOA,OAAO0iB,WAAWxO,EAAM,QAAQ1G,WAE3C,GAA2B,oBAAhBuM,YAA6B,CAGpC,OAFgB,IAAIA,aACI9M,OAAOiH,GAChBzxB,OAAO+qB,UACtC,CACA,MACa,GAAIyK,YAAY2E,OAAO1I,GACxB,OAAOA,EAAKwO,WAAWlV,WAE3B,OAAO,IACf,CACI,YAAAmV,CAAav9B,GAASw9B,WAAEA,EAAa,GAAM,CAAA,GACvC,MAAMT,OAAEA,EAAM7zB,KAAEA,EAAIu0B,MAAEA,EAAOnM,QAASA,EAAU,CAAE,GAAKtxB,EACjD8uB,EAAO+D,YAAY2E,OAAOx3B,EAAQ8uB,OAAU9uB,EAAQ09B,iBAA2C,iBAAjB19B,EAAQ8uB,KACxF9uB,EAAQ8uB,MACN,EAAI2L,EAAUhE,iBAAiBz2B,EAAQ8uB,MAAQ9uB,EAAQ8uB,KAAKA,KACxD9uB,EAAQ8uB,KAAOnsB,KAAKC,UAAU5C,EAAQ8uB,KAAM,KAAM,GAC9C,KACR6O,EAAgBxhC,KAAKkhC,uBAAuBvO,GAC5CW,EAAMtzB,KAAKyhC,SAAS10B,EAAMu0B,GAC5B,YAAaz9B,GACbi8B,EAAwB,UAAWj8B,EAAQ87B,SAC/C,MAAMA,EAAU97B,EAAQ87B,SAAW3/B,KAAK2/B,QAClCC,EAAY/7B,EAAQ+7B,WAAa5/B,KAAK4/B,YAAa,EAAI3I,EAAQ9E,iBAAiBmB,GAChFoO,EAAkB/B,EAAU,IACS,iBAAhCC,GAAW/7B,SAAS87B,SAC3B+B,GAAmB9B,EAAU/7B,QAAQ87B,SAAW,KAKhDC,EAAU/7B,QAAQ87B,QAAU+B,GAE5B1hC,KAAK2hC,mBAAgC,QAAXf,IACrB/8B,EAAQ+9B,iBACT/9B,EAAQ+9B,eAAiB5hC,KAAKsgC,yBAClCnL,EAAQn1B,KAAK2hC,mBAAqB99B,EAAQ+9B,gBAY9C,MAAO,CAAEC,IATG,CACRjB,YACIjO,GAAQ,CAAEA,KAAMA,GACpBwC,QAJen1B,KAAK8hC,aAAa,CAAEj+B,UAASsxB,UAASqM,gBAAeH,kBAKhEzB,GAAa,CAAEmC,MAAOnC,GAG1BnnB,OAAQ5U,EAAQ4U,QAAU,MAEhB6a,MAAKqM,UAC3B,CACI,YAAAmC,EAAaj+B,QAAEA,EAAOsxB,QAAEA,EAAOqM,cAAEA,EAAaH,WAAEA,IAC5C,MAAMW,EAAa,CAAE,EACjBR,IACAQ,EAAW,kBAAoBR,GAEnC,MAAMxB,EAAiBhgC,KAAKggC,eAAen8B,GAe3C,OAdAo+B,EAAgBD,EAAYhC,GAC5BiC,EAAgBD,EAAY7M,IAExB,EAAImJ,EAAUhE,iBAAiBz2B,EAAQ8uB,OAA0B,SAAjBsE,EAAQvF,aACjDsQ,EAAW,qBAKoD7hC,KAAtE,EAAIoxB,EAAQsL,WAAWmD,EAAgB,iCACwB7/B,KAA/D,EAAIoxB,EAAQsL,WAAW1H,EAAS,6BAChC6M,EAAW,2BAA6B3W,OAAOgW,IAEnDrhC,KAAKogC,gBAAgB4B,EAAY7M,GAC1B6M,CACf,CAII,oBAAME,CAAer+B,GAAS,CAO9B,oBAAMs+B,CAAetB,GAASvN,IAAEA,EAAGzvB,QAAEA,IAAW,CAChD,YAAAu+B,CAAajN,GACT,OAASA,EACH5H,OAAO6J,YAAYjC,EACjB/qB,OAAOi4B,YAAY/gC,MAAMyK,KAAKopB,GAASnwB,KAAKs9B,GAAW,IAAIA,MACzD,IAAKnN,GAHI,CAAA,CAI3B,CACI,eAAAoN,CAAgBrN,EAAQ90B,EAAOP,EAASs1B,GACpC,OAAOW,EAAQf,SAASU,SAASP,EAAQ90B,EAAOP,EAASs1B,EACjE,CACI,OAAA0L,CAAQh9B,EAAS2+B,EAAmB,MAChC,OAAO,IAAIrE,EAAWn+B,KAAKyiC,YAAY5+B,EAAS2+B,GACxD,CACI,iBAAMC,CAAYC,EAAcC,GAC5B,MAAM9+B,QAAgB6+B,EAChBhD,EAAa77B,EAAQ67B,YAAc1/B,KAAK0/B,WACtB,MAApBiD,IACAA,EAAmBjD,SAEjB1/B,KAAKkiC,eAAer+B,GAC1B,MAAMg+B,IAAEA,EAAGvO,IAAEA,EAAGqM,QAAEA,GAAY3/B,KAAKohC,aAAav9B,EAAS,CAAEw9B,WAAY3B,EAAaiD,IAGpF,SAFM3iC,KAAKmiC,eAAeN,EAAK,CAAEvO,MAAKzvB,YACtCo5B,EAAM,UAAW3J,EAAKzvB,EAASg+B,EAAI1M,SAC/BtxB,EAAQ4U,QAAQmqB,QAChB,MAAM,IAAI9M,EAAQhB,kBAEtB,MAAMuC,EAAa,IAAIwL,gBACjBtY,QAAiBvqB,KAAK8iC,iBAAiBxP,EAAKuO,EAAKlC,EAAStI,GAAY5M,MAAM8G,EAAQqE,aAC1F,GAAIrL,aAAoB9qB,MAAO,CAC3B,GAAIoE,EAAQ4U,QAAQmqB,QAChB,MAAM,IAAI9M,EAAQhB,kBAEtB,GAAI6N,EACA,OAAO3iC,KAAK+iC,aAAal/B,EAAS8+B,GAEtC,GAAsB,eAAlBpY,EAAStqB,KACT,MAAM,IAAI61B,EAAQlB,0BAEtB,MAAM,IAAIkB,EAAQjB,mBAAmB,CAAEc,MAAOpL,GAC1D,CACQ,MAAMyY,GAAkB,EAAIzR,EAAQwM,uBAAuBxT,EAAS4K,SACpE,IAAK5K,EAASC,GAAI,CACd,GAAImY,GAAoB3iC,KAAKijC,YAAY1Y,GAAW,CAGhD,OADA0S,EAAM,oBADe,aAAa0F,0BACSpY,EAAS2K,OAAQ5B,EAAK0P,GAC1DhjC,KAAK+iC,aAAal/B,EAAS8+B,EAAkBK,EACpE,CACY,MAAME,QAAgB3Y,EAASzL,OAAO2L,OAAOwC,IAAM,EAAIsE,EAAQqE,aAAa3I,GAAGptB,UACzEsjC,GAAU,EAAI5R,EAAQsM,UAAUqF,GAChCE,EAAaD,OAAUhjC,EAAY+iC,EAEzCjG,EAAM,oBADe0F,EAAmB,gCAAkC,4BAC/BpY,EAAS2K,OAAQ5B,EAAK0P,EAAiBI,GAElF,MADYpjC,KAAKuiC,gBAAgBhY,EAAS2K,OAAQiO,EAASC,EAAYJ,EAEnF,CACQ,MAAO,CAAEzY,WAAU1mB,UAASwzB,aACpC,CACI,cAAA4J,CAAeD,EAAMn9B,GACjB,MAAMg9B,EAAU7gC,KAAKyiC,YAAY5+B,EAAS,MAC1C,OAAO,IAAIm6B,EAAYh+B,KAAM6gC,EAASG,EAC9C,CACI,QAAAS,CAAS10B,EAAMu0B,GACX,MAAMhO,EAAM+P,EAAct2B,GACtB,IAAIkuB,IAAIluB,GACN,IAAIkuB,IAAIj7B,KAAKy/B,SAAWz/B,KAAKy/B,QAAQtJ,SAAS,MAAQppB,EAAKpD,WAAW,KAAOoD,EAAK9L,MAAM,GAAK8L,IAC7Fu2B,EAAetjC,KAAKsjC,eAO1B,OANKnG,EAAWmG,KACZhC,EAAQ,IAAKgC,KAAiBhC,IAEb,iBAAVA,GAAsBA,IAAUhgC,MAAMC,QAAQ+/B,KACrDhO,EAAIiQ,OAASvjC,KAAKwjC,eAAelC,IAE9BhO,EAAIrH,UACnB,CACI,cAAAuX,CAAelC,GACX,OAAOl3B,OAAO2xB,QAAQuF,GACjBz+B,QAAO,EAAE+pB,EAAGxrB,UAA4B,IAAVA,IAC9B4D,KAAI,EAAEqG,EAAKjK,MACZ,GAAqB,iBAAVA,GAAuC,iBAAVA,GAAuC,kBAAVA,EACjE,MAAO,GAAGqiC,mBAAmBp4B,MAAQo4B,mBAAmBriC,KAE5D,GAAc,OAAVA,EACA,MAAO,GAAGqiC,mBAAmBp4B,MAEjC,MAAM,IAAIyqB,EAAQd,YAAY,gCAAgC5zB,qQAAyQ,IAEtUW,KAAK,IAClB,CACI,sBAAM+gC,CAAiBxP,EAAKoQ,EAAMC,EAAItM,GAClC,MAAM5e,OAAEA,KAAW5U,GAAY6/B,GAAQ,CAAE,EACrCjrB,GACAA,EAAOmrB,iBAAiB,SAAS,IAAMvM,EAAWM,UACtD,MAAMgI,EAAUkE,YAAW,IAAMxM,EAAWM,SAASgM,GACrD,OAAQ3jC,KAAK8jC,mBAERxZ,MAAM8B,UAAKjsB,EAAWmzB,EAAK,CAAE7a,OAAQ4e,EAAW5e,UAAW5U,IAC3D27B,SAAQ,KACTuE,aAAapE,EAAQ,GAEjC,CACI,gBAAAmE,GACI,MAAO,CAAExZ,MAAOtqB,KAAKsqB,MAC7B,CACI,WAAA2Y,CAAY1Y,GAER,MAAMyZ,EAAoBzZ,EAAS4K,QAAQzpB,IAAI,kBAE/C,MAA0B,SAAtBs4B,GAEsB,UAAtBA,IAGoB,MAApBzZ,EAAS2K,SAGW,MAApB3K,EAAS2K,SAGW,MAApB3K,EAAS2K,QAGT3K,EAAS2K,QAAU,MAG/B,CACI,kBAAM6N,CAAal/B,EAAS8+B,EAAkBK,GAC1C,IAAIiB,EAEJ,MAAMC,EAAyBlB,IAAkB,kBACjD,GAAIkB,EAAwB,CACxB,MAAMC,EAAYC,WAAWF,GACxBG,OAAOva,MAAMqa,KACdF,EAAgBE,EAEhC,CAEQ,MAAMG,EAAmBtB,IAAkB,eAC3C,GAAIsB,IAAqBL,EAAe,CACpC,MAAMM,EAAiBH,WAAWE,GAK9BL,EAJCI,OAAOva,MAAMya,GAIEtV,KAAKzY,MAAM8tB,GAAoBrV,KAAKuV,MAHnB,IAAjBD,CAKhC,CAGQ,KAAMN,GAAiB,GAAKA,GAAiBA,EAAgB,KAAY,CACrE,MAAMvE,EAAa77B,EAAQ67B,YAAc1/B,KAAK0/B,WAC9CuE,EAAgBjkC,KAAKykC,mCAAmC9B,EAAkBjD,EACtF,CAEQ,aADM,EAAInO,EAAQqM,OAAOqG,GAClBjkC,KAAKyiC,YAAY5+B,EAAS8+B,EAAmB,EAC5D,CACI,kCAAA8B,CAAmC9B,EAAkBjD,GACjD,MAEMgF,EAAahF,EAAaiD,EAKhC,OAHqBj9B,KAAK+G,IAJA,GAIwB/G,KAAKi/B,IAAI,EAAGD,GAHxC,IAKP,EAAoB,IAAhBh/B,KAAKk/B,UACO,GACvC,CACI,YAAA1E,GACI,MAAO,GAAGlgC,KAAKN,YAAYO,WAAWm+B,EAAU3M,SACxD,GAGA,MAAMwM,EACF,WAAAv+B,CAAYmlC,EAAQta,EAAUoI,EAAM9uB,GAChCw4B,EAAqBjxB,IAAIpL,UAAM,GAC/Bs8B,EAAuBt8B,KAAMq8B,EAAsBwI,EAAQ,KAC3D7kC,KAAK6D,QAAUA,EACf7D,KAAKuqB,SAAWA,EAChBvqB,KAAK2yB,KAAOA,CACpB,CACI,WAAAmS,GAEI,QADc9kC,KAAK+kC,oBACR7jC,QAEmB,MAAvBlB,KAAKglC,cACpB,CACI,iBAAMC,GACF,MAAMC,EAAWllC,KAAKglC,eACtB,IAAKE,EACD,MAAM,IAAIpP,EAAQd,YAAY,yFAElC,MAAMmQ,EAAc,IAAKnlC,KAAK6D,SAC9B,GAAI,WAAYqhC,GAAyC,iBAAtBC,EAAY7D,MAC3C6D,EAAY7D,MAAQ,IAAK6D,EAAY7D,SAAU4D,EAASxd,aAEvD,GAAI,QAASwd,EAAU,CACxB,MAAMxd,EAAS,IAAItd,OAAO2xB,QAAQoJ,EAAY7D,OAAS,CAAE,MAAM4D,EAAS5R,IAAI8R,aAAarJ,WACzF,IAAK,MAAO1wB,EAAKjK,KAAUsmB,EACvBwd,EAAS5R,IAAI8R,aAAah6B,IAAIC,EAAKjK,GAEvC+jC,EAAY7D,WAAQnhC,EACpBglC,EAAYp4B,KAAOm4B,EAAS5R,IAAIrH,UAC5C,CACQ,aAAayQ,EAAuB18B,KAAMq8B,EAAsB,KAAK4E,eAAejhC,KAAKN,YAAaylC,EAC9G,CACI,eAAOE,GAEH,IAAIC,EAAOtlC,KAEX,UADMslC,EACCA,EAAKR,eACRQ,QAAaA,EAAKL,oBACZK,CAElB,CACI,QAASjJ,EAAuB,IAAIlL,QAAW5D,OAAO0K,kBAClD,UAAW,MAAMqN,KAAQtlC,KAAKqlC,YAC1B,IAAK,MAAM5Y,KAAQ6Y,EAAKP,0BACdtY,CAGtB,EAEA8E,EAAA0M,aAAuBA,EAUvB,MAAMD,UAAoBG,EACtB,WAAAz+B,CAAYmlC,EAAQhE,EAASG,GACzBlhC,MAAM+gC,GAASvY,MAAOP,GAAU,IAAIiZ,EAAK6D,EAAQ9c,EAAMwC,eAAgBiU,EAAqBzW,GAAQA,EAAMlkB,UAClH,CAQI,OAAQ0pB,OAAO0K,iBACX,MAAMqN,QAAatlC,MACnB,UAAW,MAAMysB,KAAQ6Y,QACf7Y,CAElB,EAEA8E,EAAAyM,YAAsBA,EAWtBzM,EAAAwM,sBAV+B5I,GACpB,IAAIoQ,MAAMn7B,OAAOi4B,YAExBlN,EAAQ4G,WAAY,CAChB,GAAArwB,CAAIyH,EAAQlT,GACR,MAAMoL,EAAMpL,EAAKgsB,WACjB,OAAO9Y,EAAO9H,EAAIm6B,gBAAkBryB,EAAO9H,EAC9C,IAOT,MAAMo6B,EAAqB,CACvB7E,QAAQ,EACR7zB,MAAM,EACNu0B,OAAO,EACP3O,MAAM,EACNwC,SAAS,EACTuK,YAAY,EACZ/F,QAAQ,EACRgG,SAAS,EACTC,WAAW,EACXnnB,QAAQ,EACRmpB,gBAAgB,EAChBL,iBAAiB,EACjB7C,kBAAkB,EAClBD,eAAe,GAQnBlN,EAAAuM,iBAN0BxR,GACC,iBAARA,GACH,OAARA,IACC6Q,EAAW7Q,IACZliB,OAAOsL,KAAK4W,GAAKoZ,OAAOlS,GAAM0J,EAAOuI,EAAoBjS,KAGjE,MAAMmS,EAAwB,KAC1B,GAAoB,oBAATC,MAAsC,MAAdA,KAAKC,MACpC,MAAO,CACH,mBAAoB,KACpB,8BAA+BzH,EAAU3M,QACzC,iBAAkBqU,EAAkBF,KAAKC,MAAME,IAC/C,mBAAoBC,EAAcJ,KAAKC,MAAMI,MAC7C,sBAAuB,OACvB,8BAAuD,iBAAjBL,KAAK9nB,QAAuB8nB,KAAK9nB,QAAU8nB,KAAK9nB,SAASooB,MAAQ,WAG/G,GAA2B,oBAAhBC,YACP,MAAO,CACH,mBAAoB,KACpB,8BAA+B/H,EAAU3M,QACzC,iBAAkB,UAClB,mBAAoB,SAAS0U,cAC7B,sBAAuB,OACvB,8BAA+Bh5B,QAAQ2Q,SAI/C,GAAqF,qBAAjF1T,OAAO0hB,UAAUG,SAASG,KAAwB,oBAAZjf,QAA0BA,QAAU,GAC1E,MAAO,CACH,mBAAoB,KACpB,8BAA+BixB,EAAU3M,QACzC,iBAAkBqU,EAAkB34B,QAAQ+K,UAC5C,mBAAoB8tB,EAAc74B,QAAQ84B,MAC1C,sBAAuB,OACvB,8BAA+B94B,QAAQ2Q,SAG/C,MAAMsoB,EAsBV,WACI,GAAyB,oBAAdC,YAA8BA,UACrC,OAAO,KAGX,MAAMC,EAAkB,CACpB,CAAEj7B,IAAK,OAAQk7B,QAAS,wCACxB,CAAEl7B,IAAK,KAAMk7B,QAAS,wCACtB,CAAEl7B,IAAK,KAAMk7B,QAAS,8CACtB,CAAEl7B,IAAK,SAAUk7B,QAAS,0CAC1B,CAAEl7B,IAAK,UAAWk7B,QAAS,2CAC3B,CAAEl7B,IAAK,SAAUk7B,QAAS,sEAG9B,IAAK,MAAMl7B,IAAEA,EAAGk7B,QAAEA,KAAaD,EAAiB,CAC5C,MAAMh+B,EAAQi+B,EAAQ3xB,KAAKyxB,UAAUG,WACrC,GAAIl+B,EAAO,CAIP,MAAO,CAAEm+B,QAASp7B,EAAKyS,QAAS,GAHlBxV,EAAM,IAAM,KACZA,EAAM,IAAM,KACZA,EAAM,IAAM,IAEtC,CACA,CACI,OAAO,IACX,CA9CwBo+B,GACpB,OAAIN,EACO,CACH,mBAAoB,KACpB,8BAA+BhI,EAAU3M,QACzC,iBAAkB,UAClB,mBAAoB,UACpB,sBAAuB,WAAW2U,EAAYK,UAC9C,8BAA+BL,EAAYtoB,SAI5C,CACH,mBAAoB,KACpB,8BAA+BsgB,EAAU3M,QACzC,iBAAkB,UAClB,mBAAoB,UACpB,sBAAuB,UACvB,8BAA+B,UAClC,EA4BL,MAAMuU,EAAiBC,GAKN,QAATA,EACO,MACE,WAATA,GAA8B,QAATA,EACd,MACE,QAATA,EACO,MACE,YAATA,GAA+B,UAATA,EACf,QACPA,EACO,SAASA,IACb,UAELH,EAAqB5tB,IAMvBA,EAAWA,EAASstB,eAKP1jC,SAAS,OACX,MACM,YAAboW,EACO,UACM,WAAbA,EACO,QACM,UAAbA,EACO,UACM,YAAbA,EACO,UACM,YAAbA,EACO,UACM,UAAbA,EACO,QACPA,EACO,SAASA,IACb,UAEX,IAAIyuB,EACJ,MAAMxG,EAAqB,IACfwG,IAAqBA,EAAmBhB,KAUpDpU,EAAAsM,SARkB/e,IACd,IACI,OAAOtY,KAAKgQ,MAAMsI,EAC1B,CACI,MAAOnM,GACH,MACR,GAIA,MAAMi0B,EAAyB,IAAIv+B,OAAO,kBAAmB,KACvDg7B,EAAiB/P,GACZsT,EAAuB39B,KAAKqqB,GAGvC/B,EAAAqM,MADe+F,GAAO,IAAIpb,SAASpR,GAAY0sB,WAAW1sB,EAASwsB,KAEnE,MAAM7D,EAA0B,CAAC7/B,EAAM4mC,KACnC,GAAiB,iBAANA,IAAmBxC,OAAOyC,UAAUD,GAC3C,MAAM,IAAI/Q,EAAQd,YAAY,GAAG/0B,wBAErC,GAAI4mC,EAAI,EACJ,MAAM,IAAI/Q,EAAQd,YAAY,GAAG/0B,gCAErC,OAAO4mC,CAAC,EAaZtV,EAAAqE,YAXqBjjB,IACjB,GAAIA,aAAelT,MACf,OAAOkT,EACX,GAAmB,iBAARA,GAA4B,OAARA,EAC3B,IACI,OAAO,IAAIlT,MAAM+G,KAAKC,UAAUkM,GAC5C,CACQ,MAAM,CAEV,OAAO,IAAIlT,MAAMkT,EAAI,EAQzB4e,EAAAoM,cALuBv8B,IACnB,GAAa,MAATA,EACA,MAAM,IAAI00B,EAAQd,YAAY,6CAA6C5zB,cAC/E,OAAOA,CAAK,EAmBhBmwB,EAAAmM,QATiBpzB,GACU,oBAAZ6C,QACAA,QAAQ7C,MAAMA,IAAMsH,aAAUzR,EAErB,oBAATylC,KACAA,KAAKt7B,KAAKoB,MAAMpB,IAAMsH,YADjC,EAaJ2f,EAAAkM,cAPuBr8B,IACnB,GAAqB,iBAAVA,EACP,OAAOsE,KAAKqhC,MAAM3lC,GACtB,GAAqB,iBAAVA,EACP,OAAOge,SAAShe,EAAO,IAC3B,MAAM,IAAI00B,EAAQd,YAAY,oBAAoB5zB,mBAAuBA,mBAAuB,EAUpGmwB,EAAAiM,YAPqBp8B,IACjB,GAAqB,iBAAVA,EACP,OAAOA,EACX,GAAqB,iBAAVA,EACP,OAAOgjC,WAAWhjC,GACtB,MAAM,IAAI00B,EAAQd,YAAY,oBAAoB5zB,mBAAuBA,mBAAuB,EAUpGmwB,EAAAgM,cAPuBn8B,GACE,kBAAVA,EACAA,EACU,iBAAVA,EACU,SAAVA,EACJ4lC,QAAQ5lC,GASnBmwB,EAAA+L,mBAN4Bl8B,IACxB,QAAcjB,IAAViB,EAGJ,OAAO,EAAImwB,EAAQkM,eAAer8B,EAAM,EAS5CmwB,EAAA8L,iBAN0Bj8B,IACtB,QAAcjB,IAAViB,EAGJ,OAAO,EAAImwB,EAAQiM,aAAap8B,EAAM,EAW1C,SAAS+7B,EAAW7Q,GAChB,IAAKA,EACD,OAAO,EACX,IAAK,MAAM2a,KAAM3a,EACb,OAAO,EACX,OAAO,CACX,CAGA,SAAS4Q,EAAO5Q,EAAKjhB,GACjB,OAAOjB,OAAO0hB,UAAU7D,eAAemE,KAAKE,EAAKjhB,EACrD,CAQA,SAAS42B,EAAgBiF,EAAeC,GACpC,IAAK,MAAM3T,KAAK2T,EAAY,CACxB,IAAKjK,EAAOiK,EAAY3T,GACpB,SACJ,MAAM4T,EAAW5T,EAAEgS,cACnB,IAAK4B,EACD,SACJ,MAAMlzB,EAAMizB,EAAW3T,GACX,OAARtf,SACOgzB,EAAcE,QAERjnC,IAAR+T,IACLgzB,EAAcE,GAAYlzB,EAEtC,CACA,CACA,SAAS+oB,EAAMnqB,KAAW/N,GACC,oBAAZoI,SAAuD,SAA5BA,SAAS7C,KAAa,OACxD8f,QAAQC,IAAI,gBAAgBvX,OAAa/N,EAEjD,CAzCAwsB,EAAA6L,mBAN4Bh8B,IACxB,QAAcjB,IAAViB,EAGJ,OAAO,EAAImwB,EAAQgM,eAAen8B,EAAM,EAW5CmwB,EAAA4L,WAAqBA,EAKrB5L,EAAA2L,OAAiBA,EA4BjB3L,EAAA0L,MAAgBA,EAIhB,MAAMsD,EAAQ,IACH,uCAAuC78B,QAAQ,SAAUmqB,IAC5D,MAAMwZ,EAAqB,GAAhB3hC,KAAKk/B,SAAiB,EAEjC,OADgB,MAAN/W,EAAYwZ,EAAS,EAAJA,EAAW,GAC7Bpb,SAAS,GAAG,IAY7BsF,EAAAyL,mBAT2B,IAGL,oBAAXsK,aAEwB,IAApBA,OAAOC,UAEO,oBAAdlB,UAMf9U,EAAAwL,kBAH2B5H,GACQ,mBAAjBA,GAASzpB,IAU3B6lB,EAAAuL,kBAP0B,CAAC3H,EAASmN,KAChC,MAAMkF,GAAc,EAAIjW,EAAQsL,WAAW1H,EAASmN,GACpD,QAAoBniC,IAAhBqnC,EACA,MAAM,IAAI/nC,MAAM,kBAAkB6iC,YAEtC,OAAOkF,CAAW,EA6BtBjW,EAAAsL,UA1BkB,CAAC1H,EAASmN,KACxB,MAAMmF,EAAmBnF,EAAOkD,cAChC,IAAI,EAAIjU,EAAQwL,mBAAmB5H,GAAU,CAEzC,MAAMuS,EAAkBpF,EAAO,IAAI13B,cAC/B03B,EAAO9hB,UAAU,GAAG9c,QAAQ,gBAAgB,CAACikC,EAAIC,EAAIC,IAAOD,EAAKC,EAAGj9B,gBACxE,IAAK,MAAMS,IAAO,CAACi3B,EAAQmF,EAAkBnF,EAAO13B,cAAe88B,GAAkB,CACjF,MAAMtmC,EAAQ+zB,EAAQzpB,IAAIL,GAC1B,GAAIjK,EACA,OAAOA,CAEvB,CACA,CACI,IAAK,MAAOiK,EAAKjK,KAAUgJ,OAAO2xB,QAAQ5G,GACtC,GAAI9pB,EAAIm6B,gBAAkBiC,EACtB,OAAInmC,MAAMC,QAAQH,IACVA,EAAMF,QAAU,GAEpBkpB,QAAQ0d,KAAK,YAAY1mC,EAAMF,0BAA0BohC,oCAD9ClhC,EAAM,IAIdA,CAGC,EAiBpBmwB,EAAAqL,SAXkB50B,IACd,IAAKA,EACD,MAAO,GACX,GAAsB,oBAAXyW,OACP,OAAOA,OAAO1S,KAAK/D,GAAKikB,SAAS,UAErC,GAAoB,oBAAT8b,KACP,OAAOA,KAAK//B,GAEhB,MAAM,IAAI8tB,EAAQd,YAAY,wEAAwE,EAM1GzD,EAAAoL,MAHA,SAAerQ,GACX,OAAc,MAAPA,GAA8B,iBAARA,IAAqBhrB,MAAMC,QAAQ+qB,EACpE,2DCx5BAliB,OAAO2gB,eAAeid,GAAS,aAAc,CAAE5mC,OAAO,IACtD4mC,GAAAC,WAAqBD,GAAAhH,UAAe,EACpC,MAAM/L,EAA6B30B,KAInC,MAAM0gC,UAAa/L,EAAOgJ,aACtB,WAAAv+B,CAAYmlC,EAAQta,EAAUoI,EAAM9uB,GAChC/D,MAAM+kC,EAAQta,EAAUoI,EAAM9uB,GAC9B7D,KAAK8lB,KAAO6M,EAAK7M,MAAQ,GACzB9lB,KAAKmwB,OAASwC,EAAKxC,MAC3B,CACI,iBAAA4U,GACI,OAAO/kC,KAAK8lB,MAAQ,EAC5B,CAMI,cAAAoiB,GACI,OAAO,IACf,CACI,YAAAlD,GACI,OAAO,IACf,EAEAgD,GAAAhH,KAAeA,EACf,MAAMiH,UAAmBhT,EAAOgJ,aAC5B,WAAAv+B,CAAYmlC,EAAQta,EAAUoI,EAAM9uB,GAChC/D,MAAM+kC,EAAQta,EAAUoI,EAAM9uB,GAC9B7D,KAAK8lB,KAAO6M,EAAK7M,MAAQ,EACjC,CACI,iBAAAif,GACI,OAAO/kC,KAAK8lB,MAAQ,EAC5B,CAEI,cAAAoiB,GACI,MAAMC,EAAOnoC,KAAKglC,eAClB,IAAKmD,EACD,OAAO,KACX,GAAI,WAAYA,EACZ,OAAOA,EAAKzgB,OAChB,MAAMA,EAAStd,OAAOi4B,YAAY8F,EAAK7U,IAAI8R,cAC3C,OAAKh7B,OAAOsL,KAAKgS,GAAQxmB,OAElBwmB,EADI,IAEnB,CACI,YAAAsd,GACI,MAAMlf,EAAO9lB,KAAK+kC,oBAClB,IAAKjf,EAAK5kB,OACN,OAAO,KAEX,MAAMknC,EAAKtiB,EAAKA,EAAK5kB,OAAS,IAAIknC,GAClC,OAAKA,EAGE,CAAE1gB,OAAQ,CAAE2gB,MAAOD,IAFf,IAGnB,SAEAJ,GAAAC,WAAqBA,uEC5DrB79B,OAAO2gB,eAAeud,GAAS,aAAc,CAAElnC,OAAO,IACnCknC,GAAAC,iBAAG,SAMtBD,GAAAC,YALA,MACI,WAAA7oC,CAAYmlC,GACR7kC,KAAKwoC,QAAU3D,CACvB,4DCLAz6B,OAAO2gB,eAAe0d,GAAS,aAAc,CAAErnC,OAAO,IACnCqnC,GAAAC,iBAAG,EACtB,MAAMC,EAAyCroC,KAC/C,MAAMooC,UAAoBC,EAAWJ,YACjC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,oBAAqB,CAAE9N,UAAS9uB,EAAS81B,OAAQhH,EAAKgH,SAAU,GACjG,SAEA8O,GAAAC,YAAsBA,wCCRtB,IAAInV,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAege,GAAS,aAAc,CAAE3nC,OAAO,IAC1C2nC,GAAAC,UAAG,EACf,MAAML,EAAyCroC,KACzC2oC,EAAiBJ,QACjBK,EAA2Cp8B,KACjD,MAAMk8B,UAAaL,EAAWJ,YAC1B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKyoC,YAAc,IAAIQ,EAAeP,YAAY1oC,KAAKwoC,QAC/D,SAEAO,GAAAC,KAAeA,EACfA,EAAKN,YAAcQ,EAAcR,0DCnCjCt+B,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAsBmX,YAAAnX,EAAAyX,UAAe,EACrC,IAAIG,EAA6B7oC,KACjC8J,OAAO2gB,eAAewG,EAAS,OAAQ,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOy9B,EAAOH,IAAO,IACnG,IAAIE,EAA2Cp8B,KAC/C1C,OAAO2gB,eAAewG,EAAS,cAAe,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOw9B,EAAcR,WAAc,yDCLxHt+B,OAAO2gB,eAAeqe,GAAS,aAAc,CAAEhoC,OAAO,8DCAtDgJ,OAAO2gB,eAAese,GAAS,aAAc,CAAEjoC,OAAO,IACxCioC,GAAAC,YAAG,EACjB,MAAMX,EAAyCroC,KAC/C,MAAMgpC,UAAeX,EAAWJ,YAI5B,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,gBAAiB,CAAE9N,UAAS9uB,EAAS66B,kBAAkB,GACxF,SAEA2K,GAAAC,OAAiBA,qDCXjB,IAAI/V,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAewe,GAAS,aAAc,CAAEnoC,OAAO,IAChCmoC,GAAAC,oBAAG,EACzB,MAAMb,EAAyCroC,KACzCmpC,EAAOZ,QACb,MAAMW,UAAuBb,EAAWJ,YACpC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,wBAAyBgJ,EAAKrP,4BAA4B,CAAEzH,UAAS9uB,IACtG,SAEA0lC,GAAAC,eAAyBA,wDChCzB,IAAIjW,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAe2e,GAAS,aAAc,CAAEtoC,OAAO,IAClCsoC,GAAAC,kBAAG,EACvB,MAAMhB,EAAyCroC,KACzCmpC,EAAOZ,QACb,MAAMc,UAAqBhB,EAAWJ,YAClC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,sBAAuBgJ,EAAKrP,4BAA4B,CAAEzH,UAAS9uB,IACpG,SAEA6lC,GAAAC,aAAuBA,wCChCvB,IAAIpW,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAe6e,GAAS,aAAc,CAAExoC,OAAO,IACzCwoC,GAAAC,WAAG,EAChB,MAAMlB,EAAyCroC,KACzCwpC,EAAYjB,QACZkB,EAAiCj9B,KACjCk9B,EAAoBnB,QACpBoB,EAAiDj9B,KACjDk9B,EAAkBrB,QAClBsB,EAA6Cj9B,KACnD,MAAM28B,UAAclB,EAAWJ,YAC3B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKupC,eAAiB,IAAIS,EAAkBR,eAAexpC,KAAKwoC,SAChExoC,KAAK0pC,aAAe,IAAIQ,EAAgBP,aAAa3pC,KAAKwoC,SAC1DxoC,KAAKqpC,OAAS,IAAIS,EAAUR,OAAOtpC,KAAKwoC,QAChD,SAEAoB,GAAAC,MAAgBA,EAChBA,EAAML,eAAiBS,EAAiBT,eACxCK,EAAMF,aAAeQ,EAAeR,aACpCE,EAAMP,OAASS,EAAST,0DC3CxBl/B,OAAO2gB,eAAeqf,GAAS,aAAc,CAAEhpC,OAAO,IACtDgpC,GAAAC,YAAsBD,GAAAE,aAAkB,EACxC,MAAM3B,EAAsCroC,KACtC20B,EAA8BnoB,KAC9By9B,EAA0Cv9B,KAChD,MAAMs9B,UAAgB3B,EAAWJ,YAI7B,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,WAAY,CAAE9N,UAAS9uB,GACxD,CAII,QAAA2mC,CAASC,EAAS5mC,GACd,OAAO7D,KAAKwoC,QAAQ98B,IAAI,YAAY++B,IAAW5mC,EACvD,CACI,IAAA6mC,CAAKpJ,EAAQ,CAAE,EAAEz9B,GACb,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAK,CAAE,EAAEpJ,GAElBthC,KAAKwoC,QAAQzH,WAAW,WAAYsJ,EAAa,CAAE/I,WAAUz9B,GAC5E,CAMI,MAAAi1B,CAAO2R,EAAS5mC,GACZ,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYgK,WAAkB5mC,EAC/D,EAEAumC,GAAAE,QAAkBA,EAClB,MAAMD,UAAoBE,EAAatC,mBAEvCmC,GAAAC,YAAsBA,EACtBC,EAAQD,YAAcA,2DCrCtBjgC,OAAO2gB,eAAe4f,GAAS,aAAc,CAAEvpC,OAAO,IACtDupC,GAAAC,eAAyBD,GAAAE,gBAAqB,EAC9C,MAAMlC,EAAyCroC,KACzC20B,EAAiCnoB,KACjCy9B,EAA6Cv9B,KACnD,MAAM69B,UAAmBlC,EAAWJ,YAIhC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,cAAe,CACpC9N,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,QAAAqV,CAASM,EAAajnC,GAClB,OAAO7D,KAAKwoC,QAAQ98B,IAAI,eAAeo/B,IAAe,IAC/CjnC,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,MAAA4V,CAAOD,EAAanY,EAAM9uB,GACtB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,eAAeqK,IAAe,CACnDnY,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,IAAAuV,CAAKpJ,EAAQ,CAAE,EAAEz9B,GACb,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAK,CAAE,EAAEpJ,GAElBthC,KAAKwoC,QAAQzH,WAAW,cAAe6J,EAAgB,CAC1DtJ,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,GAAA6V,CAAIF,EAAajnC,GACb,OAAO7D,KAAKwoC,QAAQyC,OAAO,eAAeH,IAAe,IAClDjnC,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,EAEAwV,GAAAE,WAAqBA,EACrB,MAAMD,UAAuBL,EAAatC,mBAE1C0C,GAAAC,eAAyBA,EACzBC,EAAWD,eAAiBA,6EC5D5BxgC,OAAO2gB,eAAemgB,GAAS,aAAc,CAAE9pC,OAAO,IACtD8pC,GAAAC,oBAA8BD,GAAuBE,gBAAGF,GAAmCG,iCAAG,EAI9FH,GAAAG,4BAHA,SAAqC3pC,GACjC,MAA2B,mBAAbA,EAAG8U,KACrB,EAiBA00B,GAAAE,gBATA,MACI,WAAA1rC,CAAY4rC,GACRtrC,KAAKurC,SAAWD,EAAMC,SACtBvrC,KAAKwW,MAAQ80B,EAAM90B,MACnBxW,KAAKwrC,WAAaF,EAAME,WACxBxrC,KAAKS,YAAc6qC,EAAM7qC,YACzBT,KAAKC,KAAOqrC,EAAMrrC,IAC1B,UAaAirC,GAAAC,oBANA,MACI,WAAAzrC,CAAY4rC,GACRtrC,KAAKu1B,KAAO,WACZv1B,KAAKurC,SAAWD,CACxB,sDC9BAlhC,OAAO2gB,eAAe0gB,GAAS,aAAc,CAAErqC,OAAO,IACrCqqC,GAAAC,UAAGD,iBAAwBA,GAAAE,kBAA4BF,GAA0BG,wBAAG,EAIrGH,GAAAG,mBAH4B/rC,GACC,cAAlBA,GAASgsC,KAMpBJ,GAAAE,kBAH2B9rC,GACE,aAAlBA,GAASgsC,YAMpBJ,GAAAK,cAHuBjsC,GACM,SAAlBA,GAASgsC,KAMpBJ,GAAAC,UAHA,SAAmBpf,GACf,OAAc,MAAPA,CACX,qDChBA,IAWIyf,EAAwBC,EAA+BC,EAAsCC,EAAqCC,EAAyBC,EAAgCC,EAA+BC,EAAwBC,EAAoBC,EAAsBC,EAAsBC,EAAqCC,EAXvVrQ,EAA0Bt8B,IAAQA,GAAKs8B,wBAA2B,SAAUC,EAAUC,EAAOp7B,EAAOswB,EAAM+K,GAC1G,GAAa,MAAT/K,EAAc,MAAM,IAAIN,UAAU,kCACtC,GAAa,MAATM,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,2EACvG,MAAiB,MAATM,EAAe+K,EAAErQ,KAAKmQ,EAAUn7B,GAASq7B,EAAIA,EAAEr7B,MAAQA,EAAQo7B,EAAMpxB,IAAImxB,EAAUn7B,GAASA,CACvG,EACGs7B,EAA0B18B,IAAQA,GAAK08B,wBAA2B,SAAUH,EAAUC,EAAO9K,EAAM+K,GACnG,GAAa,MAAT/K,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,4EACvG,MAAgB,MAATM,EAAe+K,EAAa,MAAT/K,EAAe+K,EAAErQ,KAAKmQ,GAAYE,EAAIA,EAAEr7B,MAAQo7B,EAAM9wB,IAAI6wB,EACvF,EAEDnyB,OAAO2gB,eAAe6hB,GAAS,aAAc,CAAExrC,OAAO,IACnCwrC,GAAAC,iBAAG,EACtB,MAAM/W,EAAgCx1B,YAmKtCssC,GAAAC,YAlKA,MACI,WAAAntC,GACIqsC,EAAuBxgC,IAAIvL,MAC3BA,KAAKq3B,WAAa,IAAIwL,gBACtBmJ,EAA8B5gC,IAAIpL,UAAM,GACxCisC,EAAqC7gC,IAAIpL,MAAM,SAC/CksC,EAAoC9gC,IAAIpL,MAAM,SAC9CmsC,EAAwB/gC,IAAIpL,UAAM,GAClCosC,EAA+BhhC,IAAIpL,MAAM,SACzCqsC,EAA8BjhC,IAAIpL,MAAM,SACxCssC,EAAuBlhC,IAAIpL,KAAM,IACjCusC,EAAmBnhC,IAAIpL,MAAM,GAC7BwsC,EAAqBphC,IAAIpL,MAAM,GAC/BysC,EAAqBrhC,IAAIpL,MAAM,GAC/B0sC,EAAoCthC,IAAIpL,MAAM,GAC9Cs8B,EAAuBt8B,KAAMgsC,EAA+B,IAAIzjB,SAAQ,CAACpR,EAASqR,KAC9E8T,EAAuBt8B,KAAMisC,EAAsC90B,EAAS,KAC5EmlB,EAAuBt8B,KAAMksC,EAAqC1jB,EAAQ,IAAI,IAC9E,KACJ8T,EAAuBt8B,KAAMmsC,EAAyB,IAAI5jB,SAAQ,CAACpR,EAASqR,KACxE8T,EAAuBt8B,KAAMosC,EAAgCj1B,EAAS,KACtEmlB,EAAuBt8B,KAAMqsC,EAA+B7jB,EAAQ,IAAI,IACxE,KAKJkU,EAAuB18B,KAAMgsC,EAA+B,KAAKvhB,OAAM,SACvEiS,EAAuB18B,KAAMmsC,EAAyB,KAAK1hB,OAAM,QACzE,CACI,IAAAqiB,CAAKC,GAGDlJ,YAAW,KACPkJ,IAAW1yB,MAAK,KACZra,KAAKgtC,aACLhtC,KAAKitC,MAAM,MAAM,GAClBvQ,EAAuB18B,KAAM+rC,EAAwB,IAAKY,GAA0BO,KAAKltC,MAAM,GACnG,EACX,CACI,UAAAmtC,GACQntC,KAAKotC,QAET1Q,EAAuB18B,KAAMisC,EAAsC,KAAK7f,KAAKpsB,MAC7EA,KAAKitC,MAAM,WACnB,CACI,SAAIG,GACA,OAAO1Q,EAAuB18B,KAAMusC,EAAoB,IAChE,CACI,WAAIc,GACA,OAAO3Q,EAAuB18B,KAAMwsC,EAAsB,IAClE,CACI,WAAI5J,GACA,OAAOlG,EAAuB18B,KAAMysC,EAAsB,IAClE,CACI,KAAA9U,GACI33B,KAAKq3B,WAAWM,OACxB,CAQI,EAAApjB,CAAGhC,EAAOC,GAGN,OAFkBkqB,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,KAAWmqB,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,GAAS,KAChJtP,KAAK,CAAEuP,aACVxS,IACf,CAQI,GAAAstC,CAAI/6B,EAAOC,GACP,MAAM+6B,EAAY7Q,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,GAC5E,IAAKg7B,EACD,OAAOvtC,KACX,MAAMia,EAAQszB,EAAUC,WAAWC,GAAMA,EAAEj7B,WAAaA,IAGxD,OAFIyH,GAAS,GACTszB,EAAUrkB,OAAOjP,EAAO,GACrBja,IACf,CAMI,IAAA0tC,CAAKn7B,EAAOC,GAGR,OAFkBkqB,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,KAAWmqB,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,GAAS,KAChJtP,KAAK,CAAEuP,WAAUk7B,MAAM,IAC1B1tC,IACf,CAYI,OAAA2tC,CAAQp7B,GACJ,OAAO,IAAIgW,SAAQ,CAACpR,EAASqR,KACzB8T,EAAuBt8B,KAAM0sC,GAAqC,EAAM,KAC1D,UAAVn6B,GACAvS,KAAK0tC,KAAK,QAASllB,GACvBxoB,KAAK0tC,KAAKn7B,EAAO4E,EAAQ,GAErC,CACI,UAAMqgB,GACF8E,EAAuBt8B,KAAM0sC,GAAqC,EAAM,WAClEhQ,EAAuB18B,KAAMmsC,EAAyB,IACpE,CACI,KAAAc,CAAM16B,KAAUxN,GAEZ,GAAI23B,EAAuB18B,KAAMusC,EAAoB,KACjD,OAEU,QAAVh6B,IACA+pB,EAAuBt8B,KAAMusC,GAAoB,EAAM,KACvD7P,EAAuB18B,KAAMosC,EAAgC,KAAKhgB,KAAKpsB,OAE3E,MAAMutC,EAAY7Q,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,GAK5E,GAJIg7B,IACA7Q,EAAuB18B,KAAMssC,EAAwB,KAAK/5B,GAASg7B,EAAU1qC,QAAQ4qC,IAAOA,EAAEC,OAC9FH,EAAU3oC,SAAQ,EAAG4N,cAAeA,KAAYzN,MAEtC,UAAVwN,EAAmB,CACnB,MAAMnS,EAAQ2E,EAAK,GAOnB,OANK23B,EAAuB18B,KAAM0sC,EAAqC,MAASa,GAAWrsC,QACvFqnB,QAAQC,OAAOpoB,GAEnBs8B,EAAuB18B,KAAMksC,EAAqC,KAAK9f,KAAKpsB,KAAMI,GAClFs8B,EAAuB18B,KAAMqsC,EAA+B,KAAKjgB,KAAKpsB,KAAMI,QAC5EJ,KAAKitC,MAAM,MAEvB,CACQ,GAAc,UAAV16B,EAAmB,CAEnB,MAAMnS,EAAQ2E,EAAK,GACd23B,EAAuB18B,KAAM0sC,EAAqC,MAASa,GAAWrsC,QAOvFqnB,QAAQC,OAAOpoB,GAEnBs8B,EAAuB18B,KAAMksC,EAAqC,KAAK9f,KAAKpsB,KAAMI,GAClFs8B,EAAuB18B,KAAMqsC,EAA+B,KAAKjgB,KAAKpsB,KAAMI,GAC5EJ,KAAKitC,MAAM,MACvB,CACA,CACI,UAAAD,GAAa,GAGjBhB,EAAgC,IAAI7a,QAAW8a,EAAuC,IAAI9a,QAAW+a,EAAsC,IAAI/a,QAAWgb,EAA0B,IAAIhb,QAAWib,EAAiC,IAAIjb,QAAWkb,EAAgC,IAAIlb,QAAWmb,EAAyB,IAAInb,QAAWob,EAAqB,IAAIpb,QAAWqb,EAAuB,IAAIrb,QAAWsb,EAAuB,IAAItb,QAAWub,EAAsC,IAAIvb,QAAW4a,EAAyB,IAAI6B,QAAWjB,EAA2B,SAAkCvsC,GAKhlB,GAJAk8B,EAAuBt8B,KAAMwsC,GAAsB,EAAM,KACrDpsC,aAAiBX,OAAwB,eAAfW,EAAMH,OAChCG,EAAQ,IAAI01B,EAAQhB,mBAEpB10B,aAAiB01B,EAAQhB,kBAEzB,OADAwH,EAAuBt8B,KAAMysC,GAAsB,EAAM,KAClDzsC,KAAKitC,MAAM,QAAS7sC,GAE/B,GAAIA,aAAiB01B,EAAQd,YACzB,OAAOh1B,KAAKitC,MAAM,QAAS7sC,GAE/B,GAAIA,aAAiBX,MAAO,CACxB,MAAMouC,EAAc,IAAI/X,EAAQd,YAAY50B,EAAMP,SAGlD,OADAguC,EAAYlY,MAAQv1B,EACbJ,KAAKitC,MAAM,QAASY,EACnC,CACI,OAAO7tC,KAAKitC,MAAM,QAAS,IAAInX,EAAQd,YAAY3J,OAAOjrB,IAC7D,2DCrMDgK,OAAO2gB,eAAe+iB,GAAS,aAAc,CAAE1sC,OAAO,IACtD0sC,GAAAC,mBAA6BD,GAA6BE,sBAAGF,uBAA8BA,GAAAG,oBAA8BH,GAAgCI,yBAAGJ,GAA0BK,mBAAGL,qBAA4BA,GAAAM,6BAAuCN,GAAmCO,iCAAG,EAClS,MAAMvY,EAAgCx1B,KAgBtC,SAAS8tC,EAA6BE,GAClC,MAAuC,mCAAhCA,GAA0B,MACrC,CAqBA,SAASH,EAAmBI,GACxB,MAA4B,wBAArBA,GAAe,MAC1B,CAeA,SAASN,EAAoBO,EAAY9mB,GACrC,MAAM/lB,EAAU6sC,EAAW7sC,QAAQqD,KAAKuB,IACpC,GAA6B,WAAzBA,EAAOkoC,cACP,MAAM,IAAI3Y,EAAQ3B,wBAEtB,GAA6B,mBAAzB5tB,EAAOkoC,cACP,MAAM,IAAI3Y,EAAQ5B,+BAEtB,MAAO,IACA3tB,EACH1G,QAAS,IACF0G,EAAO1G,QACV6uC,WAAYnoC,EAAO1G,QAAQ6uC,YAAY1pC,KAAK2pC,GAuB5D,SAAuBjnB,EAAQinB,GAC3B,MAAMC,EAAYlnB,EAAOmnB,OAAOhqC,MAAM+pC,GAAcA,EAAUrD,UAAUtrC,OAAS0uC,EAASpD,SAAStrC,OACnG,MAAO,IACA0uC,EACHpD,SAAU,IACHoD,EAASpD,SACZuD,iBAAkBX,EAAmBS,GAAaA,EAAUG,UAAUJ,EAASpD,SAAS16B,WAClF+9B,GAAWrD,SAASyD,OAASxoC,KAAKgQ,MAAMm4B,EAASpD,SAAS16B,WACtD,MAGtB,CAlCyEo+B,CAAcvnB,EAAQinB,MAAc,GAC7F/zB,OAAQrU,EAAO1G,QAAQqvC,UAAY3oC,EAAO1G,QAAQsvC,QAC9CC,EAAoB1nB,EAAQnhB,EAAO1G,QAAQqvC,SACzC,MAEb,IAEL,MAAO,IAAKV,EAAY7sC,UAC5B,CAEA,SAASytC,EAAoB1nB,EAAQwnB,GACjC,GAAqC,gBAAjCxnB,EAAO4mB,iBAAiB/Y,KACxB,OAAO,KAEX,GAAqC,gBAAjC7N,EAAO4mB,iBAAiB/Y,KAAwB,CAChD,GAAI,cAAe7N,EAAO4mB,gBAAiB,CAEvC,OADwB5mB,EAAO4mB,gBACRS,UAAUG,EAC7C,CACQ,OAAO1oC,KAAKgQ,MAAM04B,EAC1B,CACI,OAAO,IACX,CAqBA,SAASlB,EAAsBtmB,GAC3B,QAAI0mB,EAA6B1mB,EAAO4mB,mBAGhC5mB,EAAOmnB,OAAO5S,MAAMoT,GAAMlB,EAAmBkB,IAAkB,aAAXA,EAAE9Z,OAA6C,IAAtB8Z,EAAE9D,SAASyD,WAAqB,EACzH,QArGAlB,GAAAO,4BAdA,SAAqCC,EAAiBR,GAClD,MAAMxhB,EAAM,IAAKgiB,GAWjB,OAVAlkC,OAAOklC,iBAAiBhjB,EAAK,CACzBijB,OAAQ,CACJnuC,MAAO,iCACPowB,YAAY,GAEhBud,UAAW,CACP3tC,MAAO0sC,EACPtc,YAAY,KAGblF,CACX,EAKAwhB,GAAAM,6BAAuCA,EAmBvCN,GAAA0B,kBAlBA,SAA2BjB,GAAMT,OAAEA,EAAMpzB,SAAEA,IACvC,MAAM4R,EAAM,IAAKiiB,GAejB,OAdAnkC,OAAOklC,iBAAiBhjB,EAAK,CACzBijB,OAAQ,CACJnuC,MAAO,sBACPowB,YAAY,GAEhBud,UAAW,CACP3tC,MAAO0sC,EACPtc,YAAY,GAEhBie,UAAW,CACPruC,MAAOsZ,EACP8W,YAAY,KAGblF,CACX,EAKAwhB,GAAAK,mBAA6BA,EAa7BL,GAAAI,yBAZA,SAAkCM,EAAY9mB,GAC1C,OAAKA,GAAWsmB,EAAsBtmB,GAS/BumB,EAAoBO,EAAY9mB,GAR5B,IACA8mB,EACH7sC,QAAS6sC,EAAW7sC,QAAQqD,KAAKuB,IAAY,IACtCA,EACH1G,QAAS,IAAK0G,EAAO1G,QAAS+a,OAAQ,KAAM8zB,WAAYnoC,EAAO1G,QAAQ6uC,YAAc,QAKrG,EAuBAZ,GAAAG,oBAA8BA,EAiC9BH,GAAA4B,oBAPA,SAA6BhoB,EAAQinB,GACjC,IAAKjnB,EACD,OAAO,EAEX,MAAMknB,EAAYlnB,EAAOmnB,OAAOhqC,MAAM+pC,GAAcA,EAAUrD,UAAUtrC,OAAS0uC,EAASpD,SAAStrC,OACnG,OAAOkuC,EAAmBS,IAAcA,GAAWrD,SAASyD,SAAU,CAC1E,EAQAlB,GAAAE,sBAAgCA,EAWhCF,GAAAC,mBAVA,SAA4Bc,GACxB,IAAK,MAAMN,KAAQM,GAAS,GAAI,CAC5B,GAAkB,aAAdN,EAAKhZ,KACL,MAAM,IAAIO,EAAQd,YAAY,2EAA2EuZ,EAAKhZ,UAElH,IAA6B,IAAzBgZ,EAAKhD,SAASyD,OACd,MAAM,IAAIlZ,EAAQd,YAAY,SAASuZ,EAAKhD,SAAStrC,iGAEjE,CACA,wCCjIA,IAKI0vC,EAAyCC,EAA+CC,EAA+CC,EAAoDC,EAA0DC,EAAmDC,EAA8CC,EALtVxT,EAA0B18B,IAAQA,GAAK08B,wBAA2B,SAAUH,EAAUC,EAAO9K,EAAM+K,GACnG,GAAa,MAAT/K,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,4EACvG,MAAgB,MAATM,EAAe+K,EAAa,MAAT/K,EAAe+K,EAAErQ,KAAKmQ,GAAYE,EAAIA,EAAEr7B,MAAQo7B,EAAM9wB,IAAI6wB,EACvF,EAEDnyB,OAAO2gB,eAAeolB,GAAS,aAAc,CAAE/uC,OAAO,IAClB+uC,GAAAC,kCAAG,EACvC,MAAMta,EAAgCx1B,KAChC+vC,EAAqDvjC,KACrDwjC,EAA2DtjC,KAC3D4/B,EAA2C1/B,KAC3CqjC,EAAsCnjC,KACtCojC,EAA+B,GACrC,IAAAC,EAAA,cAA2C7D,EAAcC,YACrD,WAAAntC,GACII,SAAS+Q,WACT8+B,EAAwCpkC,IAAIvL,MAC5CA,KAAK0wC,iBAAmB,GACxB1wC,KAAK2wC,SAAW,EACxB,CACI,kBAAAC,CAAmBC,GACf7wC,KAAK0wC,iBAAiBztC,KAAK4tC,GAC3B7wC,KAAKitC,MAAM,iBAAkB4D,GAC7B,MAAMhxC,EAAUgxC,EAAelvC,QAAQ,IAAI9B,QAG3C,OAFIA,GACAG,KAAK8wC,YAAYjxC,GACdgxC,CACf,CACI,WAAAC,CAAYjxC,EAASsb,GAAO,GAIxB,GAHM,YAAatb,IACfA,EAAQqvC,QAAU,MACtBlvC,KAAK2wC,SAAS1tC,KAAKpD,GACfsb,EAEA,GADAnb,KAAKitC,MAAM,UAAWptC,KACjB,EAAIywC,EAAsB3E,mBAAmB9rC,KAAY,EAAIywC,EAAsBxE,eAAejsC,KAAaA,EAAQqvC,QAExHlvC,KAAKitC,MAAM,qBAAsBptC,EAAQqvC,cAExC,IAAI,EAAIoB,EAAsB1E,oBAAoB/rC,IAAYA,EAAQkxC,cACvE/wC,KAAKitC,MAAM,eAAgBptC,EAAQkxC,oBAElC,IAAI,EAAIT,EAAsB1E,oBAAoB/rC,IAAYA,EAAQ6uC,WACvE,IAAK,MAAMsC,KAAanxC,EAAQ6uC,WACL,aAAnBsC,EAAUzb,MACVv1B,KAAKitC,MAAM,eAAgB+D,EAAUzF,SAK7D,CAKI,yBAAM0F,SACIjxC,KAAKw3B,OACX,MAAMgX,EAAaxuC,KAAK0wC,iBAAiB1wC,KAAK0wC,iBAAiBxvC,OAAS,GACxE,IAAKstC,EACD,MAAM,IAAI1Y,EAAQd,YAAY,mDAClC,OAAOwZ,CACf,CAKI,kBAAM0C,GAEF,aADMlxC,KAAKw3B,OACJkF,EAAuB18B,KAAM2vC,EAAyC,IAAKC,GAA+CxjB,KAAKpsB,KAC9I,CAKI,kBAAMmxC,GAEF,aADMnxC,KAAKw3B,OACJkF,EAAuB18B,KAAM2vC,EAAyC,IAAKE,GAA+CzjB,KAAKpsB,KAC9I,CAKI,uBAAMoxC,GAEF,aADMpxC,KAAKw3B,OACJkF,EAAuB18B,KAAM2vC,EAAyC,IAAKG,GAAoD1jB,KAAKpsB,KACnJ,CACI,6BAAMqxC,GAEF,aADMrxC,KAAKw3B,OACJkF,EAAuB18B,KAAM2vC,EAAyC,IAAKI,GAA0D3jB,KAAKpsB,KACzJ,CACI,gBAAMsxC,GAEF,aADMtxC,KAAKw3B,OACJkF,EAAuB18B,KAAM2vC,EAAyC,IAAKK,GAAmD5jB,KAAKpsB,KAClJ,CACI,kBAAAuxC,GACI,MAAO,IAAIvxC,KAAK0wC,iBACxB,CACI,UAAA1D,GACI,MAAMwB,EAAaxuC,KAAK0wC,iBAAiB1wC,KAAK0wC,iBAAiBxvC,OAAS,GACpEstC,GACAxuC,KAAKitC,MAAM,sBAAuBuB,GACtC,MAAM2C,EAAezU,EAAuB18B,KAAM2vC,EAAyC,IAAKE,GAA+CzjB,KAAKpsB,MAChJmxC,GACAnxC,KAAKitC,MAAM,eAAgBkE,GAC/B,MAAMD,EAAexU,EAAuB18B,KAAM2vC,EAAyC,IAAKC,GAA+CxjB,KAAKpsB,MAChJkxC,GACAlxC,KAAKitC,MAAM,eAAgBiE,GAC/B,MAAME,EAAoB1U,EAAuB18B,KAAM2vC,EAAyC,IAAKG,GAAoD1jB,KAAKpsB,MAC1JoxC,GACApxC,KAAKitC,MAAM,oBAAqBmE,GACpC,MAAMC,EAA0B3U,EAAuB18B,KAAM2vC,EAAyC,IAAKI,GAA0D3jB,KAAKpsB,MAC3I,MAA3BqxC,GACArxC,KAAKitC,MAAM,0BAA2BoE,GACtCrxC,KAAK0wC,iBAAiBzU,MAAMpO,GAAMA,EAAE5nB,SACpCjG,KAAKitC,MAAM,aAAcvQ,EAAuB18B,KAAM2vC,EAAyC,IAAKK,GAAmD5jB,KAAKpsB,MAExK,CACI,2BAAMwxC,CAAsB3M,EAAQnd,EAAQ7jB,GACxC,MAAM4U,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D+E,EAAuB18B,KAAM2vC,EAAyC,IAAKM,GAA8C7jB,KAAKpsB,KAAM0nB,GACpI,MAAMmpB,QAAuBhM,EAAOkE,KAAKN,YAAYlc,OAAO,IAAK7E,EAAQiS,QAAQ,GAAS,IAAK91B,EAAS4U,OAAQzY,KAAKq3B,WAAW5e,SAEhI,OADAzY,KAAKmtC,aACEntC,KAAK4wC,oBAAmB,EAAIL,EAAStC,qBAAqB4C,EAAgBnpB,GACzF,CACI,wBAAM+pB,CAAmB5M,EAAQnd,EAAQ7jB,GACrC,IAAK,MAAMhE,KAAW6nB,EAAOipB,SACzB3wC,KAAK8wC,YAAYjxC,GAAS,GAE9B,aAAaG,KAAKwxC,sBAAsB3M,EAAQnd,EAAQ7jB,EAChE,CACI,mBAAM6tC,CAAc7M,EAAQnd,EAAQ7jB,GAChC,MAAMgoC,EAAO,YACPkF,cAAEA,EAAgB,OAAMpX,OAAEA,KAAWgY,GAAejqB,EACpDkqB,EAAgD,iBAAlBb,GAA8BA,GAAe9wC,MAC3E4xC,mBAAEA,EAAqBrB,GAAiC3sC,GAAW,CAAE,EACrEiuC,EAAkB,CAAE,EAC1B,IAAK,MAAMrV,KAAK/U,EAAOqqB,UACnBD,EAAgBrV,EAAEx8B,MAAQw8B,EAAE8O,SAAStrC,MAAQw8B,EAEjD,MAAMsV,EAAYrqB,EAAOqqB,UAAU/sC,KAAKy3B,IAAO,CAC3Cx8B,KAAMw8B,EAAEx8B,MAAQw8B,EAAE8O,SAAStrC,KAC3BurC,WAAY/O,EAAE+O,WACd/qC,YAAag8B,EAAEh8B,gBAEnB,IAAK,MAAMZ,KAAW6nB,EAAOipB,SACzB3wC,KAAK8wC,YAAYjxC,GAAS,GAE9B,IAAK,IAAIiJ,EAAI,EAAGA,EAAI+oC,IAAsB/oC,EAAG,CACzC,MAAM+nC,QAAuB7wC,KAAKwxC,sBAAsB3M,EAAQ,IACzD8M,EACHZ,gBACAgB,YACApB,SAAU,IAAI3wC,KAAK2wC,WACpB9sC,GACGhE,EAAUgxC,EAAelvC,QAAQ,IAAI9B,QAC3C,IAAKA,EACD,MAAM,IAAIi2B,EAAQd,YAAY,8CAElC,IAAKn1B,EAAQkxC,cACT,OACJ,MAAM9wC,KAAEA,EAAM4Q,UAAW9L,GAASlF,EAAQkxC,cACpCrvC,EAAKowC,EAAgB7xC,GAC3B,IAAKyB,EAAI,CACL,MAAMwtC,EAAU,0BAA0B1oC,KAAKC,UAAUxG,8BAAiC8xC,EACrF/sC,KAAKy3B,GAAMj2B,KAAKC,UAAUg2B,EAAEx8B,QAC5B8B,KAAK,0BACV/B,KAAK8wC,YAAY,CAAEjF,OAAM5rC,OAAMivC,YAC/B,QAChB,CACiB,GAAI0C,GAAwBA,IAAyB3xC,EAAM,CAC5D,MAAMivC,EAAU,0BAA0B1oC,KAAKC,UAAUxG,OAAUuG,KAAKC,UAAUmrC,iCAClF5xC,KAAK8wC,YAAY,CAAEjF,OAAM5rC,OAAMivC,YAC/B,QAChB,CACY,IAAIt0B,EACJ,IACIA,GAAS,EAAIy1B,EAAmBhF,6BAA6B3pC,SAAYA,EAAG8U,MAAMzR,GAAQA,CAC1G,CACY,MAAO3E,GACHJ,KAAK8wC,YAAY,CACbjF,OACA5rC,OACAivC,QAAS9uC,aAAiBX,MAAQW,EAAMP,QAAUwrB,OAAOjrB,KAE7D,QAChB,CAEY,MAAM4xC,QAAmBtwC,EAAG6pC,SAAS3wB,EAAQ5a,MACvCkvC,EAAUxS,EAAuB18B,KAAM2vC,EAAyC,IAAKO,GAA2D9jB,KAAKpsB,KAAMgyC,GAEjK,GADAhyC,KAAK8wC,YAAY,CAAEjF,OAAM5rC,OAAMivC,YAC3B0C,EACA,MAChB,CACA,CACI,eAAMK,CAAUpN,EAAQnd,EAAQ7jB,GAC5B,MAAMgoC,EAAO,QACPqG,YAAEA,EAAc,OAAMvY,OAAEA,KAAWgY,GAAejqB,EAClDkqB,EAA8C,iBAAhBM,GAA4BA,GAAa3G,UAAUtrC,MACjF4xC,mBAAEA,EAAqBrB,GAAiC3sC,GAAW,CAAE,EAErEsuC,EAAazqB,EAAOmnB,MAAM7pC,KAAKupC,IACjC,IAAI,EAAIgC,EAASpC,oBAAoBI,GAAO,CACxC,IAAKA,EAAKkB,UACN,MAAM,IAAI3Z,EAAQd,YAAY,yEAElC,MAAO,CACHO,KAAM,WACNgW,SAAU,CACNA,SAAUgD,EAAKkB,UACfxvC,KAAMsuC,EAAKhD,SAAStrC,KACpBQ,YAAa8tC,EAAKhD,SAAS9qC,aAAe,GAC1C+qC,WAAY+C,EAAKhD,SAASC,WAC1Bh1B,MAAO+3B,EAAKQ,UACZC,QAAQ,GAGhC,CACY,OAAOT,CAAI,IAETuD,EAAkB,CAAE,EAC1B,IAAK,MAAMrV,KAAK0V,EACG,aAAX1V,EAAElH,OACFuc,EAAgBrV,EAAE8O,SAAStrC,MAAQw8B,EAAE8O,SAASA,SAAStrC,MAAQw8B,EAAE8O,UAGzE,MAAMsD,EAAQ,UAAWnnB,EACrByqB,EAAWntC,KAAKqqC,GAAiB,aAAXA,EAAE9Z,KACpB,CACIA,KAAM,WACNgW,SAAU,CACNtrC,KAAMovC,EAAE9D,SAAStrC,MAAQovC,EAAE9D,SAASA,SAAStrC,KAC7CurC,WAAY6D,EAAE9D,SAASC,WACvB/qC,YAAa4uC,EAAE9D,SAAS9qC,YACxBuuC,OAAQK,EAAE9D,SAASyD,SAGzBK,SACJlvC,EACN,IAAK,MAAMN,KAAW6nB,EAAOipB,SACzB3wC,KAAK8wC,YAAYjxC,GAAS,GAE9B,IAAK,IAAIiJ,EAAI,EAAGA,EAAI+oC,IAAsB/oC,EAAG,CACzC,MAAM+nC,QAAuB7wC,KAAKwxC,sBAAsB3M,EAAQ,IACzD8M,EACHO,cACArD,QACA8B,SAAU,IAAI3wC,KAAK2wC,WACpB9sC,GACGhE,EAAUgxC,EAAelvC,QAAQ,IAAI9B,QAC3C,IAAKA,EACD,MAAM,IAAIi2B,EAAQd,YAAY,8CAElC,IAAKn1B,EAAQ6uC,YAAYxtC,OACrB,OAEJ,IAAK,MAAM8vC,KAAanxC,EAAQ6uC,WAAY,CACxC,GAAuB,aAAnBsC,EAAUzb,KACV,SACJ,MAAM6c,EAAepB,EAAU5I,IACzBnoC,KAAEA,EAAM4Q,UAAW9L,GAASisC,EAAUzF,SACtC7pC,EAAKowC,EAAgB7xC,GAC3B,IAAKyB,EAAI,CACL,MAAMwtC,EAAU,sBAAsB1oC,KAAKC,UAAUxG,8BAAiCmK,OAAOsL,KAAKo8B,GAC7F9sC,KAAK/E,GAASuG,KAAKC,UAAUxG,KAC7B8B,KAAK,0BACV/B,KAAK8wC,YAAY,CAAEjF,OAAMuG,eAAclD,YACvC,QACpB,CACqB,GAAI0C,GAAwBA,IAAyB3xC,EAAM,CAC5D,MAAMivC,EAAU,sBAAsB1oC,KAAKC,UAAUxG,OAAUuG,KAAKC,UAAUmrC,iCAC9E5xC,KAAK8wC,YAAY,CAAEjF,OAAMuG,eAAclD,YACvC,QACpB,CACgB,IAAIt0B,EACJ,IACIA,GAAS,EAAIy1B,EAAmBhF,6BAA6B3pC,SAAYA,EAAG8U,MAAMzR,GAAQA,CAC9G,CACgB,MAAO3E,GACH,MAAM8uC,EAAU9uC,aAAiBX,MAAQW,EAAMP,QAAUwrB,OAAOjrB,GAChEJ,KAAK8wC,YAAY,CAAEjF,OAAMuG,eAAclD,YACvC,QACpB,CAEgB,MAAM8C,QAAmBtwC,EAAG6pC,SAAS3wB,EAAQ5a,MACvCkvC,EAAUxS,EAAuB18B,KAAM2vC,EAAyC,IAAKO,GAA2D9jB,KAAKpsB,KAAMgyC,GAEjK,GADAhyC,KAAK8wC,YAAY,CAAEjF,OAAMuG,eAAclD,YACnC0C,EACA,MAEpB,CACA,CAEA,UAEAzB,GAAAC,6BAAuCA,EACvCT,EAA0C,IAAI/B,QAAWgC,EAAgD,WACrG,OAAOlT,EAAuB18B,KAAM2vC,EAAyC,IAAKE,GAA+CzjB,KAAKpsB,MAAMkvC,SAAW,IAC3J,EAAGW,EAAgD,WAC/C,IAAI/mC,EAAI9I,KAAK2wC,SAASzvC,OACtB,KAAO4H,KAAM,GAAG,CACZ,MAAMjJ,EAAUG,KAAK2wC,SAAS7nC,GAC9B,IAAI,EAAIwnC,EAAsB1E,oBAAoB/rC,GAAU,CACxD,MAAMkxC,cAAEA,KAAkBsB,GAASxyC,EAE7B0jB,EAAM,IACL8uB,EACHnD,QAASrvC,EAAQqvC,SAAW,KAC5BC,QAAStvC,EAAQsvC,SAAW,MAKhC,OAHI4B,IACAxtB,EAAIwtB,cAAgBA,GAEjBxtB,CACnB,CACA,CACI,MAAM,IAAIuS,EAAQd,YAAY,6EAClC,EAAG8a,EAAqD,WACpD,IAAK,IAAIhnC,EAAI9I,KAAK2wC,SAASzvC,OAAS,EAAG4H,GAAK,EAAGA,IAAK,CAChD,MAAMjJ,EAAUG,KAAK2wC,SAAS7nC,GAC9B,IAAI,EAAIwnC,EAAsB1E,oBAAoB/rC,IAAYA,GAASkxC,cACnE,OAAOlxC,EAAQkxC,cAEnB,IAAI,EAAIT,EAAsB1E,oBAAoB/rC,IAAYA,GAAS6uC,YAAYxtC,OAC/E,OAAOrB,EAAQ6uC,WAAW4D,IAAI,IAAI/G,QAE9C,CAEA,EAAGwE,EAA2D,WAC1D,IAAK,IAAIjnC,EAAI9I,KAAK2wC,SAASzvC,OAAS,EAAG4H,GAAK,EAAGA,IAAK,CAChD,MAAMjJ,EAAUG,KAAK2wC,SAAS7nC,GAC9B,IAAI,EAAIwnC,EAAsB3E,mBAAmB9rC,IAA+B,MAAnBA,EAAQqvC,QACjE,OAAOrvC,EAAQqvC,QAEnB,IAAI,EAAIoB,EAAsBxE,eAAejsC,IACtB,MAAnBA,EAAQqvC,SACmB,iBAApBrvC,EAAQqvC,SACflvC,KAAK2wC,SAAS1U,MAAML,GAAiB,cAAXA,EAAEiQ,MACxBjQ,EAAE8S,YAAYzS,MAAMsW,GAAiB,aAAXA,EAAEhd,MAAuBgd,EAAEnK,KAAOvoC,EAAQuyC,iBACxE,OAAOvyC,EAAQqvC,OAE3B,CAEA,EAAGc,EAAoD,WACnD,MAAMwC,EAAQ,CACVC,kBAAmB,EACnBC,cAAe,EACfC,aAAc,GAElB,IAAK,MAAM1sC,MAAEA,KAAWjG,KAAK0wC,iBACrBzqC,IACAusC,EAAMC,mBAAqBxsC,EAAMwsC,kBACjCD,EAAME,eAAiBzsC,EAAMysC,cAC7BF,EAAMG,cAAgB1sC,EAAM0sC,cAGpC,OAAOH,CACX,EAAGvC,EAA+C,SAAsDvoB,GACpG,GAAgB,MAAZA,EAAOmf,GAAanf,EAAOmf,EAAI,EAC/B,MAAM,IAAI/Q,EAAQd,YAAY,+HAEtC,EAAGkb,EAA4D,SAAmE8B,GAC9H,MAA8B,iBAAfA,EAA0BA,OACpB7xC,IAAf6xC,EAA2B,YACvBxrC,KAAKC,UAAUurC,EAC5B,wCCjXD5nC,OAAO2gB,eAAe6nB,GAAS,aAAc,CAAExxC,OAAO,IAC1BwxC,GAAAC,0BAAG,EAC/B,MAAM1C,EAA6E7vC,KAC7EgwC,EAA2DxjC,KACjE,IAAAgmC,EAAA,MAAMD,UAA6B1C,EAA+BC,6BAE9D,mBAAO2C,CAAalO,EAAQnd,EAAQ7jB,GAChC,MAAMmvC,EAAS,IAAIH,EACbriC,EAAO,IACN3M,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,iBAGjE,OADA6d,EAAOlG,MAAK,IAAMkG,EAAOtB,cAAc7M,EAAQnd,EAAQlX,KAChDwiC,CACf,CACI,eAAOC,CAASpO,EAAQnd,EAAQ7jB,GAC5B,MAAMmvC,EAAS,IAAIH,EACbriC,EAAO,IACN3M,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,aAGjE,OADA6d,EAAOlG,MAAK,IAAMkG,EAAOf,UAAUpN,EAAQnd,EAAQlX,KAC5CwiC,CACf,CACI,WAAAlC,CAAYjxC,EAASsb,GAAO,GACxBrb,MAAMgxC,YAAYjxC,EAASsb,IACvB,EAAIm1B,EAAsB1E,oBAAoB/rC,IAAYA,EAAQqvC,SAClElvC,KAAKitC,MAAM,UAAWptC,EAAQqvC,QAE1C,UAEA0D,GAAAC,qBAA+BA,6EC/B/BzoC,OAAO2gB,eAAe+iB,GAAS,aAAc,CAAE1sC,OAAO,IACtD0sC,GAAAoF,cAAwBpF,GAAmBqF,YAAGrF,GAAoBsF,kBAAG,EACrE,MAcMC,EAdM,EAcNA,EAbM,EAaNA,EAZM,EAYNA,EAXM,EAWNA,EAVO,GAUPA,EATO,GASPA,EARM,GAQNA,EAPW,IAOXA,EANiB,IAMjBA,EADMC,IAkBZ,MAAMH,UAAoB1zC,OAE1BquC,GAAAqF,YAAsBA,EACtB,MAAMD,UAAsBzzC,OAE5BquC,GAAAoF,cAAwBA,EAkBxB,MAAMK,EAAa,CAACC,EAAYC,KAC5B,MAAMvyC,EAASsyC,EAAWtyC,OAC1B,IAAI+Y,EAAQ,EACZ,MAAMy5B,EAAmBle,IACrB,MAAM,IAAI2d,EAAY,GAAG3d,iBAAmBvb,IAAQ,EAElD05B,EAAuBne,IACzB,MAAM,IAAI0d,EAAc,GAAG1d,iBAAmBvb,IAAQ,EAEpD25B,EAAW,KACbC,IACI55B,GAAS/Y,GACTwyC,EAAgB,2BACM,MAAtBF,EAAWv5B,GACJ65B,IACe,MAAtBN,EAAWv5B,GACJ85B,IACe,MAAtBP,EAAWv5B,GACJ+5B,IACoC,SAA3CR,EAAWhzB,UAAUvG,EAAOA,EAAQ,IACnCo5B,EAAaI,GAASvyC,EAAS+Y,EAAQ,GAAK,OAAOtQ,WAAW6pC,EAAWhzB,UAAUvG,KACpFA,GAAS,EACF,MAEoC,SAA3Cu5B,EAAWhzB,UAAUvG,EAAOA,EAAQ,IACnCo5B,EAAaI,GAASvyC,EAAS+Y,EAAQ,GAAK,OAAOtQ,WAAW6pC,EAAWhzB,UAAUvG,KACpFA,GAAS,GACF,GAEoC,UAA3Cu5B,EAAWhzB,UAAUvG,EAAOA,EAAQ,IACnCo5B,EAAaI,GAASvyC,EAAS+Y,EAAQ,GAAK,QAAQtQ,WAAW6pC,EAAWhzB,UAAUvG,KACrFA,GAAS,GACF,GAEoC,aAA3Cu5B,EAAWhzB,UAAUvG,EAAOA,EAAQ,IACnCo5B,EAAiBI,GAASvyC,EAAS+Y,EAAQ,GAAK,WAAWtQ,WAAW6pC,EAAWhzB,UAAUvG,KAC5FA,GAAS,EACFg6B,KAEoC,cAA3CT,EAAWhzB,UAAUvG,EAAOA,EAAQ,IACnCo5B,EAAuBI,GACpB,EAAIvyC,EAAS+Y,GACb/Y,EAAS+Y,EAAQ,GACjB,YAAYtQ,WAAW6pC,EAAWhzB,UAAUvG,KAChDA,GAAS,GACDg6B,KAEmC,QAA3CT,EAAWhzB,UAAUvG,EAAOA,EAAQ,IACnCo5B,EAAYI,GAASvyC,EAAS+Y,EAAQ,GAAK,MAAMtQ,WAAW6pC,EAAWhzB,UAAUvG,KAClFA,GAAS,EACFi6B,KAEJC,KAELL,EAAW,KACb,MAAMrb,EAAQxe,EACd,IAAIuT,GAAS,EAEb,IADAvT,IACOA,EAAQ/Y,IAAiC,MAAtBsyC,EAAWv5B,IAAmBuT,GAAoC,OAA1BgmB,EAAWv5B,EAAQ,KACjFuT,EAA+B,OAAtBgmB,EAAWv5B,KAAmBuT,EACvCvT,IAEJ,GAAgC,KAA5Bu5B,EAAW1lB,OAAO7T,GAClB,IACI,OAAOzT,KAAKgQ,MAAMg9B,EAAWhzB,UAAUiY,IAASxe,EAAQoqB,OAAO7W,IAC/E,CACY,MAAOP,GACH0mB,EAAoBtoB,OAAO4B,GAC3C,MAEa,GAAIomB,EAAYI,EACjB,IACI,OAAOjtC,KAAKgQ,MAAMg9B,EAAWhzB,UAAUiY,EAAOxe,EAAQoqB,OAAO7W,IAAW,IACxF,CACY,MAAOP,GAEH,OAAOzmB,KAAKgQ,MAAMg9B,EAAWhzB,UAAUiY,EAAO+a,EAAWY,YAAY,OAAS,IAC9F,CAEQV,EAAgB,8BAA8B,EAE5CK,EAAW,KACb95B,IACA45B,IACA,MAAMvnB,EAAM,CAAE,EACd,IACI,KAA6B,MAAtBknB,EAAWv5B,IAAgB,CAE9B,GADA45B,IACI55B,GAAS/Y,GAAUmyC,EAAYI,EAC/B,OAAOnnB,EACX,MAAMjhB,EAAMyoC,IACZD,IACA55B,IACA,IACI,MAAM7Y,EAAQwyC,IACdxpC,OAAO2gB,eAAeuB,EAAKjhB,EAAK,CAAEjK,QAAOwyB,UAAU,EAAMpC,YAAY,EAAMqC,cAAc,GAC7G,CACgB,MAAO5G,GACH,GAAIomB,EAAYI,EACZ,OAAOnnB,EAEP,MAAMW,CAC9B,CACgB4mB,IAC0B,MAAtBL,EAAWv5B,IACXA,GACpB,CACA,CACQ,MAAOgT,GACH,GAAIomB,EAAYI,EACZ,OAAOnnB,EAEPonB,EAAgB,gCAChC,CAEQ,OADAz5B,IACOqS,CAAG,EAER0nB,EAAW,KACb/5B,IACA,MAAM2T,EAAM,GACZ,IACI,KAA6B,MAAtB4lB,EAAWv5B,IACd2T,EAAI3qB,KAAK2wC,KACTC,IAC0B,MAAtBL,EAAWv5B,IACXA,GAGpB,CACQ,MAAOgT,GACH,GAAIomB,EAAYI,EACZ,OAAO7lB,EAEX8lB,EAAgB,+BAC5B,CAEQ,OADAz5B,IACO2T,CAAG,EAERumB,EAAW,KACb,GAAc,IAAVl6B,EAAa,CACM,MAAfu5B,GAAsBH,EAAYI,GAClCC,EAAgB,wBACpB,IACI,OAAOltC,KAAKgQ,MAAMg9B,EAClC,CACY,MAAOvmB,GACH,GAAIomB,EAAYI,EACZ,IACI,MAAI,MAAQD,EAAWA,EAAWtyC,OAAS,GAChCsF,KAAKgQ,MAAMg9B,EAAWhzB,UAAU,EAAGgzB,EAAWY,YAAY,OAC9D5tC,KAAKgQ,MAAMg9B,EAAWhzB,UAAU,EAAGgzB,EAAWY,YAAY,MACzF,CACoB,MAAOnnB,GAAG,CAEd0mB,EAAoBtoB,OAAO4B,GAC3C,CACA,CACQ,MAAMwL,EAAQxe,EAGd,IAF0B,MAAtBu5B,EAAWv5B,IACXA,IACGu5B,EAAWv5B,KAAW,MAAMnY,SAAS0xC,EAAWv5B,KACnDA,IACAA,GAAS/Y,GAAYmyC,EAAYI,GACjCC,EAAgB,+BACpB,IACI,OAAOltC,KAAKgQ,MAAMg9B,EAAWhzB,UAAUiY,EAAOxe,GAC1D,CACQ,MAAOgT,GACwC,MAAvCumB,EAAWhzB,UAAUiY,EAAOxe,IAAkBo5B,EAAYI,GAC1DC,EAAgB,wBACpB,IACI,OAAOltC,KAAKgQ,MAAMg9B,EAAWhzB,UAAUiY,EAAO+a,EAAWY,YAAY,MACrF,CACY,MAAOnnB,GACH0mB,EAAoBtoB,OAAO4B,GAC3C,CACA,GAEU4mB,EAAY,KACd,KAAO55B,EAAQ/Y,GAAU,UAAUY,SAAS0xC,EAAWv5B,KACnDA,GACZ,EAEI,OAAO25B,GAAU,SAIrB9F,GAAAsF,aADsB9H,GAnMtB,SAAmBkI,EAAYa,EAAehB,GAC1C,GAA0B,iBAAfG,EACP,MAAM,IAAIpiB,UAAU,6BAA6BoiB,GAErD,IAAKA,EAAW5hC,OACZ,MAAM,IAAInS,MAAM,GAAG+zC,cAEvB,OAAOD,EAAWC,EAAW5hC,OAAQyiC,EACzC,CA2LgCC,CAAUhJ,EAAO+H,EAAYA,yCClP7D,IAWIkB,EAAiCC,EAA8BC,EAAyCC,EAAqDC,EAAoCC,EAA2CC,EAAgCC,EAA6CC,EAA6CC,EAAkCC,EAAsDC,EAX9b5Y,EAA0Bt8B,IAAQA,GAAKs8B,wBAA2B,SAAUC,EAAUC,EAAOp7B,EAAOswB,EAAM+K,GAC1G,GAAa,MAAT/K,EAAc,MAAM,IAAIN,UAAU,kCACtC,GAAa,MAATM,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,2EACvG,MAAiB,MAATM,EAAe+K,EAAErQ,KAAKmQ,EAAUn7B,GAASq7B,EAAIA,EAAEr7B,MAAQA,EAAQo7B,EAAMpxB,IAAImxB,EAAUn7B,GAASA,CACvG,EACGs7B,EAA0B18B,IAAQA,GAAK08B,wBAA2B,SAAUH,EAAUC,EAAO9K,EAAM+K,GACnG,GAAa,MAAT/K,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,4EACvG,MAAgB,MAATM,EAAe+K,EAAa,MAAT/K,EAAe+K,EAAErQ,KAAKmQ,GAAYE,EAAIA,EAAEr7B,MAAQo7B,EAAM9wB,IAAI6wB,EACvF,EAEDnyB,OAAO2gB,eAAeoqB,GAAS,aAAc,CAAE/zC,OAAO,IAC1B+zC,GAAAC,0BAAG,EAC/B,MAAMtf,EAAgCx1B,KAChC6vC,EAA6ErjC,KAC7EuxB,EAAwCrxB,KACxCujC,EAAsCrjC,KACtCmoC,EAA8DjoC,KACpE,IAAAkoC,EAAA,MAAMF,UAA6BjF,EAA+BC,6BAC9D,WAAA1wC,CAAYgoB,GACR5nB,QACAy0C,EAAgChpC,IAAIvL,MACpCw0C,EAA6BppC,IAAIpL,UAAM,GACvCy0C,EAAwCrpC,IAAIpL,UAAM,GAClD00C,EAAoDtpC,IAAIpL,UAAM,GAC9Ds8B,EAAuBt8B,KAAMw0C,EAA8B9sB,EAAQ,KACnE4U,EAAuBt8B,KAAMy0C,EAAyC,GAAI,IAClF,CACI,iCAAIc,GACA,OAAO7Y,EAAuB18B,KAAM00C,EAAqD,IACjG,CAQI,yBAAO9c,CAAmB+B,GACtB,MAAMqZ,EAAS,IAAIoC,EAAqB,MAExC,OADApC,EAAOlG,MAAK,IAAMkG,EAAOwC,oBAAoB7b,KACtCqZ,CACf,CACI,2BAAOyC,CAAqB5Q,EAAQnd,EAAQ7jB,GACxC,MAAMmvC,EAAS,IAAIoC,EAAqB1tB,GAExC,OADAsrB,EAAOlG,MAAK,IAAMkG,EAAOvB,mBAAmB5M,EAAQ,IAAKnd,EAAQiS,QAAQ,GAAQ,IAAK91B,EAASsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,cACrJ6d,CACf,CACI,2BAAMxB,CAAsB3M,EAAQnd,EAAQ7jB,GACxC/D,MAAM0xC,sBACN,MAAM/4B,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D+E,EAAuB18B,KAAMu0C,EAAiC,IAAKI,GAAoCvoB,KAAKpsB,MAC5G,MAAM25B,QAAekL,EAAOkE,KAAKN,YAAYlc,OAAO,IAAK7E,EAAQiS,QAAQ,GAAQ,IAAK91B,EAAS4U,OAAQzY,KAAKq3B,WAAW5e,SACvHzY,KAAKmtC,aACL,UAAW,MAAMlX,KAAS0D,EACtB+C,EAAuB18B,KAAMu0C,EAAiC,IAAKM,GAAgCzoB,KAAKpsB,KAAMi2B,GAElH,GAAI0D,EAAOtC,WAAW5e,QAAQmqB,QAC1B,MAAM,IAAI9M,EAAQhB,kBAEtB,OAAO90B,KAAK4wC,mBAAmBlU,EAAuB18B,KAAMu0C,EAAiC,IAAKS,GAAkC5oB,KAAKpsB,MACjJ,CACI,yBAAMw1C,CAAoB3d,EAAgBh0B,GACtC,MAAM4U,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D+E,EAAuB18B,KAAMu0C,EAAiC,IAAKI,GAAoCvoB,KAAKpsB,MAC5GA,KAAKmtC,aACL,MAAMxT,EAAS0E,EAAYrH,OAAOY,mBAAmBC,EAAgB73B,KAAKq3B,YAC1E,IAAIqe,EACJ,UAAW,MAAMzf,KAAS0D,EAClB+b,GAAUA,IAAWzf,EAAMmS,IAE3BpoC,KAAK4wC,mBAAmBlU,EAAuB18B,KAAMu0C,EAAiC,IAAKS,GAAkC5oB,KAAKpsB,OAEtI08B,EAAuB18B,KAAMu0C,EAAiC,IAAKM,GAAgCzoB,KAAKpsB,KAAMi2B,GAC9Gyf,EAASzf,EAAMmS,GAEnB,GAAIzO,EAAOtC,WAAW5e,QAAQmqB,QAC1B,MAAM,IAAI9M,EAAQhB,kBAEtB,OAAO90B,KAAK4wC,mBAAmBlU,EAAuB18B,KAAMu0C,EAAiC,IAAKS,GAAkC5oB,KAAKpsB,MACjJ,CACI,EAAEw0C,EAA+B,IAAIrjB,QAAWsjB,EAA0C,IAAItjB,QAAWujB,EAAsD,IAAIvjB,QAAWojB,EAAkC,IAAI3G,QAAW+G,EAAqC,WAC5P30C,KAAKotC,OAET9Q,EAAuBt8B,KAAM00C,OAAqDv0C,EAAW,IACrG,EAAOy0C,EAA4C,SAAmDruC,GAC9F,IAAIi2B,EAAQE,EAAuB18B,KAAMy0C,EAAyC,KAAKluC,EAAO0T,OAC9F,OAAIuiB,IAGJA,EAAQ,CACJmZ,cAAc,EACdC,cAAc,EACdC,uBAAuB,EACvBC,uBAAuB,EACvBC,gBAAiB,IAAI5qC,IACrB6qC,wBAAyB,MAE7BtZ,EAAuB18B,KAAMy0C,EAAyC,KAAKluC,EAAO0T,OAASuiB,EACpFA,EACf,EAAOqY,EAAiC,SAAwC5e,GACxE,GAAIj2B,KAAKotC,MACL,OACJ,MAAMoB,EAAa9R,EAAuB18B,KAAMu0C,EAAiC,IAAKW,GAAgD9oB,KAAKpsB,KAAMi2B,GACjJj2B,KAAKitC,MAAM,QAAShX,EAAOuY,GAC3B,IAAK,MAAMjoC,KAAU0vB,EAAMt0B,QAAS,CAChC,MAAMs0C,EAAiBzH,EAAW7sC,QAAQ4E,EAAO0T,OACrB,MAAxB1T,EAAO2vC,MAAMhH,SACoB,cAAjC+G,EAAep2C,SAASgsC,MACxBoK,EAAep2C,SAASqvC,UACxBlvC,KAAKitC,MAAM,UAAW1mC,EAAO2vC,MAAMhH,QAAS+G,EAAep2C,QAAQqvC,SACnElvC,KAAKitC,MAAM,gBAAiB,CACxBiJ,MAAO3vC,EAAO2vC,MAAMhH,QACpBiH,SAAUF,EAAep2C,QAAQqvC,QACjCt0B,OAAQq7B,EAAep2C,QAAQ+a,UAGX,MAAxBrU,EAAO2vC,MAAM/G,SACoB,cAAjC8G,EAAep2C,SAASgsC,MACxBoK,EAAep2C,SAASsvC,SACxBnvC,KAAKitC,MAAM,gBAAiB,CACxBiJ,MAAO3vC,EAAO2vC,MAAM/G,QACpBgH,SAAUF,EAAep2C,QAAQsvC,UAGT,MAA5B5oC,EAAO6vC,UAAUlH,SAAoD,cAAjC+G,EAAep2C,SAASgsC,MAC5D7rC,KAAKitC,MAAM,yBAA0B,CACjCiC,QAAS3oC,EAAO6vC,UAAUlH,QAC1BiH,SAAUF,EAAeG,UAAUlH,SAAW,KAGtB,MAA5B3oC,EAAO6vC,UAAUjH,SAAoD,cAAjC8G,EAAep2C,SAASgsC,MAC5D7rC,KAAKitC,MAAM,yBAA0B,CACjCkC,QAAS5oC,EAAO6vC,UAAUjH,QAC1BgH,SAAUF,EAAeG,UAAUjH,SAAW,KAGtD,MAAM3S,EAAQE,EAAuB18B,KAAMu0C,EAAiC,IAAKK,GAA2CxoB,KAAKpsB,KAAMi2C,GACnIA,EAAexH,gBACf/R,EAAuB18B,KAAMu0C,EAAiC,IAAKQ,GAA6C3oB,KAAKpsB,KAAMi2C,GACtF,MAAjCzZ,EAAMwZ,yBACNtZ,EAAuB18B,KAAMu0C,EAAiC,IAAKO,GAA6C1oB,KAAKpsB,KAAMi2C,EAAgBzZ,EAAMwZ,0BAGzJ,IAAK,MAAMrH,KAAYpoC,EAAO2vC,MAAMxH,YAAc,GAC1ClS,EAAMwZ,0BAA4BrH,EAAS10B,QAC3CyiB,EAAuB18B,KAAMu0C,EAAiC,IAAKQ,GAA6C3oB,KAAKpsB,KAAMi2C,GAEtF,MAAjCzZ,EAAMwZ,yBACNtZ,EAAuB18B,KAAMu0C,EAAiC,IAAKO,GAA6C1oB,KAAKpsB,KAAMi2C,EAAgBzZ,EAAMwZ,0BAGzJxZ,EAAMwZ,wBAA0BrH,EAAS10B,MAE7C,IAAK,MAAMo8B,KAAiB9vC,EAAO2vC,MAAMxH,YAAc,GAAI,CACvD,MAAM4H,EAAmBL,EAAep2C,QAAQ6uC,aAAa2H,EAAcp8B,OACtEq8B,GAAkB/gB,OAGQ,aAA3B+gB,GAAkB/gB,MAClBv1B,KAAKitC,MAAM,sCAAuC,CAC9ChtC,KAAMq2C,EAAiB/K,UAAUtrC,KACjCga,MAAOo8B,EAAcp8B,MACrBpJ,UAAWylC,EAAiB/K,SAAS16B,UACrCi+B,iBAAkBwH,EAAiB/K,SAASuD,iBAC5CyH,gBAAiBF,EAAc9K,UAAU16B,WAAa,KAM9E,CACA,CACK,EAAEikC,EAA8C,SAAqDmB,EAAgBO,GAElH,GADc9Z,EAAuB18B,KAAMu0C,EAAiC,IAAKK,GAA2CxoB,KAAKpsB,KAAMi2C,GAC7HF,gBAAgBzqC,IAAIkrC,GAE1B,OAEJ,MAAMF,EAAmBL,EAAep2C,QAAQ6uC,aAAa8H,GAC7D,IAAKF,EACD,MAAM,IAAI72C,MAAM,yBAEpB,IAAK62C,EAAiB/gB,KAClB,MAAM,IAAI91B,MAAM,qCAEpB,GAA8B,aAA1B62C,EAAiB/gB,KAAqB,CACtC,MAAMqZ,EAAYlS,EAAuB18B,KAAMw0C,EAA8B,MAAM3F,OAAOhqC,MAAM0pC,GAAuB,aAAdA,EAAKhZ,MAAuBgZ,EAAKhD,SAAStrC,OAASq2C,EAAiB/K,SAAStrC,OACtLD,KAAKitC,MAAM,qCAAsC,CAC7ChtC,KAAMq2C,EAAiB/K,SAAStrC,KAChCga,MAAOu8B,EACP3lC,UAAWylC,EAAiB/K,SAAS16B,UACrCi+B,kBAAkB,EAAIyB,EAASpC,oBAAoBS,GAAaA,EAAUG,UAAUuH,EAAiB/K,SAAS16B,WACxG+9B,GAAWrD,SAASyD,OAASxoC,KAAKgQ,MAAM8/B,EAAiB/K,SAAS16B,WAC9D,MAE1B,MAEwBylC,EAAiB/gB,IAEzC,EAAOwf,EAA8C,SAAqDkB,GAClG,MAAMzZ,EAAQE,EAAuB18B,KAAMu0C,EAAiC,IAAKK,GAA2CxoB,KAAKpsB,KAAMi2C,GACvI,GAAIA,EAAep2C,QAAQqvC,UAAY1S,EAAMmZ,aAAc,CACvDnZ,EAAMmZ,cAAe,EACrB,MAAMc,EAAiB/Z,EAAuB18B,KAAMu0C,EAAiC,IAAKU,GAAsD7oB,KAAKpsB,MACrJA,KAAKitC,MAAM,eAAgB,CACvBiC,QAAS+G,EAAep2C,QAAQqvC,QAChCt0B,OAAQ67B,EAAiBA,EAAe1H,UAAUkH,EAAep2C,QAAQqvC,SAAW,MAEpG,CACY+G,EAAep2C,QAAQsvC,UAAY3S,EAAMoZ,eACzCpZ,EAAMoZ,cAAe,EACrB51C,KAAKitC,MAAM,eAAgB,CAAEkC,QAAS8G,EAAep2C,QAAQsvC,WAE7D8G,EAAeG,UAAUlH,UAAY1S,EAAMqZ,wBAC3CrZ,EAAMqZ,uBAAwB,EAC9B71C,KAAKitC,MAAM,wBAAyB,CAAEiC,QAAS+G,EAAeG,SAASlH,WAEvE+G,EAAeG,UAAUjH,UAAY3S,EAAMsZ,wBAC3CtZ,EAAMsZ,uBAAwB,EAC9B91C,KAAKitC,MAAM,wBAAyB,CAAEkC,QAAS8G,EAAeG,SAASjH,UAEnF,EAAO6F,EAAmC,WAClC,GAAIh1C,KAAKotC,MACL,MAAM,IAAItX,EAAQd,YAAY,2CAElC,MAAMmhB,EAAWzZ,EAAuB18B,KAAM00C,EAAqD,KACnG,IAAKyB,EACD,MAAM,IAAIrgB,EAAQd,YAAY,4CAIlC,OAFAsH,EAAuBt8B,KAAM00C,OAAqDv0C,EAAW,KAC7Fm8B,EAAuBt8B,KAAMy0C,EAAyC,GAAI,KAsKlF,SAAgC0B,EAAUzuB,GACtC,MAAM0gB,GAAEA,EAAEzmC,QAAEA,EAAO+0C,QAAEA,EAAOC,MAAEA,EAAKC,mBAAEA,KAAuBvE,GAAS8D,EAC/D3H,EAAa,IACZ6D,EACHjK,KACAzmC,QAASA,EAAQqD,KAAI,EAAGnF,UAAS4uC,gBAAex0B,QAAOm8B,cAAaS,MAChE,IAAKpI,EACD,MAAM,IAAI3Y,EAAQd,YAAY,oCAAoC/a,KAEtE,MAAMi1B,QAAEA,EAAU,KAAI6B,cAAEA,EAAarC,WAAEA,KAAeoI,GAAgBj3C,EAChEgsC,EAAOhsC,EAAQgsC,KACrB,IAAKA,EACD,MAAM,IAAI/V,EAAQd,YAAY,2BAA2B/a,KAE7D,GAAI82B,EAAe,CACf,MAAQlgC,UAAW9L,EAAI9E,KAAEA,GAAS8wC,EAClC,GAAY,MAARhsC,EACA,MAAM,IAAI+wB,EAAQd,YAAY,8CAA8C/a,KAEhF,IAAKha,EACD,MAAM,IAAI61B,EAAQd,YAAY,yCAAyC/a,KAE3E,MAAO,IACA48B,EACHh3C,QAAS,CACLqvC,UACA6B,cAAe,CAAElgC,UAAW9L,EAAM9E,QAClC4rC,OACAsD,QAAStvC,EAAQsvC,SAAW,MAEhCV,gBACAx0B,QACAm8B,WAEpB,CACY,OAAI1H,EACO,IACAmI,EACH58B,QACAw0B,gBACA2H,WACAv2C,QAAS,IACFi3C,EACHjL,OACAqD,UACAC,QAAStvC,EAAQsvC,SAAW,KAC5BT,WAAYA,EAAW1pC,KAAI,CAACgsC,EAAWloC,KACnC,MAAQyiC,SAAU7pC,EAAE6zB,KAAEA,EAAI6S,GAAEA,KAAO2O,GAAa/F,GACxCngC,UAAW9L,EAAI9E,KAAEA,KAAS+2C,GAAWt1C,GAAM,CAAE,EACrD,GAAU,MAAN0mC,EACA,MAAM,IAAItS,EAAQd,YAAY,mBAAmB/a,iBAAqBnR,UAAUd,EAAImuC,MAExF,GAAY,MAAR5gB,EACA,MAAM,IAAIO,EAAQd,YAAY,mBAAmB/a,iBAAqBnR,YAAYd,EAAImuC,MAE1F,GAAY,MAARl2C,EACA,MAAM,IAAI61B,EAAQd,YAAY,mBAAmB/a,iBAAqBnR,qBAAqBd,EAAImuC,MAEnG,GAAY,MAARpxC,EACA,MAAM,IAAI+wB,EAAQd,YAAY,mBAAmB/a,iBAAqBnR,0BAA0Bd,EAAImuC,MAExG,MAAO,IAAKY,EAAU3O,KAAI7S,OAAMgW,SAAU,IAAKyL,EAAQ/2C,OAAM4Q,UAAW9L,GAAQ,MAKzF,IACA8xC,EACHh3C,QAAS,IAAKi3C,EAAa5H,UAASrD,OAAMsD,QAAStvC,EAAQsvC,SAAW,MACtEV,gBACAx0B,QACAm8B,WACH,IAELM,UACAC,QACAxmB,OAAQ,qBACJymB,EAAqB,CAAEA,sBAAuB,IAEtD,OAAO,EAAIrG,EAASrC,0BAA0BM,EAAY9mB,EAC9D,CArPeuvB,CAAuBd,EAAUzZ,EAAuB18B,KAAMw0C,EAA8B,KAC3G,EAAOS,EAAuD,WACtD,MAAMwB,EAAiB/Z,EAAuB18B,KAAMw0C,EAA8B,MAAMlG,gBACxF,OAAI,EAAIiC,EAASnC,8BAA8BqI,GACpCA,EAEJ,IACf,EAAOvB,EAAiD,SAAwDjf,GACxG,IAAIihB,EAAIC,EAAIC,EAAIC,EAChB,IAAIlB,EAAWzZ,EAAuB18B,KAAM00C,EAAqD,KACjG,MAAM/yC,QAAEA,KAAY0wC,GAASpc,EACxBkgB,EAOD/rC,OAAOC,OAAO8rC,EAAU9D,GANxB8D,EAAW7Z,EAAuBt8B,KAAM00C,EAAqD,IACtFrC,EACH1wC,QAAS,IACV,KAKP,IAAK,MAAMu0C,MAAEA,EAAKzH,cAAEA,EAAax0B,MAAEA,EAAKm8B,SAAEA,EAAW,QAASkB,KAAWrhB,EAAMt0B,QAAS,CACpF,IAAI4E,EAAS4vC,EAASx0C,QAAQsY,GAI9B,GAHK1T,IACDA,EAAS4vC,EAASx0C,QAAQsY,GAAS,CAAEw0B,gBAAex0B,QAAOpa,QAAS,CAAA,EAAIu2C,cAAakB,IAErFlB,EACA,GAAK7vC,EAAO6vC,SAGP,CACD,MAAMlH,QAAEA,EAAOC,QAAEA,KAAYkD,GAAS+D,EAEtChsC,OAAOC,OAAO9D,EAAO6vC,SAAU/D,GAC3BnD,KACCgI,EAAK3wC,EAAO6vC,UAAUlH,UAAYgI,EAAGhI,QAAU,IAChD3oC,EAAO6vC,SAASlH,QAAQjsC,QAAQisC,IAEhCC,KACCgI,EAAK5wC,EAAO6vC,UAAUjH,UAAYgI,EAAGhI,QAAU,IAChD5oC,EAAO6vC,SAASjH,QAAQlsC,QAAQksC,GAExD,MAdoB5oC,EAAO6vC,SAAWhsC,OAAOC,OAAO,CAAA,EAAI+rC,GAgB5C,GAAI3H,IACAloC,EAAOkoC,cAAgBA,EACnB/R,EAAuB18B,KAAMw0C,EAA8B,OAAQ,EAAIjE,EAASvC,uBAAuBtR,EAAuB18B,KAAMw0C,EAA8B,OAAO,CACzK,GAAsB,WAAlB/F,EACA,MAAM,IAAI3Y,EAAQ3B,wBAEtB,GAAsB,mBAAlBsa,EACA,MAAM,IAAI3Y,EAAQ5B,8BAE1C,CAGY,GADA9pB,OAAOC,OAAO9D,EAAQ+wC,IACjBpB,EACD,SACJ,MAAMhH,QAAEA,EAAOC,QAAEA,EAAO4B,cAAEA,EAAalF,KAAEA,EAAI6C,WAAEA,KAAe2D,GAAS6D,EA2BvE,GAzBA9rC,OAAOC,OAAO9D,EAAO1G,QAASwyC,GAC1BlD,IACA5oC,EAAO1G,QAAQsvC,SAAW5oC,EAAO1G,QAAQsvC,SAAW,IAAMA,GAE1DtD,IACAtlC,EAAO1G,QAAQgsC,KAAOA,GACtBkF,IACKxqC,EAAO1G,QAAQkxC,eAIZA,EAAc9wC,OACdsG,EAAO1G,QAAQkxC,cAAc9wC,KAAO8wC,EAAc9wC,MAClD8wC,EAAclgC,aACbumC,EAAK7wC,EAAO1G,QAAQkxC,eAAelgC,YAAcumC,EAAGvmC,UAAY,IACjEtK,EAAO1G,QAAQkxC,cAAclgC,WAAakgC,EAAclgC,YAP5DtK,EAAO1G,QAAQkxC,cAAgBA,GAWnC7B,IACA3oC,EAAO1G,QAAQqvC,SAAW3oC,EAAO1G,QAAQqvC,SAAW,IAAMA,GACrD3oC,EAAO1G,QAAQsvC,SAAWzS,EAAuB18B,KAAMu0C,EAAiC,IAAKU,GAAsD7oB,KAAKpsB,QACzJuG,EAAO1G,QAAQ+a,QAAS,EAAIy6B,EAASjC,cAAc7sC,EAAO1G,QAAQqvC,WAGtER,EAAY,CACPnoC,EAAO1G,QAAQ6uC,aAChBnoC,EAAO1G,QAAQ6uC,WAAa,IAChC,IAAK,MAAMz0B,MAAEA,EAAKmuB,GAAEA,EAAE7S,KAAEA,EAAMgW,SAAU7pC,KAAO2wC,KAAU3D,EAAY,CACjE,MAAMsC,GAAcqG,EAAK9wC,EAAO1G,QAAQ6uC,YAAYz0B,KAAWo9B,EAAGp9B,GAAS,CAAE,GAC7E7P,OAAOC,OAAO2mC,EAAWqB,GACrBjK,IACA4I,EAAU5I,GAAKA,GACf7S,IACAyb,EAAUzb,KAAOA,GACjB7zB,IACAsvC,EAAUzF,WAAayF,EAAUzF,SAAW,CAAEtrC,KAAMyB,EAAGzB,MAAQ,GAAI4Q,UAAW,MAC9EnP,GAAIzB,OACJ+wC,EAAUzF,SAAStrC,KAAOyB,EAAGzB,MAC7ByB,GAAImP,YACJmgC,EAAUzF,SAAS16B,WAAanP,EAAGmP,WAC/B,EAAI0/B,EAASb,qBAAqBhT,EAAuB18B,KAAMw0C,EAA8B,KAAMxD,KACnGA,EAAUzF,SAASuD,kBAAmB,EAAIuG,EAASjC,cAAcpC,EAAUzF,SAAS16B,YAGhH,CACA,CACA,CACQ,OAAOslC,CACf,EAAO5oB,OAAO0K,kBACN,MAAMsf,EAAY,GACZC,EAAY,GAClB,IAAIhgB,GAAO,EA+BX,OA9BAx3B,KAAKuU,GAAG,SAAU0hB,IACd,MAAM2D,EAAS4d,EAAUhuC,QACrBowB,EACAA,EAAOziB,QAAQ8e,GAGfshB,EAAUt0C,KAAKgzB,EAC/B,IAEQj2B,KAAKuU,GAAG,OAAO,KACXijB,GAAO,EACP,IAAK,MAAMoC,KAAU4d,EACjB5d,EAAOziB,aAAQhX,GAEnBq3C,EAAUt2C,OAAS,CAAC,IAExBlB,KAAKuU,GAAG,SAAU5B,IACd6kB,GAAO,EACP,IAAK,MAAMoC,KAAU4d,EACjB5d,EAAOpR,OAAO7V,GAElB6kC,EAAUt2C,OAAS,CAAC,IAExBlB,KAAKuU,GAAG,SAAU5B,IACd6kB,GAAO,EACP,IAAK,MAAMoC,KAAU4d,EACjB5d,EAAOpR,OAAO7V,GAElB6kC,EAAUt2C,OAAS,CAAC,IAEjB,CACHmnB,KAAMC,UACF,IAAKivB,EAAUr2C,OACX,OAAIs2B,EACO,CAAEp2B,WAAOjB,EAAWq3B,MAAM,GAE9B,IAAIjP,SAAQ,CAACpR,EAASqR,IAAWgvB,EAAUv0C,KAAK,CAAEkU,UAASqR,aAAWnO,MAAM4b,GAAWA,EAAQ,CAAE70B,MAAO60B,EAAOuB,MAAM,GAAU,CAAEp2B,WAAOjB,EAAWq3B,MAAM,KAGpK,MAAO,CAAEp2B,MADKm2C,EAAU/tC,QACDguB,MAAM,EAAO,EAExCuB,OAAQzQ,UACJtoB,KAAK23B,QACE,CAAEv2B,WAAOjB,EAAWq3B,MAAM,IAGjD,CACI,gBAAAc,GAEI,OADe,IAAI+F,EAAYrH,OAAOh3B,KAAKutB,OAAO0K,eAAeiV,KAAKltC,MAAOA,KAAKq3B,YACpEiB,kBACtB,GAoFA,SAAStwB,EAAI4zB,GACT,OAAOp1B,KAAKC,UAAUm1B,EAC1B,QApFAuZ,GAAAC,qBAA+BA,wCCvZ/BhrC,OAAO2gB,eAAe0sB,GAAS,aAAc,CAAEr2C,OAAO,IACjBq2C,GAAAC,mCAAG,EACxC,MAAMvC,EAA6D70C,KACnE,IAAAq3C,EAAA,MAAMD,UAAsCvC,EAAuBC,qBAC/D,yBAAOxd,CAAmB+B,GACtB,MAAMqZ,EAAS,IAAI0E,EAA8B,MAEjD,OADA1E,EAAOlG,MAAK,IAAMkG,EAAOwC,oBAAoB7b,KACtCqZ,CACf,CAEI,mBAAOD,CAAalO,EAAQnd,EAAQ7jB,GAChC,MAAMmvC,EAAS,IAAI0E,EAA8B,MAC3ClnC,EAAO,IACN3M,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,iBAGjE,OADA6d,EAAOlG,MAAK,IAAMkG,EAAOtB,cAAc7M,EAAQnd,EAAQlX,KAChDwiC,CACf,CACI,eAAOC,CAASpO,EAAQnd,EAAQ7jB,GAC5B,MAAMmvC,EAAS,IAAI0E,EAEnBhwB,GACMlX,EAAO,IACN3M,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,aAGjE,OADA6d,EAAOlG,MAAK,IAAMkG,EAAOf,UAAUpN,EAAQnd,EAAQlX,KAC5CwiC,CACf,UAEAyE,GAAAC,8BAAwCA,gDC9BxCttC,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAAmX,YAAsBnX,uBAA+BA,EAA+B6jB,qBAAA7jB,EAAA4Z,oBAA8B5Z,EAA0B6Z,gBAAA7Z,EAAAmmB,mCAAwC,EACpL,MAAM/O,EAA4CroC,KAC5CsyC,EAAwE9lC,KACxE2qC,EAA0FzqC,KAC1FmoC,EAAwEjoC,KACxEqjC,EAA4CnjC,KAClD,IAAIwqC,EAA0F5qC,KAC9F5C,OAAO2gB,eAAewG,EAAS,gCAAiC,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOksC,EAAgCF,6BAAgC,IAC9K,IAAIrH,EAAgEhjC,KACpEjD,OAAO2gB,eAAewG,EAAS,kBAAmB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO2kC,EAAmBjF,eAAkB,IACrIhhC,OAAO2gB,eAAewG,EAAS,sBAAuB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO2kC,EAAmBlF,mBAAsB,IAC7I,IAAI0M,EAAwE3qC,KAC5E9C,OAAO2gB,eAAewG,EAAS,uBAAwB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOmsC,EAAuBzC,oBAAuB,IACnJ,IAAI0C,EAAwEhrC,KAC5E1C,OAAO2gB,eAAewG,EAAS,uBAAwB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOosC,EAAuBjF,oBAAuB,IACnJ,MAAMnK,UAAoBC,EAAWJ,YACjC,KAAA/xB,CAAMmc,EAAM9uB,GAER,OADA,EAAI0sC,EAASxC,oBAAoBpb,EAAKkc,OAC/B7uC,KAAKwoC,QAAQO,KAAKN,YACpBlc,OAAOoG,EAAM,IACX9uB,EACHsxB,QAAS,IACFtxB,GAASsxB,QACZ,4BAA6B,iCAGhC6J,aAAawP,IAAe,EAAI+B,EAAStC,qBAAqBO,EAAY7b,IACvF,CACI,YAAAogB,CAAapgB,EAAM9uB,GACf,OAAI8uB,EAAKgH,OACE8d,EAAgCC,8BAA8B3E,aAAa/yC,KAAKwoC,QAAS7V,EAAM9uB,GAEnG+uC,EAAuBC,qBAAqBE,aAAa/yC,KAAKwoC,QAAS7V,EAAM9uB,EAC5F,CACI,QAAAovC,CAAStgB,EAAM9uB,GACX,OAAI8uB,EAAKgH,OACE8d,EAAgCC,8BAA8BzE,SAASjzC,KAAKwoC,QAAS7V,EAAM9uB,GAE/F+uC,EAAuBC,qBAAqBI,SAASjzC,KAAKwoC,QAAS7V,EAAM9uB,EACxF,CAII,MAAA81B,CAAOhH,EAAM9uB,GACT,OAAOsxC,EAAuBC,qBAAqBK,qBAAqBz1C,KAAKwoC,QAAS7V,EAAM9uB,EACpG,EAEA0tB,EAAAmX,YAAsBA,sDChDtB,IAAInV,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAAyX,UAAe,EACf,MAAML,EAA4CroC,KAC5C2oC,EAAiBJ,QACvB,MAAMG,UAAaL,EAAWJ,YAC1B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKyoC,YAAc,IAAIQ,EAAeP,YAAY1oC,KAAKwoC,QAC/D,EAEAjX,EAAAyX,KAAeA,EACf,SAAWA,GACPA,EAAKN,YAAcO,EAAeP,WACrC,CAFD,CAEGM,EAAOzX,EAAQyX,OAASzX,EAAAyX,KAAe,CAAA,mECrC1C,IAkCI+O,EAA4BC,EAAyBC,EAAmCC,EAAmCC,EAAkCC,EAA2BC,EAAsCC,EAAiCC,EAAuCC,EAAkCC,EAA+BC,EAAqCC,EAAyCC,EAA2BC,EAA6BC,EAAgCC,EAAgCC,EAA8BC,EAAoCC,EAAoCC,EAAoCC,EAlCvrB7lB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACGusB,EAA0B18B,IAAQA,GAAK08B,wBAA2B,SAAUH,EAAUC,EAAO9K,EAAM+K,GACnG,GAAa,MAAT/K,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,4EACvG,MAAgB,MAATM,EAAe+K,EAAa,MAAT/K,EAAe+K,EAAErQ,KAAKmQ,GAAYE,EAAIA,EAAEr7B,MAAQo7B,EAAM9wB,IAAI6wB,EACvF,EACGD,EAA0Bt8B,IAAQA,GAAKs8B,wBAA2B,SAAUC,EAAUC,EAAOp7B,EAAOswB,EAAM+K,GAC1G,GAAa,MAAT/K,EAAc,MAAM,IAAIN,UAAU,kCACtC,GAAa,MAATM,IAAiB+K,EAAG,MAAM,IAAIrL,UAAU,iDAC5C,GAAqB,mBAAVoL,EAAuBD,IAAaC,IAAUC,GAAKD,EAAMlxB,IAAIixB,GAAW,MAAM,IAAInL,UAAU,2EACvG,MAAiB,MAATM,EAAe+K,EAAErQ,KAAKmQ,EAAUn7B,GAASq7B,EAAIA,EAAEr7B,MAAQA,EAAQo7B,EAAMpxB,IAAImxB,EAAUn7B,GAASA,CACvG,EAEDgJ,OAAO2gB,eAAesuB,GAAS,aAAc,CAAEj4C,OAAO,IAC/Bi4C,GAAAC,qBAAG,EAC1B,MAAM7P,EAAOZ,QACPxK,EAAwCvxB,KACxCgpB,EAAgC9oB,KAChC4/B,EAA2C1/B,KACjD,IAAAqsC,EAAA,MAAMD,UAAwB1M,EAAcC,YACxC,WAAAntC,GACII,SAAS+Q,WACTknC,EAA2BxsC,IAAIvL,MAE/Bg4C,EAAwB5sC,IAAIpL,KAAM,IAGlCi4C,EAAkC7sC,IAAIpL,KAAM,IAC5Ck4C,EAAkC9sC,IAAIpL,KAAM,IAC5Cm4C,EAAiC/sC,IAAIpL,UAAM,GAC3Co4C,EAA0BhtC,IAAIpL,UAAM,GACpCq4C,EAAqCjtC,IAAIpL,UAAM,GAC/Cs4C,EAAgCltC,IAAIpL,UAAM,GAC1Cu4C,EAAsCntC,IAAIpL,UAAM,GAChDw4C,EAAiCptC,IAAIpL,UAAM,GAE3Cy4C,EAA8BrtC,IAAIpL,UAAM,GACxC04C,EAAoCttC,IAAIpL,UAAM,GAC9C24C,EAAwCvtC,IAAIpL,UAAM,EAC1D,CACI,EAAEg4C,EAA0B,IAAI7mB,QAAW8mB,EAAoC,IAAI9mB,QAAW+mB,EAAoC,IAAI/mB,QAAWgnB,EAAmC,IAAIhnB,QAAWinB,EAA4B,IAAIjnB,QAAWknB,EAAuC,IAAIlnB,QAAWmnB,EAAkC,IAAInnB,QAAWonB,EAAwC,IAAIpnB,QAAWqnB,EAAmC,IAAIrnB,QAAWsnB,EAAgC,IAAItnB,QAAWunB,EAAsC,IAAIvnB,QAAWwnB,EAA0C,IAAIxnB,QAAW4mB,EAA6B,IAAInK,QAAWrgB,OAAO0K,kBAC1oB,MAAMsf,EAAY,GACZC,EAAY,GAClB,IAAIhgB,GAAO,EAgCX,OA9BAx3B,KAAKuU,GAAG,SAAUhC,IACd,MAAMqnB,EAAS4d,EAAUhuC,QACrBowB,EACAA,EAAOziB,QAAQ5E,GAGfglC,EAAUt0C,KAAKsP,EAC/B,IAEQvS,KAAKuU,GAAG,OAAO,KACXijB,GAAO,EACP,IAAK,MAAMoC,KAAU4d,EACjB5d,EAAOziB,aAAQhX,GAEnBq3C,EAAUt2C,OAAS,CAAC,IAExBlB,KAAKuU,GAAG,SAAU5B,IACd6kB,GAAO,EACP,IAAK,MAAMoC,KAAU4d,EACjB5d,EAAOpR,OAAO7V,GAElB6kC,EAAUt2C,OAAS,CAAC,IAExBlB,KAAKuU,GAAG,SAAU5B,IACd6kB,GAAO,EACP,IAAK,MAAMoC,KAAU4d,EACjB5d,EAAOpR,OAAO7V,GAElB6kC,EAAUt2C,OAAS,CAAC,IAEjB,CACHmnB,KAAMC,UACF,IAAKivB,EAAUr2C,OACX,OAAIs2B,EACO,CAAEp2B,WAAOjB,EAAWq3B,MAAM,GAE9B,IAAIjP,SAAQ,CAACpR,EAASqR,IAAWgvB,EAAUv0C,KAAK,CAAEkU,UAASqR,aAAWnO,MAAM4b,GAAWA,EAAQ,CAAE70B,MAAO60B,EAAOuB,MAAM,GAAU,CAAEp2B,WAAOjB,EAAWq3B,MAAM,KAGpK,MAAO,CAAEp2B,MADKm2C,EAAU/tC,QACDguB,MAAM,EAAO,EAExCuB,OAAQzQ,UACJtoB,KAAK23B,QACE,CAAEv2B,WAAOjB,EAAWq3B,MAAM,IAGjD,CACI,yBAAOI,CAAmB+B,GACtB,MAAMqZ,EAAS,IAAIsG,EAEnB,OADAtG,EAAOlG,MAAK,IAAMkG,EAAOwC,oBAAoB7b,KACtCqZ,CACf,CACI,yBAAMwC,CAAoB3d,EAAgBh0B,GACtC,MAAM4U,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D33B,KAAKmtC,aACL,MAAMxT,EAAS0E,EAAYrH,OAAOY,mBAAmBC,EAAgB73B,KAAKq3B,YAC1E,UAAW,MAAM9kB,KAASonB,EACtB+C,EAAuB18B,KAAM+3C,EAA4B,IAAKa,GAA2BxsB,KAAKpsB,KAAMuS,GAExG,GAAIonB,EAAOtC,WAAW5e,QAAQmqB,QAC1B,MAAM,IAAI9M,EAAQhB,kBAEtB,OAAO90B,KAAKw5C,QAAQ9c,EAAuB18B,KAAM+3C,EAA4B,IAAKc,GAA6BzsB,KAAKpsB,MAC5H,CACI,gBAAAs4B,GAEI,OADe,IAAI+F,EAAYrH,OAAOh3B,KAAKutB,OAAO0K,eAAeiV,KAAKltC,MAAOA,KAAKq3B,YACpEiB,kBACtB,CACI,gCAAOmhB,CAA0BC,EAAUC,EAAOC,EAAMlyB,EAAQ7jB,GAC5D,MAAMmvC,EAAS,IAAIsG,EAKnB,OAJAtG,EAAOlG,MAAK,IAAMkG,EAAO6G,wBAAwBH,EAAUC,EAAOC,EAAMlyB,EAAQ,IACzE7jB,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,cAE1D6d,CACf,CACI,gCAAM8G,CAA2BC,EAAKL,EAAUC,EAAOjyB,EAAQ7jB,GAC3D,MAAM4U,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D,MAAMhF,EAAO,IAAKjL,EAAQiS,QAAQ,GAC5BA,QAAeogB,EAAIC,kBAAkBN,EAAUC,EAAOhnB,EAAM,IAC3D9uB,EACH4U,OAAQzY,KAAKq3B,WAAW5e,SAE5BzY,KAAKmtC,aACL,UAAW,MAAM56B,KAASonB,EACtB+C,EAAuB18B,KAAM+3C,EAA4B,IAAKa,GAA2BxsB,KAAKpsB,KAAMuS,GAExG,GAAIonB,EAAOtC,WAAW5e,QAAQmqB,QAC1B,MAAM,IAAI9M,EAAQhB,kBAEtB,OAAO90B,KAAKw5C,QAAQ9c,EAAuB18B,KAAM+3C,EAA4B,IAAKc,GAA6BzsB,KAAKpsB,MAC5H,CACI,kCAAOi6C,CAA4BvyB,EAAQwyB,EAAQr2C,GAC/C,MAAMmvC,EAAS,IAAIsG,EAKnB,OAJAtG,EAAOlG,MAAK,IAAMkG,EAAOmH,uBAAuBzyB,EAAQwyB,EAAQ,IACzDr2C,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,cAE1D6d,CACf,CACI,4BAAOoH,CAAsBV,EAAUE,EAAMlyB,EAAQ7jB,GACjD,MAAMmvC,EAAS,IAAIsG,EAKnB,OAJAtG,EAAOlG,MAAK,IAAMkG,EAAOqH,oBAAoBX,EAAUE,EAAMlyB,EAAQ,IAC9D7jB,EACHsxB,QAAS,IAAKtxB,GAASsxB,QAAS,4BAA6B,cAE1D6d,CACf,CACI,YAAAsH,GACI,OAAO5d,EAAuB18B,KAAMy4C,EAA+B,IAC3E,CACI,UAAA8B,GACI,OAAO7d,EAAuB18B,KAAM04C,EAAqC,IACjF,CACI,sBAAA8B,GACI,OAAO9d,EAAuB18B,KAAMm4C,EAAkC,IAC9E,CACI,sBAAAsC,GACI,OAAO/d,EAAuB18B,KAAM24C,EAAyC,IACrF,CACI,mBAAM+B,GAEF,aADM16C,KAAKw3B,OACJptB,OAAOxI,OAAO86B,EAAuB18B,KAAMi4C,EAAmC,KAC7F,CACI,mBAAM0C,GAEF,aADM36C,KAAKw3B,OACJptB,OAAOxI,OAAO86B,EAAuB18B,KAAMk4C,EAAmC,KAC7F,CACI,cAAM0C,GAEF,SADM56C,KAAKw3B,QACNkF,EAAuB18B,KAAMo4C,EAA2B,KACzD,MAAM34C,MAAM,+BAChB,OAAOi9B,EAAuB18B,KAAMo4C,EAA2B,IACvE,CACI,kCAAMyC,CAA6BX,EAAQxyB,EAAQ7jB,GAC/C,MAAM4U,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D,MAAMhF,EAAO,IAAKjL,EAAQiS,QAAQ,GAC5BA,QAAeugB,EAAOY,aAAanoB,EAAM,IAAK9uB,EAAS4U,OAAQzY,KAAKq3B,WAAW5e,SACrFzY,KAAKmtC,aACL,UAAW,MAAM56B,KAASonB,EACtB+C,EAAuB18B,KAAM+3C,EAA4B,IAAKa,GAA2BxsB,KAAKpsB,KAAMuS,GAExG,GAAIonB,EAAOtC,WAAW5e,QAAQmqB,QAC1B,MAAM,IAAI9M,EAAQhB,kBAEtB,OAAO90B,KAAKw5C,QAAQ9c,EAAuB18B,KAAM+3C,EAA4B,IAAKc,GAA6BzsB,KAAKpsB,MAC5H,CACI,4BAAM+6C,CAAuBhB,EAAKL,EAAUhyB,EAAQ7jB,GAChD,MAAM4U,EAAS5U,GAAS4U,OACpBA,IACIA,EAAOmqB,SACP5iC,KAAKq3B,WAAWM,QACpBlf,EAAOmrB,iBAAiB,SAAS,IAAM5jC,KAAKq3B,WAAWM,WAE3D,MAAMhF,EAAO,IAAKjL,EAAQiS,QAAQ,GAC5BA,QAAeogB,EAAIxtB,OAAOmtB,EAAU/mB,EAAM,IAAK9uB,EAAS4U,OAAQzY,KAAKq3B,WAAW5e,SACtFzY,KAAKmtC,aACL,UAAW,MAAM56B,KAASonB,EACtB+C,EAAuB18B,KAAM+3C,EAA4B,IAAKa,GAA2BxsB,KAAKpsB,KAAMuS,GAExG,GAAIonB,EAAOtC,WAAW5e,QAAQmqB,QAC1B,MAAM,IAAI9M,EAAQhB,kBAEtB,OAAO90B,KAAKw5C,QAAQ9c,EAAuB18B,KAAM+3C,EAA4B,IAAKc,GAA6BzsB,KAAKpsB,MAC5H,CACI,sBAAOg7C,CAAgBn1B,EAAKqwB,GACxB,IAAK,MAAO7qC,EAAK4vC,KAAe7wC,OAAO2xB,QAAQma,GAAQ,CACnD,IAAKrwB,EAAIoC,eAAe5c,GAAM,CAC1Bwa,EAAIxa,GAAO4vC,EACX,QAChB,CACY,IAAIC,EAAWr1B,EAAIxa,GACnB,GAAI6vC,QAKJ,GAAY,UAAR7vC,GAA2B,SAARA,EAAvB,CAKA,GAAwB,iBAAb6vC,GAA+C,iBAAfD,EACvCC,GAAYD,OAEX,GAAwB,iBAAbC,GAA+C,iBAAfD,EAC5CC,GAAYD,MAEX,KAAIxR,EAAK9M,MAAMue,KAAazR,EAAK9M,MAAMse,GAGvC,IAAI35C,MAAMC,QAAQ25C,IAAa55C,MAAMC,QAAQ05C,GAAa,CAC3D,GAAIC,EAASxV,OAAO9J,GAAmB,iBAANA,GAA+B,iBAANA,IAAiB,CACvEsf,EAASj4C,QAAQg4C,GACjB,QACpB,CACgB,IAAK,MAAME,KAAcF,EAAY,CACjC,IAAKxR,EAAK9M,MAAMwe,GACZ,MAAM,IAAI17C,MAAM,uDAAuD07C,KAE3E,MAAMlhC,EAAQkhC,EAAkB,MAChC,GAAa,MAATlhC,EAEA,MADAmQ,QAAQhqB,MAAM+6C,GACR,IAAI17C,MAAM,0DAEpB,GAAqB,iBAAVwa,EACP,MAAM,IAAIxa,MAAM,wEAAwEwa,KAE5F,MAAMmhC,EAAWF,EAASjhC,GACV,MAAZmhC,EACAF,EAASj4C,KAAKk4C,GAGdD,EAASjhC,GAASja,KAAKg7C,gBAAgBI,EAAUD,EAEzE,CACgB,QAChB,CAEgB,MAAM17C,MAAM,0BAA0B4L,kBAAoB4vC,gBAAyBC,IACnG,CA/BgBA,EAAWl7C,KAAKg7C,gBAAgBE,EAAUD,EA+B1D,CACYp1B,EAAIxa,GAAO6vC,CAzCvB,MAFgBr1B,EAAIxa,GAAO4vC,OALXp1B,EAAIxa,GAAO4vC,CAiD3B,CACQ,OAAOp1B,CACf,CACI,OAAA2zB,CAAQO,GACJ,OAAOA,CACf,CACI,4BAAMI,CAAuBzyB,EAAQwyB,EAAQr2C,GACzC,aAAa7D,KAAK66C,6BAA6BX,EAAQxyB,EAAQ7jB,EACvE,CACI,yBAAMw2C,CAAoBX,EAAUE,EAAMlyB,EAAQ7jB,GAC9C,aAAa7D,KAAK+6C,uBAAuBnB,EAAMF,EAAUhyB,EAAQ7jB,EACzE,CACI,6BAAMg2C,CAAwBH,EAAUC,EAAOC,EAAMlyB,EAAQ7jB,GACzD,aAAa7D,KAAK85C,2BAA2BF,EAAMF,EAAUC,EAAOjyB,EAAQ7jB,EACpF,UAEAw1C,GAAAC,gBAA0BA,EAC1BV,EAA4B,SAAmCrmC,GAC3D,IAAIvS,KAAKotC,MAIT,OAFA9Q,EAAuBt8B,KAAMy4C,EAA+BlmC,EAAO,KACnEmqB,EAAuB18B,KAAM+3C,EAA4B,IAAKiB,GAA8B5sB,KAAKpsB,KAAMuS,GAC/FA,EAAMA,OACV,IAAK,iBAED,MACJ,IAAK,qBACL,IAAK,oBACL,IAAK,yBACL,IAAK,6BACL,IAAK,uBACL,IAAK,oBACL,IAAK,wBACL,IAAK,uBACL,IAAK,qBACDmqB,EAAuB18B,KAAM+3C,EAA4B,IAAKqB,GAA4BhtB,KAAKpsB,KAAMuS,GACrG,MACJ,IAAK,0BACL,IAAK,8BACL,IAAK,wBACL,IAAK,4BACL,IAAK,yBACL,IAAK,4BACL,IAAK,0BACDmqB,EAAuB18B,KAAM+3C,EAA4B,IAAKgB,GAAgC3sB,KAAKpsB,KAAMuS,GACzG,MACJ,IAAK,yBACL,IAAK,6BACL,IAAK,uBACL,IAAK,2BACL,IAAK,4BACDmqB,EAAuB18B,KAAM+3C,EAA4B,IAAKe,GAAgC1sB,KAAKpsB,KAAMuS,GACzG,MACJ,IAAK,QAED,MAAM,IAAI9S,MAAM,uFAE5B,EAAGo5C,EAA8B,WAC7B,GAAI74C,KAAKotC,MACL,MAAM,IAAItX,EAAQd,YAAY,2CAElC,IAAK0H,EAAuB18B,KAAMo4C,EAA2B,KACzD,MAAM34C,MAAM,mCAChB,OAAOi9B,EAAuB18B,KAAMo4C,EAA2B,IACnE,EAAGU,EAAiC,SAAwCvmC,GACxE,MAAO8oC,EAAoBC,GAAc5e,EAAuB18B,KAAM+3C,EAA4B,IAAKmB,GAAoC9sB,KAAKpsB,KAAMuS,EAAOmqB,EAAuB18B,KAAMm4C,EAAkC,MAC5N7b,EAAuBt8B,KAAMm4C,EAAkCkD,EAAoB,KACnF3e,EAAuB18B,KAAMk4C,EAAmC,KAAKmD,EAAmBjT,IAAMiT,EAC9F,IAAK,MAAMnM,KAAWoM,EAAY,CAC9B,MAAMC,EAAkBF,EAAmBnM,QAAQA,EAAQj1B,OAC9B,QAAzBshC,GAAiBhmB,MACjBv1B,KAAKitC,MAAM,cAAesO,EAAgBz8B,KAEtD,CACI,OAAQvM,EAAMA,OACV,IAAK,yBACDvS,KAAKitC,MAAM,iBAAkB16B,EAAMuT,MACnC,MACJ,IAAK,6BACD,MACJ,IAAK,uBAED,GADA9lB,KAAKitC,MAAM,eAAgB16B,EAAMuT,KAAKowB,MAAOmF,GACzC9oC,EAAMuT,KAAKowB,MAAMhH,QACjB,IAAK,MAAMA,KAAW38B,EAAMuT,KAAKowB,MAAMhH,QAAS,CAE5C,GAAoB,QAAhBA,EAAQ3Z,MAAkB2Z,EAAQpwB,KAAM,CACxC,IAAI08B,EAAYtM,EAAQpwB,KACpBq3B,EAAWkF,EAAmBnM,QAAQA,EAAQj1B,OAClD,IAAIk8B,GAA6B,QAAjBA,EAAS5gB,KAIrB,MAAM91B,MAAM,uEAHZO,KAAKitC,MAAM,YAAauO,EAAWrF,EAASr3B,KAKxE,CACoB,GAAIowB,EAAQj1B,OAASyiB,EAAuB18B,KAAMq4C,EAAsC,KAAM,CAE1F,GAAI3b,EAAuB18B,KAAMs4C,EAAiC,KAC9D,OAAQ5b,EAAuB18B,KAAMs4C,EAAiC,KAAK/iB,MACvE,IAAK,OACDv1B,KAAKitC,MAAM,WAAYvQ,EAAuB18B,KAAMs4C,EAAiC,KAAKx5B,KAAM4d,EAAuB18B,KAAMm4C,EAAkC,MAC/J,MACJ,IAAK,aACDn4C,KAAKitC,MAAM,gBAAiBvQ,EAAuB18B,KAAMs4C,EAAiC,KAAKmD,WAAY/e,EAAuB18B,KAAMm4C,EAAkC,MAItL7b,EAAuBt8B,KAAMq4C,EAAsCnJ,EAAQj1B,MAAO,IAC1G,CACoBqiB,EAAuBt8B,KAAMs4C,EAAiC+C,EAAmBnM,QAAQA,EAAQj1B,OAAQ,IAC7H,CAEY,MACJ,IAAK,2BACL,IAAK,4BAED,QAAgF9Z,IAA5Eu8B,EAAuB18B,KAAMq4C,EAAsC,KAAoB,CACvF,MAAMqD,EAAiBnpC,EAAMuT,KAAKopB,QAAQxS,EAAuB18B,KAAMq4C,EAAsC,MAC7G,GAAIqD,EACA,OAAQA,EAAenmB,MACnB,IAAK,aACDv1B,KAAKitC,MAAM,gBAAiByO,EAAeD,WAAY/e,EAAuB18B,KAAMm4C,EAAkC,MACtH,MACJ,IAAK,OACDn4C,KAAKitC,MAAM,WAAYyO,EAAe58B,KAAM4d,EAAuB18B,KAAMm4C,EAAkC,MAIvI,CACgBzb,EAAuB18B,KAAMm4C,EAAkC,MAC/Dn4C,KAAKitC,MAAM,cAAe16B,EAAMuT,MAEpCwW,EAAuBt8B,KAAMm4C,OAAkCh4C,EAAW,KAEtF,EAAG44C,EAAiC,SAAwCxmC,GACxE,MAAMopC,EAAqBjf,EAAuB18B,KAAM+3C,EAA4B,IAAKkB,GAAoC7sB,KAAKpsB,KAAMuS,GAExI,OADA+pB,EAAuBt8B,KAAM24C,EAAyCgD,EAAoB,KAClFppC,EAAMA,OACV,IAAK,0BACDvS,KAAKitC,MAAM,iBAAkB16B,EAAMuT,MACnC,MACJ,IAAK,wBACD,MAAMowB,EAAQ3jC,EAAMuT,KAAKowB,MACzB,GAAIA,EAAM0F,cACqB,cAA3B1F,EAAM0F,aAAarmB,MACnB2gB,EAAM0F,aAAalN,YACqB,cAAxCiN,EAAmBC,aAAarmB,KAChC,IAAK,MAAMoZ,KAAYuH,EAAM0F,aAAalN,WAClCC,EAAS10B,OAASyiB,EAAuB18B,KAAMu4C,EAAuC,KACtFv4C,KAAKitC,MAAM,gBAAiB0B,EAAUgN,EAAmBC,aAAalN,WAAWC,EAAS10B,SAGtFyiB,EAAuB18B,KAAMw4C,EAAkC,MAC/Dx4C,KAAKitC,MAAM,eAAgBvQ,EAAuB18B,KAAMw4C,EAAkC,MAE9Flc,EAAuBt8B,KAAMu4C,EAAuC5J,EAAS10B,MAAO,KACpFqiB,EAAuBt8B,KAAMw4C,EAAkCmD,EAAmBC,aAAalN,WAAWC,EAAS10B,OAAQ,KACvHyiB,EAAuB18B,KAAMw4C,EAAkC,MAC/Dx4C,KAAKitC,MAAM,kBAAmBvQ,EAAuB18B,KAAMw4C,EAAkC,OAI7Gx4C,KAAKitC,MAAM,eAAgB16B,EAAMuT,KAAKowB,MAAOyF,GAC7C,MACJ,IAAK,4BACL,IAAK,yBACL,IAAK,4BACL,IAAK,0BACDrf,EAAuBt8B,KAAM24C,OAAyCx4C,EAAW,KAE7D,cADJoS,EAAMuT,KAAK81B,aACfrmB,MACJmH,EAAuB18B,KAAMw4C,EAAkC,OAC/Dx4C,KAAKitC,MAAM,eAAgBvQ,EAAuB18B,KAAMw4C,EAAkC,MAC1Flc,EAAuBt8B,KAAMw4C,OAAkCr4C,EAAW,MAGlFH,KAAKitC,MAAM,cAAe16B,EAAMuT,KAAM61B,GAKlD,EAAG3C,EAA+B,SAAsCzmC,GACpEmqB,EAAuB18B,KAAMg4C,EAAyB,KAAK/0C,KAAKsP,GAChEvS,KAAKitC,MAAM,QAAS16B,EACxB,EAAG0mC,EAAqC,SAA4C1mC,GAChF,OAAQA,EAAMA,OACV,IAAK,0BAED,OADAmqB,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAAM71B,EAAMuT,KACrFvT,EAAMuT,KACjB,IAAK,wBACD,IAAIqwB,EAAWzZ,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAC/F,IAAK+N,EACD,MAAM12C,MAAM,yDAEhB,IAAIqmB,EAAOvT,EAAMuT,KACjB,GAAIA,EAAKowB,MAAO,CACZ,MAAM2F,EAAcvC,EAAgB0B,gBAAgB7E,EAAUrwB,EAAKowB,OACnExZ,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAAMyT,CACtG,CACY,OAAOnf,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAC3F,IAAK,4BACL,IAAK,yBACL,IAAK,4BACL,IAAK,0BACL,IAAK,8BACD1L,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAAM71B,EAAMuT,KAGpG,GAAI4W,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAChF,OAAO1L,EAAuB18B,KAAMi4C,EAAmC,KAAK1lC,EAAMuT,KAAKsiB,IAC3F,MAAM,IAAI3oC,MAAM,wBACnB,EAAEy5C,EAAqC,SAA4C3mC,EAAO4jC,GACvF,IAAImF,EAAa,GACjB,OAAQ/oC,EAAMA,OACV,IAAK,yBAED,MAAO,CAACA,EAAMuT,KAAMw1B,GACxB,IAAK,uBACD,IAAKnF,EACD,MAAM12C,MAAM,0FAEhB,IAAIqmB,EAAOvT,EAAMuT,KAEjB,GAAIA,EAAKowB,MAAMhH,QACX,IAAK,MAAM4M,KAAkBh2B,EAAKowB,MAAMhH,QACpC,GAAI4M,EAAe7hC,SAASk8B,EAASjH,QAAS,CAC1C,IAAIwM,EAAiBvF,EAASjH,QAAQ4M,EAAe7hC,OACrDk8B,EAASjH,QAAQ4M,EAAe7hC,OAASyiB,EAAuB18B,KAAM+3C,EAA4B,IAAKoB,GAAoC/sB,KAAKpsB,KAAM87C,EAAgBJ,EAC9L,MAEwBvF,EAASjH,QAAQ4M,EAAe7hC,OAAS6hC,EAEzCR,EAAWr4C,KAAK64C,GAI5B,MAAO,CAAC3F,EAAUmF,GACtB,IAAK,6BACL,IAAK,2BACL,IAAK,4BAED,GAAInF,EACA,MAAO,CAACA,EAAUmF,GAGlB,MAAM77C,MAAM,2DAGxB,MAAMA,MAAM,0CACf,EAAE05C,EAAqC,SAA4C2C,EAAgBJ,GAChG,OAAOpC,EAAgB0B,gBAAgBU,EAAgBI,EAC3D,EAAG1C,EAA6B,SAAoC7mC,GAEhE,OADA+pB,EAAuBt8B,KAAM04C,EAAqCnmC,EAAMuT,KAAM,KACtEvT,EAAMA,OACV,IAAK,qBAEL,IAAK,oBAEL,IAAK,yBACD,MACJ,IAAK,6BACL,IAAK,uBACL,IAAK,oBACL,IAAK,uBACL,IAAK,qBACD+pB,EAAuBt8B,KAAMo4C,EAA2B7lC,EAAMuT,KAAM,KAChE4W,EAAuB18B,KAAMw4C,EAAkC,OAC/Dx4C,KAAKitC,MAAM,eAAgBvQ,EAAuB18B,KAAMw4C,EAAkC,MAC1Flc,EAAuBt8B,KAAMw4C,OAAkCr4C,EAAW,MAMzF,qDCjkBDiK,OAAO2gB,eAAe4lB,GAAS,aAAc,CAAEvvC,OAAO,IACtDuvC,GAAAoL,aAAuBpL,GAAAqL,cAAmB,EAC1C,MAAMrT,EAA4CroC,KAC5C20B,EAAoCnoB,KACpCy9B,EAAgDv9B,KACtD,MAAMgvC,UAAiBrT,EAAWJ,YAI9B,MAAAhc,CAAOmtB,EAAU/mB,EAAM9uB,GACnB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,aAAqB,CACtD/mB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,QAAAqV,CAASkP,EAAUuC,EAAWp4C,GAC1B,OAAO7D,KAAKwoC,QAAQ98B,IAAI,YAAYguC,cAAqBuC,IAAa,IAC/Dp4C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,MAAA4V,CAAO2O,EAAUuC,EAAWtpB,EAAM9uB,GAC9B,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,cAAqBuC,IAAa,CACnEtpB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,IAAAuV,CAAKgP,EAAUpY,EAAQ,CAAA,EAAIz9B,GACvB,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAKgP,EAAU,CAAA,EAAIpY,GAE5BthC,KAAKwoC,QAAQzH,WAAW,YAAY2Y,aAAqBqC,EAAc,CAC1Eza,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,GAAA6V,CAAI0O,EAAUuC,EAAWp4C,GACrB,OAAO7D,KAAKwoC,QAAQyC,OAAO,YAAYyO,cAAqBuC,IAAa,IAClEp4C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,EAEAwb,GAAAqL,SAAmBA,EACnB,MAAMD,UAAqBxR,EAAatC,mBAExC0I,GAAAoL,aAAuBA,EACvBC,EAASD,aAAeA,iEC3DxB3xC,OAAO2gB,eAAemxB,GAAS,aAAc,CAAE96C,OAAO,IACtD86C,GAAAC,aAAuBD,GAAAE,WAAgB,EACvC,MAAMzT,EAA+CroC,KAC/C20B,EAAuCnoB,KACvCy9B,EAAmDv9B,KACzD,MAAMovC,UAAczT,EAAWJ,YAC3B,QAAAiC,CAASkP,EAAUC,EAAO0C,EAAQ/a,EAAQ,CAAE,EAAEz9B,GAC1C,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAKwqC,SAASkP,EAAUC,EAAO0C,EAAQ,CAAE,EAAE/a,GAE/CthC,KAAKwoC,QAAQ98B,IAAI,YAAYguC,UAAiBC,WAAe0C,IAAU,CAC1E/a,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,IAAAuV,CAAKgP,EAAUC,EAAOrY,EAAQ,CAAA,EAAIz9B,GAC9B,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAKgP,EAAUC,EAAO,CAAA,EAAIrY,GAEnCthC,KAAKwoC,QAAQzH,WAAW,YAAY2Y,UAAiBC,UAAewC,EAAc,CACrF7a,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,EAEA+mB,GAAAE,MAAgBA,EAChB,MAAMD,UAAqB5R,EAAatC,mBAExCiU,GAAAC,aAAuBA,EACvBC,EAAMD,aAAeA,wCC/BrB,IAAI5oB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAe6uB,GAAS,aAAc,CAAEx4C,OAAO,IACtDw4C,GAAA0C,SAAmB1C,GAAA2C,UAAe,EAClC,MAAM5T,EAA+CroC,KAC/C20B,EAAuCnoB,KACvCusC,EAAiErsC,KACjEwvC,EAAuC1vC,KACvC2vC,EAAW5T,QACX6T,EAA+BxvC,KAC/Bq9B,EAAmDn9B,KACzD,MAAMmvC,UAAa5T,EAAWJ,YAC1B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKk8C,MAAQ,IAAIO,EAASL,MAAMp8C,KAAKwoC,QAC7C,CACI,MAAAjc,CAAOmtB,EAAUhyB,EAAQ7jB,GACrB,MAAM84C,QAAEA,KAAYhqB,GAASjL,EAC7B,OAAO1nB,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,SAAiB,CAClDpY,MAAO,CAAEqb,WACThqB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,SACvDwE,OAAQjS,EAAOiS,SAAU,GAErC,CAII,QAAA6Q,CAASkP,EAAUC,EAAO91C,GACtB,OAAO7D,KAAKwoC,QAAQ98B,IAAI,YAAYguC,UAAiBC,IAAS,IACvD91C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,MAAA4V,CAAO2O,EAAUC,EAAOhnB,EAAM9uB,GAC1B,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,UAAiBC,IAAS,CAC3DhnB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,IAAAuV,CAAKgP,EAAUpY,EAAQ,CAAA,EAAIz9B,GACvB,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAKgP,EAAU,CAAA,EAAIpY,GAE5BthC,KAAKwoC,QAAQzH,WAAW,YAAY2Y,SAAiB4C,EAAU,CAClEhb,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,MAAA2D,CAAO4gB,EAAUC,EAAO91C,GACpB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,UAAiBC,WAAgB,IAC/D91C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAMI,mBAAMynB,CAAclD,EAAU/mB,EAAM9uB,GAChC,MAAMk2C,QAAY/5C,KAAKusB,OAAOmtB,EAAU/mB,EAAM9uB,GAC9C,aAAa7D,KAAK68C,KAAKnD,EAAUK,EAAI3R,GAAIvkC,EACjD,CAMI,eAAAi5C,CAAgBpD,EAAU/mB,EAAM9uB,GAC5B,OAAOw1C,EAAkBC,gBAAgBc,sBAAsBV,EAAU15C,KAAKwoC,QAAQuU,KAAKC,QAAQpD,KAAMjnB,EAAM9uB,EACvH,CAMI,UAAMg5C,CAAKnD,EAAUC,EAAO91C,GACxB,MAAMsxB,EAAU,IAAKtxB,GAASsxB,QAAS,0BAA2B,QAIlE,IAHItxB,GAASo5C,iBACT9nB,EAAQ,oCAAsCtxB,EAAQo5C,eAAehxB,cAE5D,CACT,MAAQnG,KAAMi0B,EAAGxvB,SAAEA,SAAmBvqB,KAAKwqC,SAASkP,EAAUC,EAAO,IAC9D91C,EACHsxB,QAAS,IAAKtxB,GAASsxB,WAAYA,KACpCgK,eACH,OAAQ4a,EAAI7kB,QAER,IAAK,SACL,IAAK,cACL,IAAK,aACD,IAAIgoB,EAAgB,IACpB,GAAIr5C,GAASo5C,eACTC,EAAgBr5C,EAAQo5C,mBAEvB,CACD,MAAME,EAAiB5yB,EAAS4K,QAAQzpB,IAAI,wBAC5C,GAAIyxC,EAAgB,CAChB,MAAMC,EAAmBh+B,SAAS+9B,GAC7BrzB,MAAMszB,KACPF,EAAgBE,EAEhD,CACA,OAC0B,EAAIZ,EAAO5e,OAAOsf,GACxB,MAEJ,IAAK,kBACL,IAAK,aACL,IAAK,YACL,IAAK,YACL,IAAK,SACL,IAAK,UACD,OAAOnD,EAE3B,CACA,CAII,MAAApgB,CAAO+f,EAAU/mB,EAAM9uB,GACnB,OAAOw1C,EAAkBC,gBAAgBc,sBAAsBV,EAAU15C,KAAKwoC,QAAQuU,KAAKC,QAAQpD,KAAMjnB,EAAM9uB,EACvH,CACI,iBAAAm2C,CAAkBN,EAAUC,EAAOhnB,EAAM9uB,GACrC,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,UAAiBC,wBAA6B,CAC/EhnB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,SACvDwE,OAAQhH,EAAKgH,SAAU,GAEnC,CAMI,8BAAM0jB,CAAyB3D,EAAUC,EAAOhnB,EAAM9uB,GAClD,MAAMk2C,QAAY/5C,KAAKg6C,kBAAkBN,EAAUC,EAAOhnB,EAAM9uB,GAChE,aAAa7D,KAAK68C,KAAKnD,EAAUK,EAAI3R,GAAIvkC,EACjD,CAMI,uBAAAy5C,CAAwB5D,EAAUC,EAAOhnB,EAAM9uB,GAC3C,OAAOw1C,EAAkBC,gBAAgBG,0BAA0BC,EAAUC,EAAO35C,KAAKwoC,QAAQuU,KAAKC,QAAQpD,KAAMjnB,EAAM9uB,EAClI,EAEA+1C,GAAA2C,KAAeA,EACf,MAAMD,UAAiB/R,EAAatC,mBAEpC2R,GAAA0C,SAAmBA,EACnBC,EAAKD,SAAWA,EAChBC,EAAKH,MAAQM,EAAQN,MACrBG,EAAKJ,aAAeO,EAAQP,mDC1L5B,IAAI5oB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAeiyB,GAAS,aAAc,CAAE57C,OAAO,IACvC47C,GAAAO,aAAG,EAClB,MAAM5U,EAA4CroC,KAC5C20B,EAAoCnoB,KACpCusC,EAA8DrsC,KAC9DwwC,EAAc3U,QACd4U,EAAqCvwC,KACrCwwC,EAAU7U,QACV8U,EAAkCvwC,KACxC,MAAMmwC,UAAgB5U,EAAWJ,YAC7B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAK45C,KAAO,IAAI8D,EAAQnB,KAAKv8C,KAAKwoC,SAClCxoC,KAAK2wC,SAAW,IAAI6M,EAAYxB,SAASh8C,KAAKwoC,QACtD,CACI,MAAAjc,CAAOoG,EAAO,CAAE,EAAE9uB,GACd,OAAI,EAAIoxB,EAAO6I,kBAAkBnL,GACtB3yB,KAAKusB,OAAO,CAAE,EAAEoG,GAEpB3yB,KAAKwoC,QAAQ/H,KAAK,WAAY,CACjC9N,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,QAAAqV,CAASkP,EAAU71C,GACf,OAAO7D,KAAKwoC,QAAQ98B,IAAI,YAAYguC,IAAY,IACzC71C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,MAAA4V,CAAO2O,EAAU/mB,EAAM9uB,GACnB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYiZ,IAAY,CAC7C/mB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,GAAA6V,CAAI0O,EAAU71C,GACV,OAAO7D,KAAKwoC,QAAQyC,OAAO,YAAYyO,IAAY,IAC5C71C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,YAAA2lB,CAAanoB,EAAM9uB,GACf,OAAO7D,KAAKwoC,QAAQ/H,KAAK,gBAAiB,CACtC9N,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,SACvDwE,OAAQhH,EAAKgH,SAAU,GAEnC,CAMI,sBAAMikB,CAAiBjrB,EAAM9uB,GACzB,MAAMk2C,QAAY/5C,KAAK86C,aAAanoB,EAAM9uB,GAC1C,aAAa7D,KAAK45C,KAAKiD,KAAK9C,EAAI8D,UAAW9D,EAAI3R,GAAIvkC,EAC3D,CAII,kBAAAi6C,CAAmBnrB,EAAM9uB,GACrB,OAAOw1C,EAAkBC,gBAAgBW,4BAA4BtnB,EAAM3yB,KAAKwoC,QAAQuU,KAAKC,QAASn5C,EAC9G,SAEAm5C,GAAAO,QAAkBA,EAClBA,EAAQhB,KAAOoB,EAAOpB,KACtBgB,EAAQjB,SAAWqB,EAAOrB,SAC1BiB,EAAQvB,SAAWyB,EAAWzB,SAC9BuB,EAAQxB,aAAe0B,EAAW1B,4ECzGlC3xC,OAAO2gB,eAAegzB,GAAS,aAAc,CAAE38C,OAAO,IAC3B28C,GAAAC,yBAAG,SAsB9BD,GAAAC,oBAlB4B11B,MAAO21B,IAC/B,MAAMC,QAAgB31B,QAAQ41B,WAAWF,GACnCG,EAAWF,EAAQr7C,QAAQsN,GAA6B,aAAlBA,EAAO+kB,SACnD,GAAIkpB,EAASl9C,OAAQ,CACjB,IAAK,MAAMiP,KAAUiuC,EACjBh0B,QAAQhqB,MAAM+P,EAAOkuC,QAEzB,MAAM,IAAI5+C,MAAM,GAAG2+C,EAASl9C,kDACpC,CAEI,MAAMU,EAAS,GACf,IAAK,MAAMuO,KAAU+tC,EACK,cAAlB/tC,EAAO+kB,QACPtzB,EAAOqB,KAAKkN,EAAO/O,OAG3B,OAAOQ,CAAM,8DCpBjBwI,OAAO2gB,eAAeuzB,GAAS,aAAc,CAAEl9C,OAAO,IACtDk9C,GAAAC,qBAA+BD,GAAAE,WAAgB,EAC/C,MAAM7V,EAA4CroC,KAC5C20B,EAAoCnoB,KACpCy9B,EAAgDv9B,KACtD,MAAMwxC,UAAc7V,EAAWJ,YAM3B,MAAAhc,CAAOkyB,EAAe9rB,EAAM9uB,GACxB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,kBAAkBge,UAAuB,CAC9D9rB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,QAAAqV,CAASiU,EAAeC,EAAQ76C,GAC5B,OAAO7D,KAAKwoC,QAAQ98B,IAAI,kBAAkB+yC,WAAuBC,IAAU,IACpE76C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,IAAAuV,CAAK+T,EAAend,EAAQ,CAAA,EAAIz9B,GAC5B,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAK+T,EAAe,CAAA,EAAInd,GAEjCthC,KAAKwoC,QAAQzH,WAAW,kBAAkB0d,UAAuBF,EAAsB,CAC1Fjd,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAOI,GAAA6V,CAAIyT,EAAeC,EAAQ76C,GACvB,OAAO7D,KAAKwoC,QAAQyC,OAAO,kBAAkBwT,WAAuBC,IAAU,IACvE76C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,mBAAMynB,CAAc6B,EAAe9rB,EAAM9uB,GACrC,MAAMs4B,QAAan8B,KAAKusB,OAAOkyB,EAAe9rB,EAAM9uB,GACpD,aAAa7D,KAAK68C,KAAK4B,EAAetiB,EAAKiM,GAAIvkC,EACvD,CAOI,UAAMg5C,CAAK4B,EAAeC,EAAQ76C,GAC9B,MAAMsxB,EAAU,IAAKtxB,GAASsxB,QAAS,0BAA2B,QAIlE,IAHItxB,GAASo5C,iBACT9nB,EAAQ,oCAAsCtxB,EAAQo5C,eAAehxB,cAE5D,CACT,MAAM0yB,QAAqB3+C,KAAKwqC,SAASiU,EAAeC,EAAQ,IACzD76C,EACHsxB,YACDgK,eACGhD,EAAOwiB,EAAa74B,KAC1B,OAAQqW,EAAKjH,QACT,IAAK,cACD,IAAIgoB,EAAgB,IACpB,GAAIr5C,GAASo5C,eACTC,EAAgBr5C,EAAQo5C,mBAEvB,CACD,MAAME,EAAiBwB,EAAap0B,SAAS4K,QAAQzpB,IAAI,wBACzD,GAAIyxC,EAAgB,CAChB,MAAMC,EAAmBh+B,SAAS+9B,GAC7BrzB,MAAMszB,KACPF,EAAgBE,EAEhD,CACA,OAC0B,EAAInoB,EAAO2I,OAAOsf,GACxB,MACJ,IAAK,SACL,IAAK,YACD,OAAO/gB,EAE3B,CACA,CAOI,YAAMyiB,CAAOH,EAAetiB,EAAMt4B,GAC9B,MAAMg7C,QAAiB7+C,KAAKwoC,QAAQ8V,MAAM/xB,OAAO,CAAE4P,KAAMA,EAAM2iB,QAAS,cAAgBj7C,GACxF,OAAO7D,KAAKusB,OAAOkyB,EAAe,CAAEM,QAASF,EAASzW,IAAMvkC,EACpE,CAII,mBAAMm7C,CAAcP,EAAetiB,EAAMt4B,GACrC,MAAMg7C,QAAiB7+C,KAAK4+C,OAAOH,EAAetiB,EAAMt4B,GACxD,aAAa7D,KAAK68C,KAAK4B,EAAeI,EAASzW,GAAIvkC,EAC3D,EAEAy6C,GAAAE,MAAgBA,EAChB,MAAMD,UAA6BhU,EAAatC,mBAEhDqW,GAAAC,qBAA+BA,EAC/BC,EAAMD,qBAAuBA,gDCtH7Bn0C,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAA+BgtB,qBAAAhtB,EAAA0tB,iBAAsB,EACrD,MAAMtW,EAA4CroC,KAC5C20B,EAAoCnoB,KACpC0vC,EAAoC1vC,KACpCoyC,EAAwClyC,KACxCmyC,EAA+BjyC,KACrC9C,OAAO2gB,eAAewG,EAAS,uBAAwB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOyzC,EAAQZ,oBAAuB,IACpI,MAAMU,UAAoBtW,EAAWJ,YAIjC,MAAAhc,CAAOkyB,EAAe9rB,EAAM9uB,GACxB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,kBAAkBge,iBAA8B,CACrE9rB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,QAAAqV,CAASiU,EAAehU,EAAS5mC,GAC7B,OAAO7D,KAAKwoC,QAAQ98B,IAAI,kBAAkB+yC,kBAA8BhU,IAAW,IAC5E5mC,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAKI,MAAA2D,CAAO2lB,EAAehU,EAAS5mC,GAC3B,OAAO7D,KAAKwoC,QAAQ/H,KAAK,kBAAkBge,kBAA8BhU,WAAkB,IACpF5mC,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,mBAAMynB,CAAc6B,EAAe9rB,EAAM9uB,GACrC,MAAMu7C,QAAcp/C,KAAKusB,OAAOkyB,EAAe9rB,GAC/C,aAAa3yB,KAAK68C,KAAK4B,EAAeW,EAAMhX,GAAIvkC,EACxD,CACI,SAAAw7C,CAAUZ,EAAehU,EAASnJ,EAAQ,CAAA,EAAIz9B,GAC1C,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAKq/C,UAAUZ,EAAehU,EAAS,CAAA,EAAInJ,GAE/CthC,KAAKwoC,QAAQzH,WAAW,kBAAkB0d,kBAA8BhU,UAAiB0U,EAAQZ,qBAAsB,CAAEjd,WAAUz9B,EAASsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAClN,CAOI,UAAM0nB,CAAK4B,EAAehU,EAAS5mC,GAC/B,MAAMsxB,EAAU,IAAKtxB,GAASsxB,QAAS,0BAA2B,QAIlE,IAHItxB,GAASo5C,iBACT9nB,EAAQ,oCAAsCtxB,EAAQo5C,eAAehxB,cAE5D,CACT,MAAQnG,KAAMs5B,EAAK70B,SAAEA,SAAmBvqB,KAAKwqC,SAASiU,EAAehU,EAAS,IACvE5mC,EACHsxB,YACDgK,eACH,OAAQigB,EAAMlqB,QACV,IAAK,cACD,IAAIgoB,EAAgB,IACpB,GAAIr5C,GAASo5C,eACTC,EAAgBr5C,EAAQo5C,mBAEvB,CACD,MAAME,EAAiB5yB,EAAS4K,QAAQzpB,IAAI,wBAC5C,GAAIyxC,EAAgB,CAChB,MAAMC,EAAmBh+B,SAAS+9B,GAC7BrzB,MAAMszB,KACPF,EAAgBE,EAEhD,CACA,OAC0B,EAAIZ,EAAO5e,OAAOsf,GACxB,MACJ,IAAK,SACL,IAAK,YACL,IAAK,YACD,OAAOkC,EAE3B,CACA,CAMI,mBAAMJ,CAAcP,GAAeH,MAAEA,EAAKgB,QAAEA,EAAU,IAAMz7C,GACxD,GAAa,MAATy6C,GAAiC,GAAhBA,EAAMp9C,OACvB,MAAM,IAAIzB,MAAM,8GAEpB,MAAM8/C,EAAwB17C,GAAS27C,gBAAkB,EAEnDC,EAAmB/5C,KAAK+G,IAAI8yC,EAAuBjB,EAAMp9C,QACzD2jC,EAAS7kC,KAAKwoC,QACdkX,EAAepB,EAAM18C,SACrB+9C,EAAa,IAAIL,GAUvB,MAAMM,EAAUt+C,MAAMm+C,GAAkBI,KAAKH,GAAc16C,KAP3DsjB,eAA4B8O,GACxB,IAAK,IAAI3K,KAAQ2K,EAAU,CACvB,MAAM0oB,QAAgBjb,EAAOyZ,MAAM/xB,OAAO,CAAE4P,KAAM1P,EAAMqyB,QAAS,cAAgBj7C,GACjF87C,EAAW18C,KAAK68C,EAAQ1X,GACxC,CACA,IAKQ,aADM,EAAI8W,EAAOlB,qBAAqB4B,SACzB5/C,KAAK48C,cAAc6B,EAAe,CAC3CsB,SAAUJ,GAEtB,EAEApuB,EAAA0tB,YAAsBA,8CC3HtB,IAAI1rB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAei1B,GAAS,aAAc,CAAE5+C,OAAO,IACtD4+C,GAAAC,iBAA2BD,GAAAE,kBAAuB,EAClD,MAAMvX,EAA4CroC,KAC5C20B,EAAoCnoB,KACpCqzC,EAAiBtX,QACjBuX,EAA6CpzC,KAC7CqzC,EAAWxX,QACXsW,EAA+BjyC,KAC/Bq9B,EAAgDn9B,KACtD,MAAM8yC,UAAqBvX,EAAWJ,YAClC,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKs+C,MAAQ,IAAI+B,EAAS7B,MAAMx+C,KAAKwoC,SACrCxoC,KAAKsgD,YAAc,IAAIH,EAAelB,YAAYj/C,KAAKwoC,QAC/D,CAII,MAAAjc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,iBAAkB,CACvC9N,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,QAAAqV,CAASiU,EAAe56C,GACpB,OAAO7D,KAAKwoC,QAAQ98B,IAAI,kBAAkB+yC,IAAiB,IACpD56C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,MAAA4V,CAAO0T,EAAe9rB,EAAM9uB,GACxB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,kBAAkBge,IAAiB,CACxD9rB,UACG9uB,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CACI,IAAAuV,CAAKpJ,EAAQ,CAAE,EAAEz9B,GACb,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAK,CAAE,EAAEpJ,GAElBthC,KAAKwoC,QAAQzH,WAAW,iBAAkBkf,EAAkB,CAC/D3e,WACGz9B,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,CAII,GAAA6V,CAAIyT,EAAe56C,GACf,OAAO7D,KAAKwoC,QAAQyC,OAAO,kBAAkBwT,IAAiB,IACvD56C,EACHsxB,QAAS,CAAE,cAAe,mBAAoBtxB,GAASsxB,UAEnE,EAEA6qB,GAAAE,aAAuBA,EACvB,MAAMD,UAAyB1V,EAAatC,mBAE5C+X,GAAAC,iBAA2BA,EAC3BC,EAAaD,iBAAmBA,EAChCC,EAAa1B,MAAQW,EAAQX,MAC7B0B,EAAa3B,qBAAuBY,EAAQZ,qBAC5C2B,EAAajB,YAAcmB,EAAenB,kDC9F1C,IAAI1rB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAegyB,GAAS,aAAc,CAAE37C,OAAO,IAC1C27C,GAAAwD,UAAG,EACf,MAAM5X,EAAyCroC,KACzCkgD,EAAgB3X,QAChB4X,EAAU5X,QACV6X,EAAyC5zC,KACzC6zC,EAAa9X,QACb+X,EAA2C1zC,KAC3C2zC,EAAkBhY,QAClBiY,EAA6D1zC,KAEnE,MAAMmzC,UAAa5X,EAAWJ,YAC1B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKggD,aAAe,IAAIa,EAAgBX,aAAalgD,KAAKwoC,SAC1DxoC,KAAK+oC,KAAO,IAAI0X,EAAQzX,KAAKhpC,KAAKwoC,SAClCxoC,KAAK2qC,WAAa,IAAI6V,EAAc3V,WAAW7qC,KAAKwoC,SACpDxoC,KAAKg9C,QAAU,IAAI2D,EAAWpD,QAAQv9C,KAAKwoC,QACnD,SAEAuU,GAAAwD,KAAeA,EACfA,EAAKL,aAAeY,EAAgBZ,aACpCK,EAAKN,iBAAmBa,EAAgBb,iBACxCM,EAAK1V,WAAa6V,EAAa7V,WAC/B0V,EAAK3V,eAAiB8V,EAAa9V,eACnC2V,EAAKhD,QAAUqD,EAAUrD,2DChDzBnzC,OAAO2gB,eAAe0d,GAAS,aAAc,CAAErnC,OAAO,IACnCqnC,GAAAC,iBAAG,EACtB,MAAMC,EAAsCroC,KAC5C,MAAMooC,UAAoBC,EAAWJ,YACjC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,eAAgB,CAAE9N,UAAS9uB,EAAS81B,OAAQhH,EAAKgH,SAAU,GAC5F,SAEA8O,GAAAC,YAAsBA,qDCRtBt+B,OAAO2gB,eAAeg2B,GAAS,aAAc,CAAE3/C,OAAO,IACpC2/C,GAAAC,gBAAG,EACrB,MAAMrY,EAAsCroC,KAC5C,MAAM0gD,UAAmBrY,EAAWJ,YAIhC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,cAAe,CAAE9N,UAAS9uB,GAC3D,SAEAk9C,GAAAC,WAAqBA,qDCXrB,IAAIztB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAeuzB,GAAS,aAAc,CAAEl9C,OAAO,IACtDk9C,GAAA2C,gBAA0B3C,GAAAE,WAAgB,EAC1C,MAAM7V,EAAsCroC,KACtC20B,EAA8BnoB,KAC9B0vC,EAA8B1vC,KAC9BgpB,EAAgC9oB,KAChCy8B,EAAOZ,QACP0B,EAA0Cr9B,KAChD,MAAMsxC,UAAc7V,EAAWJ,YAwB3B,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,SAAUgJ,EAAKrP,4BAA4B,CAAEzH,UAAS9uB,IACvF,CAII,QAAA2mC,CAASkU,EAAQ76C,GACb,OAAO7D,KAAKwoC,QAAQ98B,IAAI,UAAUgzC,IAAU76C,EACpD,CACI,IAAA6mC,CAAKpJ,EAAQ,CAAE,EAAEz9B,GACb,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAK,CAAE,EAAEpJ,GAElBthC,KAAKwoC,QAAQzH,WAAW,SAAUkgB,EAAiB,CAAE3f,WAAUz9B,GAC9E,CAII,GAAAmnC,CAAI0T,EAAQ76C,GACR,OAAO7D,KAAKwoC,QAAQyC,OAAO,UAAUyT,IAAU76C,EACvD,CAII,OAAAqrC,CAAQwP,EAAQ76C,GACZ,OAAO7D,KAAKwoC,QAAQ98B,IAAI,UAAUgzC,YAAkB,IAAK76C,EAAS66B,kBAAkB,GAC5F,CAMI,eAAAwiB,CAAgBxC,EAAQ76C,GACpB,OAAO7D,KAAKwoC,QAAQ98B,IAAI,UAAUgzC,YAAkB,IAC7C76C,EACHsxB,QAAS,CAAE8K,OAAQ,sBAAuBp8B,GAASsxB,UAE/D,CAII,uBAAMgsB,CAAkB/Y,GAAIgZ,aAAEA,EAAe,IAAIC,QAAEA,EAAU,MAAmB,IAC5E,MAAMC,EAAkB,IAAIn2C,IAAI,CAAC,YAAa,QAAS,YACjDstB,EAAQxJ,KAAKuV,MACnB,IAAIrI,QAAan8B,KAAKwqC,SAASpC,GAC/B,MAAQjM,EAAKjH,SAAWosB,EAAgBh2C,IAAI6wB,EAAKjH,SAG7C,SAFM,EAAIsnB,EAAO5e,OAAOwjB,GACxBjlB,QAAan8B,KAAKwqC,SAASpC,GACvBnZ,KAAKuV,MAAQ/L,EAAQ4oB,EACrB,MAAM,IAAIvrB,EAAQlB,0BAA0B,CACxC/0B,QAAS,iCAAiCuoC,gCAAiCiZ,oBAIvF,OAAOllB,CACf,EAEAmiB,GAAAE,MAAgBA,EAChB,MAAMyC,UAAwB1W,EAAatC,mBAE3CqW,GAAA2C,gBAA0BA,EAC1BzC,EAAMyC,gBAAkBA,uECpHxB72C,OAAO2gB,eAAew2B,GAAS,aAAc,CAAEngD,OAAO,IACtDmgD,GAAAC,6BAAuCD,GAAAE,iBAAsB,EAC7D,MAAM9Y,EAA4CroC,KAC5C20B,EAAoCnoB,KACpCy9B,EAAgDv9B,KACtD,MAAMy0C,UAAoB9Y,EAAWJ,YACjC,IAAAmC,CAAKgX,EAAiBpgB,EAAQ,CAAA,EAAIz9B,GAC9B,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAKgX,EAAiB,CAAA,EAAIpgB,GAEnCthC,KAAKwoC,QAAQzH,WAAW,qBAAqB2gB,gBAA+BF,EAA8B,CAAElgB,WAAUz9B,GACrI,EAEA09C,GAAAE,YAAsBA,EACtB,MAAMD,UAAqCjX,EAAatC,mBAExDsZ,GAAAC,6BAAuCA,EACvCC,EAAYD,6BAA+BA,wCCjB3C,IAAIjuB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAe42B,GAAS,aAAc,CAAEvgD,OAAO,IACtDugD,GAAAC,wBAAkCD,GAA0BE,mBAAGF,GAAYG,UAAG,EAC9E,MAAMnZ,EAA4CroC,KAC5C20B,EAAoCnoB,KACpCi1C,EAAiBlZ,QACjBmZ,EAA2Ch1C,KAC3Cu9B,EAAgDr9B,KACtD,MAAM40C,UAAanZ,EAAWJ,YAC1B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKuhD,YAAc,IAAIQ,EAAeN,YAAYzhD,KAAKwoC,QAC/D,CAUI,MAAAjc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,oBAAqB,CAAE9N,UAAS9uB,GACjE,CAMI,QAAA2mC,CAASkX,EAAiB79C,GACtB,OAAO7D,KAAKwoC,QAAQ98B,IAAI,qBAAqBg2C,IAAmB79C,EACxE,CACI,IAAA6mC,CAAKpJ,EAAQ,CAAE,EAAEz9B,GACb,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAK0qC,KAAK,CAAE,EAAEpJ,GAElBthC,KAAKwoC,QAAQzH,WAAW,oBAAqB8gB,EAAoB,CAAEvgB,WAAUz9B,GAC5F,CAII,MAAAi1B,CAAO4oB,EAAiB79C,GACpB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,qBAAqBihB,WAA0B79C,EAChF,CACI,UAAAo+C,CAAWP,EAAiBpgB,EAAQ,CAAA,EAAIz9B,GACpC,OAAI,EAAIoxB,EAAO6I,kBAAkBwD,GACtBthC,KAAKiiD,WAAWP,EAAiB,CAAA,EAAIpgB,GAEzCthC,KAAKwoC,QAAQzH,WAAW,qBAAqB2gB,WAA0BE,EAAyB,CACnGtgB,WACGz9B,GAEf,EAEA89C,GAAAG,KAAeA,EACf,MAAMD,UAA2BtX,EAAatC,YAE9C0Z,GAAAE,mBAA6BA,EAC7B,MAAMD,UAAgCrX,EAAatC,mBAEnD0Z,GAAAC,wBAAkCA,EAClCE,EAAKD,mBAAqBA,EAC1BC,EAAKF,wBAA0BA,EAC/BE,EAAKL,YAAcO,EAAcP,YACjCK,EAAKN,6BAA+BQ,EAAcR,mECvFlD,IAAIjuB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAem3B,GAAS,aAAc,CAAE9gD,OAAO,IACpC8gD,GAAAC,gBAAG,EACrB,MAAMxZ,EAAyCroC,KACzC8hD,EAAUvZ,QACVwZ,EAAkCv1C,KACxC,MAAMq1C,UAAmBxZ,EAAWJ,YAChC,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAK2hD,KAAO,IAAIS,EAAQN,KAAK9hD,KAAKwoC,QAC1C,SAEA0Z,GAAAC,WAAqBA,EACrBA,EAAWL,KAAOO,EAAOP,KACzBK,EAAWN,mBAAqBQ,EAAOR,mBACvCM,EAAWP,wBAA0BS,EAAOT,2ECrC5C,IAAIruB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAeu3B,GAAS,aAAc,CAAElhD,OAAO,IACxCkhD,GAAAC,YAAG,EACjB,MAAM5Z,EAAsCroC,KACtCmpC,EAAOZ,QACb,MAAM0Z,UAAe5Z,EAAWJ,YAI5B,eAAAia,CAAgB7vB,EAAM9uB,GAClB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,qBAAsBgJ,EAAKrP,4BAA4B,CAAEzH,UAAS9uB,IACnG,CAII,IAAA4+C,CAAK9vB,EAAM9uB,GACP,OAAO7D,KAAKwoC,QAAQ/H,KAAK,gBAAiBgJ,EAAKrP,4BAA4B,CAAEzH,UAAS9uB,IAC9F,CAII,QAAA4xB,CAAS9C,EAAM9uB,GACX,OAAO7D,KAAKwoC,QAAQ/H,KAAK,sBAAuB,CAAE9N,UAAS9uB,GACnE,SAEAy+C,GAAAC,OAAiBA,qDC/CjBn4C,OAAO2gB,eAAe23B,GAAS,aAAc,CAAEthD,OAAO,IACtDshD,GAAAC,WAAqBD,GAAAE,YAAiB,EACtC,MAAMja,EAAsCroC,KACtCiqC,EAA0Cz9B,KAChD,MAAM81C,UAAeja,EAAWJ,YAK5B,QAAAiC,CAASmM,EAAO9yC,GACZ,OAAO7D,KAAKwoC,QAAQ98B,IAAI,WAAWirC,IAAS9yC,EACpD,CAKI,IAAA6mC,CAAK7mC,GACD,OAAO7D,KAAKwoC,QAAQzH,WAAW,UAAW4hB,EAAY9+C,EAC9D,CAKI,GAAAmnC,CAAI2L,EAAO9yC,GACP,OAAO7D,KAAKwoC,QAAQyC,OAAO,WAAW0L,IAAS9yC,EACvD,EAEA6+C,GAAAE,OAAiBA,EAIjB,MAAMD,UAAmBpY,EAAavJ,aAEtC0hB,GAAAC,WAAqBA,EACrBC,EAAOD,WAAaA,qDClCpBv4C,OAAO2gB,eAAe83B,GAAS,aAAc,CAAEzhD,OAAO,IACnCyhD,GAAAC,iBAAG,EACtB,MAAMna,EAAsCroC,KAC5C,MAAMwiD,UAAoBna,EAAWJ,YAKjC,MAAAhc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,eAAgB,CAAE9N,UAAS9uB,GAC5D,SAEAg/C,GAAAC,YAAsBA,iECZtB,IAAIvvB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAeqQ,GAAS,aAAc,CAAEh6B,OAAO,IACzCg6B,GAAA2nB,WAAG,EAChB,MAAMpa,EAAyCroC,KACzCmpC,EAAOZ,QACb,MAAMka,UAAcpa,EAAWJ,YAc3B,MAAAhc,CAAOy2B,EAAUrwB,EAAM9uB,GACnB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYuiB,UAAkBvZ,EAAKrP,4BAA4B,CAAEzH,UAAS9uB,IAC3G,SAEAu3B,GAAA2nB,MAAgBA,wCC7ChB,IAAIxvB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EACD/F,OAAO2gB,eAAek4B,GAAS,aAAc,CAAE7hD,OAAO,IACvC6hD,GAAAC,aAAG,EAClB,MAAMva,EAAyCroC,KACzC6iD,EAAWta,QACXua,EAA+Bt2C,KACrC,MAAMo2C,UAAgBva,EAAWJ,YAC7B,WAAA7oC,GACII,SAAS+Q,WACT7Q,KAAKo7B,MAAQ,IAAI+nB,EAASJ,MAAM/iD,KAAKwoC,QAC7C,CAuBI,MAAAjc,CAAOoG,EAAM9uB,GACT,OAAO7D,KAAKwoC,QAAQ/H,KAAK,WAAY,CAAE9N,UAAS9uB,GACxD,CAII,MAAAi1B,CAAOkqB,EAAUn/C,GACb,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYuiB,WAAmBn/C,EAChE,CAgBI,QAAAw/C,CAASL,EAAUrwB,EAAM9uB,GACrB,OAAO7D,KAAKwoC,QAAQ/H,KAAK,YAAYuiB,aAAqB,CAAErwB,UAAS9uB,GAC7E,SAEAo/C,GAAAC,QAAkBA,EAClBA,EAAQH,MAAQK,EAAQL,oDCpFxB,IAAIxvB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGM,EAAgB9zB,IAAQA,GAAK8zB,cAAiB,SAASnf,EAAG4c,GAC1D,IAAK,IAAIwC,KAAKpf,EAAa,YAANof,GAAoB3pB,OAAO0hB,UAAU7D,eAAemE,KAAKmF,EAASwC,IAAIR,EAAgBhC,EAAS5c,EAAGof,EAC1H,EACD3pB,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAA2xB,QAAkB3xB,EAAsBuxB,YAAAvxB,EAAAqxB,OAAiBrxB,EAAqBoxB,WAAApxB,EAAAgxB,OAAiBhxB,aAAqBA,EAAgBitB,MAAAjtB,EAAA0vB,gBAA0B1vB,EAAqByvB,WAAAzvB,EAAAmX,YAAsBnX,EAAegvB,KAAAhvB,EAAA+Y,QAAkB/Y,EAAsB8Y,YAAA9Y,EAAAsY,WAAgB,EAChR/V,EAAaxzB,KAA4BixB,GACzCuC,EAAahnB,KAAwBykB,GACrC,IAAI+xB,EAAqCt2C,KACzC5C,OAAO2gB,eAAewG,EAAS,QAAS,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO43C,EAAQzZ,KAAQ,IACtG,IAAI0Z,EAAmCr2C,KACvC9C,OAAO2gB,eAAewG,EAAS,cAAe,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO63C,EAAUlZ,WAAc,IACpHjgC,OAAO2gB,eAAewG,EAAS,UAAW,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO63C,EAAUjZ,OAAU,IAC5G,IAAIkZ,EAAkCp2C,KACtChD,OAAO2gB,eAAewG,EAAS,OAAQ,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO83C,EAAOjD,IAAO,IACnG,IAAIrX,EAA2C77B,KAC/CjD,OAAO2gB,eAAewG,EAAS,cAAe,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOw9B,EAAcR,WAAc,IACxH,IAAI+a,EAAyCn2C,KAC7ClD,OAAO2gB,eAAewG,EAAS,aAAc,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO+3C,EAAazC,UAAa,IACrH,IAAI7B,EAA+B5xC,KACnCnD,OAAO2gB,eAAewG,EAAS,kBAAmB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOyzC,EAAQ8B,eAAkB,IAC1H72C,OAAO2gB,eAAewG,EAAS,QAAS,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOyzC,EAAQX,KAAQ,IACtG,IAAIkF,EAAuDl2C,KAC3DpD,OAAO2gB,eAAewG,EAAS,aAAc,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOg4C,EAAcvB,UAAa,IACtH,IAAIwB,EAAiCl2C,KACrCrD,OAAO2gB,eAAewG,EAAS,SAAU,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOi4C,EAASpB,MAAS,IACzG,IAAIqB,EAAiCC,KACrCz5C,OAAO2gB,eAAewG,EAAS,aAAc,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOk4C,EAASjB,UAAa,IACjHv4C,OAAO2gB,eAAewG,EAAS,SAAU,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOk4C,EAAShB,MAAS,IACzG,IAAIkB,EAA2CC,KAC/C35C,OAAO2gB,eAAewG,EAAS,cAAe,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOo4C,EAAchB,WAAc,IACxH,IAAIxkB,EAA2C0lB,KAC/C55C,OAAO2gB,eAAewG,EAAS,UAAW,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAO4yB,EAAU4kB,OAAU,0FC1C5G,IAuBIhM,EAvBA3jB,EAAmBvzB,IAAQA,GAAKuzB,kBAAqBnpB,OAAOmiB,OAAM,SAAayB,EAAGrZ,EAAG6e,EAAGC,QAC7EtzB,IAAPszB,IAAkBA,EAAKD,GAC3B,IAAIjjB,EAAOnG,OAAOspB,yBAAyB/e,EAAG6e,GACzCjjB,KAAS,QAASA,GAAQoE,EAAEgf,WAAapjB,EAAKqjB,UAAYrjB,EAAKsjB,gBAClEtjB,EAAO,CAAEihB,YAAY,EAAM9lB,IAAK,WAAa,OAAOiJ,EAAE6e,MAExDppB,OAAO2gB,eAAeiD,EAAGyF,EAAIljB,EAChC,EAAA,SAAcyd,EAAGrZ,EAAG6e,EAAGC,QACTtzB,IAAPszB,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9e,EAAE6e,EACb,GACGoV,EAAsB5oC,IAAQA,GAAK4oC,qBAAwBx+B,OAAOmiB,OAAM,SAAayB,EAAG7T,GACxF/P,OAAO2gB,eAAeiD,EAAG,UAAW,CAAEwD,YAAY,EAAMpwB,MAAO+Y,GAClE,EAAI,SAAS6T,EAAG7T,GACb6T,EAAW,QAAI7T,CACnB,GACI0uB,EAAgB7oC,IAAQA,GAAK6oC,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAInV,WAAY,OAAOmV,EAClC,IAAI34B,EAAS,CAAE,EACf,GAAW,MAAP24B,EAAa,IAAK,IAAItV,KAAKsV,EAAe,YAANtV,GAAmBppB,OAAO0hB,UAAU7D,eAAemE,KAAK0c,EAAKtV,IAAID,EAAgBpjB,EAAQ24B,EAAKtV,GAEtI,OADAoV,EAAmBz4B,EAAQ24B,GACpB34B,CACV,EAED/F,OAAO2gB,eAAcwG,EAAU,aAAc,CAAEnwB,OAAO,IACtDmwB,EAAA0yB,YAAsB1yB,eAAuBA,EAAiBgJ,OAAAhJ,EAAA+C,yBAAmC/C,EAAgCkD,sBAAAlD,EAAA6C,oBAA8B7C,sBAA8BA,EAA0BoD,gBAAApD,EAAA8C,eAAyB9C,EAAwBgD,cAAAhD,EAAAiD,cAAwBjD,oBAA4BA,EAAoCqD,0BAAArD,EAAAsD,mBAA6BtD,WAAmBA,EAAsByD,YAAAzD,EAAA2yB,YAAiB,EACvb,MAAMC,EAAKtb,QACLY,EAAOZ,QACPub,EAASvb,QACIA,QACnB,MAAMqa,EAAUra,QACVwb,EAAMxb,QACN0a,EAA6Cj2C,KAC7C47B,EAAqD37B,KACrDk2C,EAAmDj2C,KACnD2xC,EAAyC1xC,KACzCk2C,EAA2CE,KAC3CD,EAA2CG,KAC3CD,EAAqDE,KACrDV,EAA+CgB,KAC/Cd,EAA4Ce,KAC5Cpb,EAA4Cqb,KAC5Cd,EAAiEe,KACjEnmB,EAAqDomB,KAI3D,MAAMR,UAAeza,EAAKvL,UAgBtB,WAAAx+B,EAAY+/B,QAAEA,EAAUgK,EAAK/L,QAAQ,mBAAkBinB,OAAEA,EAASlb,EAAK/L,QAAQ,kBAAiBknB,aAAEA,EAAenb,EAAK/L,QAAQ,kBAAoB,KAAImnB,QAAEA,EAAUpb,EAAK/L,QAAQ,sBAAwB,QAASltB,GAAS,CAAA,GACrN,QAAerQ,IAAXwkD,EACA,MAAM,IAAIP,EAAOpvB,YAAY,sLAEjC,MAAMnxB,EAAU,CACZ8gD,SACAC,eACAC,aACGr0C,EACHivB,QAASA,GAAW,6BAExB,IAAK57B,EAAQihD,yBAA2Brb,EAAKzM,qBACzC,MAAM,IAAIonB,EAAOpvB,YAAY,sbAEjCl1B,MAAM,CACF2/B,QAAS57B,EAAQ47B,QACjBE,QAAS97B,EAAQ87B,SAAW,IAC5BC,UAAW/7B,EAAQ+7B,UACnBF,WAAY77B,EAAQ67B,WACpBpV,MAAOzmB,EAAQymB,QAEnBtqB,KAAKyoC,YAAc,IAAI4b,EAAI3b,YAAY1oC,MACvCA,KAAK+oC,KAAO,IAAIsb,EAAIrb,KAAKhpC,MACzBA,KAAK+gD,WAAa,IAAIsD,EAAIrD,WAAWhhD,MACrCA,KAAKs+C,MAAQ,IAAI+F,EAAI7F,MAAMx+C,MAC3BA,KAAKsiD,OAAS,IAAI+B,EAAI9B,OAAOviD,MAC7BA,KAAK4pC,MAAQ,IAAIya,EAAIxa,MAAM7pC,MAC3BA,KAAK6iD,YAAc,IAAIwB,EAAIvB,YAAY9iD,MACvCA,KAAK0iD,OAAS,IAAI2B,EAAIzB,OAAO5iD,MAC7BA,KAAKkiD,WAAa,IAAImC,EAAIlC,WAAWniD,MACrCA,KAAK+8C,KAAO,IAAIsH,EAAI9D,KAAKvgD,MACzBA,KAAKoqC,QAAU,IAAIia,EAAI/Z,QAAQtqC,MAC/BA,KAAKijD,QAAU,IAAIoB,EAAInB,QAAQljD,MAC/BA,KAAK+kD,SAAWlhD,EAChB7D,KAAK2kD,OAASA,EACd3kD,KAAK4kD,aAAeA,EACpB5kD,KAAK6kD,QAAUA,CACvB,CACI,YAAAvhB,GACI,OAAOtjC,KAAK+kD,SAASzhB,YAC7B,CACI,cAAAtD,CAAexvB,GACX,MAAO,IACA1Q,MAAMkgC,eAAexvB,GACxB,sBAAuBxQ,KAAK4kD,aAC5B,iBAAkB5kD,KAAK6kD,WACpB7kD,KAAK+kD,SAAS/kB,eAE7B,CACI,WAAAD,CAAYvvB,GACR,MAAO,CAAEw0C,cAAe,UAAUhlD,KAAK2kD,SAC/C,CACI,cAAAnhB,CAAelC,GACX,OAAO6iB,EAAG19C,UAAU66B,EAAO,CAAEhS,YAAa,YAClD,EAEAiC,EAAA2yB,OAAiBA,EACjBhN,EAAKgN,EACLA,EAAOA,OAAShN,EAChBgN,EAAOe,gBAAkB,IACzBf,EAAOlvB,YAAcovB,EAAOpvB,YAC5BkvB,EAAOnvB,SAAWqvB,EAAOrvB,SACzBmvB,EAAOrvB,mBAAqBuvB,EAAOvvB,mBACnCqvB,EAAOtvB,0BAA4BwvB,EAAOxvB,0BAC1CsvB,EAAOpvB,kBAAoBsvB,EAAOtvB,kBAClCovB,EAAO1vB,cAAgB4vB,EAAO5vB,cAC9B0vB,EAAO3vB,cAAgB6vB,EAAO7vB,cAC9B2vB,EAAO7vB,eAAiB+vB,EAAO/vB,eAC/B6vB,EAAOvvB,gBAAkByvB,EAAOzvB,gBAChCuvB,EAAOxvB,oBAAsB0vB,EAAO1vB,oBACpCwvB,EAAO9vB,oBAAsBgwB,EAAOhwB,oBACpC8vB,EAAOzvB,sBAAwB2vB,EAAO3vB,sBACtCyvB,EAAO5vB,yBAA2B8vB,EAAO9vB,yBACzC4vB,EAAO3pB,OAAS2oB,EAAQ3oB,OACxB2pB,EAAO9xB,aAAe8wB,EAAQ9wB,aAC9B,IAAI0D,EAA+B9oB,KACnC5C,OAAO2gB,eAAewG,EAAS,cAAe,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQd,WAAc,IAClH5qB,OAAO2gB,eAAewG,EAAS,WAAY,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQf,QAAW,IAC5G3qB,OAAO2gB,eAAewG,EAAS,qBAAsB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQjB,kBAAqB,IAChIzqB,OAAO2gB,eAAewG,EAAS,4BAA6B,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQlB,yBAA4B,IAC9IxqB,OAAO2gB,eAAewG,EAAS,oBAAqB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQhB,iBAAoB,IAC9H1qB,OAAO2gB,eAAewG,EAAS,gBAAiB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQtB,aAAgB,IACtHpqB,OAAO2gB,eAAewG,EAAS,gBAAiB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQvB,aAAgB,IACtHnqB,OAAO2gB,eAAewG,EAAS,iBAAkB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQzB,cAAiB,IACxHjqB,OAAO2gB,eAAewG,EAAS,kBAAmB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQnB,eAAkB,IAC1HvqB,OAAO2gB,eAAewG,EAAS,sBAAuB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQpB,mBAAsB,IAClItqB,OAAO2gB,eAAewG,EAAS,sBAAuB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQ1B,mBAAsB,IAClIhqB,OAAO2gB,eAAewG,EAAS,wBAAyB,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQrB,qBAAwB,IACtIrqB,OAAO2gB,eAAewG,EAAS,2BAA4B,CAAEC,YAAY,EAAM9lB,IAAK,WAAc,OAAOoqB,EAAQxB,wBAA2B,IAC5I/C,EAAiBgJ,OAAA2oB,EAAQ3oB,OACzBhJ,EAAuBa,aAAA8wB,EAAQ9wB,aAC/B8xB,EAAOxb,YAAcQ,EAAcR,YACnCwb,EAAOlb,KAAOG,EAAOH,KACrBkb,EAAOlD,WAAayC,EAAazC,WACjCkD,EAAO1F,MAAQW,EAAQX,MACvB0F,EAAOjD,gBAAkB9B,EAAQ8B,gBACjCiD,EAAO3B,OAASoB,EAASpB,OACzB2B,EAAOra,MAAQyZ,EAAQzZ,MACvBqa,EAAOpB,YAAcgB,EAAchB,YACnCoB,EAAOtB,OAASgB,EAAShB,OACzBsB,EAAOvB,WAAaiB,EAASjB,WAC7BuB,EAAO/B,WAAauB,EAAcvB,WAClC+B,EAAO3D,KAAOiD,EAAOjD,KACrB2D,EAAO5Z,QAAUiZ,EAAUjZ,QAC3B4Z,EAAO7Z,YAAckZ,EAAUlZ,YAC/B6Z,EAAOhB,QAAU5kB,EAAU4kB,QAE3B,MAAMe,UAAoBC,EAkBtB,WAAAxkD,EAAY+/B,QAAEA,EAAUgK,EAAK/L,QAAQ,mBAAkBinB,OAAEA,EAASlb,EAAK/L,QAAQ,wBAAuBwnB,WAAEA,EAAazb,EAAK/L,QAAQ,sBAAqBynB,SAAEA,EAAQC,WAAEA,EAAUC,qBAAEA,EAAoBP,wBAAEA,KAA4Bt0C,GAAS,IACtO,IAAK00C,EACD,MAAM,IAAId,EAAOpvB,YAAY,gNAKjC,GAHoC,mBAAzBqwB,IACPP,GAA0B,IAEzBO,IAAyBV,EAC1B,MAAM,IAAIP,EAAOpvB,YAAY,wIAEjC,GAAIqwB,GAAwBV,EACxB,MAAM,IAAIP,EAAOpvB,YAAY,+GAKjC,GAFA2vB,IAAWA,EAASW,GACpB90C,EAAK8yB,aAAe,IAAK9yB,EAAK8yB,aAAc,cAAe4hB,GACtDzlB,GAUD,GAAI0lB,EACA,MAAM,IAAIf,EAAOpvB,YAAY,mDAXvB,CAIV,GAHKmwB,IACDA,EAAWh4C,QAAQ7C,IAA2B,wBAE7C66C,EACD,MAAM,IAAIf,EAAOpvB,YAAY,kHAEjCyK,EAAU,GAAG0lB,UACzB,CAMQrlD,MAAM,CACF6kD,SACAllB,aACGjvB,UAC6BrQ,IAA5B2kD,EAAwC,CAAEA,2BAA4B,CAAA,IAE9E9kD,KAAKklD,WAAa,GAClBllD,KAAKulD,sBAAwBF,EAC7BrlD,KAAKklD,WAAaA,EAClBllD,KAAKwlD,YAAcJ,CAC3B,CACI,YAAAhkB,CAAav9B,GACT,GAAI4hD,EAAuBn6C,IAAIzH,EAAQkJ,OAA4B,SAAnBlJ,EAAQ+8B,aAAsCzgC,IAAjB0D,EAAQ8uB,KAAoB,CACrG,IAAK8W,EAAK9M,MAAM94B,EAAQ8uB,MACpB,MAAM,IAAIlzB,MAAM,yCAEpB,MAAMk3C,EAAQ32C,KAAKwlD,aAAe3hD,EAAQ8uB,KAAY,WACxCxyB,IAAVw2C,GAAwB32C,KAAKy/B,QAAQ39B,SAAS,kBAC9C+B,EAAQkJ,KAAO,gBAAgB4pC,IAAQ9yC,EAAQkJ,OAE/D,CACQ,OAAOjN,MAAMshC,aAAav9B,EAClC,CACI,sBAAM6hD,GACF,GAA0C,mBAA/B1lD,KAAKulD,sBAAsC,CAClD,MAAMI,QAAc3lD,KAAKulD,wBACzB,IAAKI,GAA0B,iBAAVA,EACjB,MAAM,IAAIvB,EAAOpvB,YAAY,+EAA+E2wB,KAEhH,OAAOA,CACnB,CAEA,CACI,WAAA5lB,CAAYvvB,GACR,MAAO,CAAE,CACjB,CACI,oBAAM0xB,CAAe1xB,GAOjB,GAAIA,EAAK2kB,UAAU,WACf,OAAOr1B,MAAMoiC,eAAe1xB,GAEhC,MAAMm1C,QAAc3lD,KAAK0lD,mBAEzB,GADAl1C,EAAK2kB,UAAY3kB,EAAK2kB,QAAU,CAAA,GAC5BwwB,EACAn1C,EAAK2kB,QAAuB,cAAI,UAAUwwB,QAEzC,IAAI3lD,KAAK2kD,SAAWW,EAIrB,MAAM,IAAIlB,EAAOpvB,YAAY,yBAH7BxkB,EAAK2kB,QAAQ,WAAan1B,KAAK2kD,MAI3C,CACQ,OAAO7kD,MAAMoiC,eAAe1xB,EACpC,EAEA+gB,EAAA0yB,YAAsBA,EACtB,MAAMwB,EAAyB,IAAIt6C,IAAI,CACnC,eACA,oBACA,cACA,wBACA,sBACA,gBACA,wBAEEm6C,EAAmB,gBAEzB/zB,EAAUzG,UAAiBo5B,EAC3Bp5B,EAAAyG,QAAA0yB,YAA6BA,EAC7B1yB,EAAA7f,QAAkBwyC,8DCtSlB,IAAI0B,EAAOtlD,EACP02B,EAASlqB,EAAkBkqB,OAC3B6uB,kCCFJ,IAAI7uB,EAAS12B,EAAkB02B,OAI/B,SAAS6uB,IACP7lD,KAAK4V,OAAS,KACd5V,KAAK8lD,SAAW,EAChB9lD,KAAK+lD,YAAc,QACnB/lD,KAAKgmD,aAAc,EAEnBhmD,KAAKimD,sBAAuB,EAC5BjmD,KAAKkmD,WAAY,EACjBlmD,KAAKmmD,gBAAkB,EACzB,QAVAC,GAAiBP,EAFN/4C,EAaNu5C,SAASR,EAAe7uB,GAE7B6uB,EAAct5B,OAAS,SAAS3W,EAAQ/R,GACtC,IAAIyiD,EAAgB,IAAItmD,KAGxB,IAAK,IAAIwD,KADTK,EAAUA,GAAW,CAAE,EAErByiD,EAAc9iD,GAAUK,EAAQL,GAGlC8iD,EAAc1wC,OAASA,EAEvB,IAAI2wC,EAAW3wC,EAAOuF,KAWtB,OAVAvF,EAAOuF,KAAO,WAEZ,OADAmrC,EAAcE,YAAY31C,WACnB01C,EAAStzC,MAAM2C,EAAQ/E,UAC/B,EAED+E,EAAOrB,GAAG,SAAS,eACf+xC,EAAcN,aAChBpwC,EAAO6wC,QAGFH,CACR,EAEDl8C,OAAO2gB,eAAe86B,EAAc/5B,UAAW,WAAY,CACzD+H,cAAc,EACdrC,YAAY,EACZ9lB,IAAK,WACH,OAAO1L,KAAK4V,OAAO8wC,QACvB,IAGAb,EAAc/5B,UAAU66B,YAAc,WACpC,OAAO3mD,KAAK4V,OAAO+wC,YAAY1zC,MAAMjT,KAAK4V,OAAQ/E,UACnD,EAEDg1C,EAAc/5B,UAAU86B,OAAS,WAC1B5mD,KAAKkmD,WACRlmD,KAAK6mD,UAGP7mD,KAAK4V,OAAOgxC,QACb,EAEDf,EAAc/5B,UAAU26B,MAAQ,WAC9BzmD,KAAK4V,OAAO6wC,OACb,EAEDZ,EAAc/5B,UAAU+6B,QAAU,WAChC7mD,KAAKkmD,WAAY,EAEjBlmD,KAAKmmD,gBAAgBvhD,QAAQ,SAASG,GACpC/E,KAAKmb,KAAKlI,MAAMjT,KAAM+E,EAC1B,EAAImoC,KAAKltC,OACPA,KAAKmmD,gBAAkB,EACxB,EAEDN,EAAc/5B,UAAUg7B,KAAO,WAC7B,IAAIzf,EAAIrQ,EAAOlL,UAAUg7B,KAAK7zC,MAAMjT,KAAM6Q,WAE1C,OADA7Q,KAAK4mD,SACEvf,CACR,EAEDwe,EAAc/5B,UAAU06B,YAAc,SAASzhD,GACzC/E,KAAKkmD,UACPlmD,KAAKmb,KAAKlI,MAAMjT,KAAM+E,IAIR,SAAZA,EAAK,KACP/E,KAAK8lD,UAAY/gD,EAAK,GAAG7D,OACzBlB,KAAK+mD,+BAGP/mD,KAAKmmD,gBAAgBljD,KAAK8B,GAC3B,EAED8gD,EAAc/5B,UAAUi7B,4BAA8B,WACpD,KAAI/mD,KAAKimD,sBAILjmD,KAAK8lD,UAAY9lD,KAAK+lD,aAA1B,CAIA/lD,KAAKimD,sBAAuB,EAC5B,IAAIpmD,EACF,gCAAkCG,KAAK+lD,YAAc,mBACvD/lD,KAAKmb,KAAK,QAAS,IAAI1b,MAAMI,GAL/B,CAMC,KDxGmBmN,GAGpB,SAASg6C,IACPhnD,KAAK4zB,UAAW,EAChB5zB,KAAK0mD,UAAW,EAChB1mD,KAAK8lD,SAAW,EAChB9lD,KAAK+lD,YAAc,QACnB/lD,KAAKinD,cAAe,EAEpBjnD,KAAKkmD,WAAY,EACjBlmD,KAAKknD,SAAW,GAChBlnD,KAAKmnD,eAAiB,KACtBnnD,KAAKonD,aAAc,EACnBpnD,KAAKqnD,cAAe,CACtB,QAbAC,GAAiBN,EAcjBpB,EAAKS,SAASW,EAAgBhwB,GAE9BgwB,EAAez6B,OAAS,SAAS1oB,GAC/B,IAAI0jD,EAAiB,IAAIvnD,KAGzB,IAAK,IAAIwD,KADTK,EAAUA,GAAW,CAAE,EAErB0jD,EAAe/jD,GAAUK,EAAQL,GAGnC,OAAO+jD,CACR,EAEDP,EAAeQ,aAAe,SAAS7tB,GACrC,MAA0B,mBAAXA,GACS,iBAAXA,GACW,kBAAXA,GACW,iBAAXA,IACNlb,OAAOC,SAASib,EACxB,EAEDqtB,EAAel7B,UAAUoQ,OAAS,SAASvC,GAGzC,GAFmBqtB,EAAeQ,aAAa7tB,GAE7B,CAChB,KAAMA,aAAkBksB,GAAgB,CACtC,IAAI4B,EAAY5B,EAAct5B,OAAOoN,EAAQ,CAC3CosB,YAAa9R,IACb+R,YAAahmD,KAAKinD,eAEpBttB,EAAOplB,GAAG,OAAQvU,KAAK0nD,eAAexa,KAAKltC,OAC3C25B,EAAS8tB,CACf,CAEIznD,KAAK2nD,cAAchuB,GAEf35B,KAAKinD,cACPttB,EAAO8sB,OAEb,CAGE,OADAzmD,KAAKknD,SAASjkD,KAAK02B,GACZ35B,IACR,EAEDgnD,EAAel7B,UAAUg7B,KAAO,SAAShrC,EAAMjY,GAG7C,OAFAmzB,EAAOlL,UAAUg7B,KAAK16B,KAAKpsB,KAAM8b,EAAMjY,GACvC7D,KAAK4mD,SACE9qC,CACR,EAEDkrC,EAAel7B,UAAU87B,SAAW,WAGlC,GAFA5nD,KAAKmnD,eAAiB,KAElBnnD,KAAKonD,YACPpnD,KAAKqnD,cAAe,MADtB,CAKArnD,KAAKonD,aAAc,EACnB,IACE,GACEpnD,KAAKqnD,cAAe,EACpBrnD,KAAK6nD,qBACE7nD,KAAKqnD,aAClB,CAAY,QACRrnD,KAAKonD,aAAc,CACvB,CAVA,CAWC,EAEDJ,EAAel7B,UAAU+7B,aAAe,WACtC,IAAIluB,EAAS35B,KAAKknD,SAAS19C,aAGN,IAAVmwB,EAKW,mBAAXA,EAKKA,EACN,SAASA,GACEqtB,EAAeQ,aAAa7tB,KAE7CA,EAAOplB,GAAG,OAAQvU,KAAK0nD,eAAexa,KAAKltC,OAC3CA,KAAK2nD,cAAchuB,IAGrB35B,KAAK8nD,UAAUnuB,EACnB,EAAIuT,KAAKltC,OAbLA,KAAK8nD,UAAUnuB,GALf35B,KAAK+nD,KAmBR,EAEDf,EAAel7B,UAAUg8B,UAAY,SAASnuB,GAI5C,GAHA35B,KAAKmnD,eAAiBxtB,EAEHqtB,EAAeQ,aAAa7tB,GAI7C,OAFAA,EAAOplB,GAAG,MAAOvU,KAAK4nD,SAAS1a,KAAKltC,YACpC25B,EAAOmtB,KAAK9mD,KAAM,CAAC+nD,KAAK,IAI1B,IAAI3mD,EAAQu4B,EACZ35B,KAAKoP,MAAMhO,GACXpB,KAAK4nD,UACN,EAEDZ,EAAel7B,UAAU67B,cAAgB,SAAShuB,GAChD,IAAIpB,EAAOv4B,KACX25B,EAAOplB,GAAG,SAAS,SAAS5B,GAC1B4lB,EAAKyvB,WAAWr1C,EACpB,GACC,EAEDq0C,EAAel7B,UAAU1c,MAAQ,SAAS0W,GACxC9lB,KAAKmb,KAAK,OAAQ2K,EACnB,EAEDkhC,EAAel7B,UAAU26B,MAAQ,WAC1BzmD,KAAKinD,eAIPjnD,KAAKinD,cAAgBjnD,KAAKmnD,gBAAuD,mBAA9BnnD,KAAKmnD,eAAoB,OAAiBnnD,KAAKmnD,eAAeV,QACpHzmD,KAAKmb,KAAK,SACX,EAED6rC,EAAel7B,UAAU86B,OAAS,WAC3B5mD,KAAKkmD,YACRlmD,KAAKkmD,WAAY,EACjBlmD,KAAK4zB,UAAW,EAChB5zB,KAAK4nD,YAGJ5nD,KAAKinD,cAAgBjnD,KAAKmnD,gBAAwD,mBAA/BnnD,KAAKmnD,eAAqB,QAAiBnnD,KAAKmnD,eAAeP,SACrH5mD,KAAKmb,KAAK,SACX,EAED6rC,EAAel7B,UAAUi8B,IAAM,WAC7B/nD,KAAKioD,SACLjoD,KAAKmb,KAAK,MACX,EAED6rC,EAAel7B,UAAUo8B,QAAU,WACjCloD,KAAKioD,SACLjoD,KAAKmb,KAAK,QACX,EAED6rC,EAAel7B,UAAUm8B,OAAS,WAChCjoD,KAAK4zB,UAAW,EAChB5zB,KAAKknD,SAAW,GAChBlnD,KAAKmnD,eAAiB,IACvB,EAEDH,EAAel7B,UAAU47B,eAAiB,WAExC,GADA1nD,KAAKmoD,oBACDnoD,KAAK8lD,UAAY9lD,KAAK+lD,aAA1B,CAIA,IAAIlmD,EACF,gCAAkCG,KAAK+lD,YAAc,mBACvD/lD,KAAKgoD,WAAW,IAAIvoD,MAAMI,GAJ5B,CAKC,EAEDmnD,EAAel7B,UAAUq8B,gBAAkB,WACzCnoD,KAAK8lD,SAAW,EAEhB,IAAIvtB,EAAOv4B,KACXA,KAAKknD,SAAStiD,SAAQ,SAAS+0B,GACxBA,EAAOmsB,WAIZvtB,EAAKutB,UAAYnsB,EAAOmsB,SAC5B,IAEM9lD,KAAKmnD,gBAAkBnnD,KAAKmnD,eAAerB,WAC7C9lD,KAAK8lD,UAAY9lD,KAAKmnD,eAAerB,SAExC,EAEDkB,EAAel7B,UAAUk8B,WAAa,SAASr1C,GAC7C3S,KAAKioD,SACLjoD,KAAKmb,KAAK,QAASxI,EACpB,mkrIEjMD,IA2IuBy1C,EAAYC,EAE7BC,EA7IFC,cCHJC,GAAiBloD,IDIb+W,EAAUvK,EAAgBuK,QAO1BoxC,EAAsB,0BACtBC,EAAmB,WAyBvB,SAAS77B,EAAS0I,GAChB,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAIjtB,EAAQmgD,EAAoB7zC,KAAK2gB,GACjCozB,EAAOrgD,GAASigD,EAAGjgD,EAAM,GAAGk9B,eAEhC,OAAImjB,GAAQA,EAAK97B,QACR87B,EAAK97B,WAIVvkB,IAASogD,EAAiBz/C,KAAKX,EAAM,MAChC,OAIX,CArCAipB,EAAkB1E,QAAAA,EAClB0E,EAAmBq3B,SAAA,CAAEC,OAAQh8B,GAC7B0E,EAAsBoN,YA4CtB,SAAsB32B,GAEpB,IAAKA,GAAsB,iBAARA,EACjB,OAAO,EAGT,IAAI2gD,GAA6B,IAAtB3gD,EAAIkU,QAAQ,KACnBqV,EAAQs3B,OAAO7gD,GACfA,EAEJ,IAAK2gD,EACH,OAAO,EAIT,IAAiC,IAA7BA,EAAKzsC,QAAQ,WAAmB,CAClC,IAAI2Q,EAAU0E,EAAQ1E,QAAQ87B,GAC1B97B,IAAS87B,GAAQ,aAAe97B,EAAQ2Y,cAChD,CAEE,OAAOmjB,CACT,EAhEAp3B,EAAoBu3B,UAyEpB,SAAoBvzB,GAClB,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAIjtB,EAAQmgD,EAAoB7zC,KAAK2gB,GAGjCwzB,EAAOzgD,GAASipB,EAAQ62B,WAAW9/C,EAAM,GAAGk9B,eAEhD,IAAKujB,IAASA,EAAK7nD,OACjB,OAAO,EAGT,OAAO6nD,EAAK,EACd,EAxFAx3B,EAAA62B,WAAqBh+C,OAAOmiB,OAAO,MACnCgF,EAAiBs3B,OAgGjB,SAAiB97C,GACf,IAAKA,GAAwB,iBAATA,EAClB,OAAO,EAIT,IAAI+7C,EAAYzxC,EAAQ,KAAOtK,GAC5By4B,cACApgB,OAAO,GAEV,IAAK0jC,EACH,OAAO,EAGT,OAAOv3B,EAAQ82B,MAAMS,KAAc,CACrC,EA9GAv3B,EAAA82B,MAAgBj+C,OAAOmiB,OAAO,MAqHP67B,EAlHV72B,EAAQ62B,WAkHcC,EAlHF92B,EAAQ82B,MAoHnCC,EAAa,CAAC,QAAS,cAAUnoD,EAAW,QAEhDiK,OAAOsL,KAAK6yC,GAAI3jD,SAAQ,SAA0B2wB,GAChD,IAAIozB,EAAOJ,EAAGhzB,GACVwzB,EAAOJ,EAAKP,WAEhB,GAAKW,GAASA,EAAK7nD,OAAnB,CAKAknD,EAAW7yB,GAAQwzB,EAGnB,IAAK,IAAIjgD,EAAI,EAAGA,EAAIigD,EAAK7nD,OAAQ4H,IAAK,CACpC,IAAIggD,EAAYC,EAAKjgD,GAErB,GAAIu/C,EAAMS,GAAY,CACpB,IAAI/8C,EAAOu8C,EAAWpsC,QAAQqsC,EAAGF,EAAMS,IAAYlzC,QAC/CozC,EAAKV,EAAWpsC,QAAQysC,EAAK/yC,QAEjC,GAAyB,6BAArByyC,EAAMS,KACP/8C,EAAOi9C,GAAOj9C,IAASi9C,GAAyC,iBAAnCX,EAAMS,GAAW1jC,OAAO,EAAG,KAEzD,QAEV,CAGMijC,EAAMS,GAAavzB,CACzB,CAtBA,CAuBG,gDE1LH,IAAI0zB,cCAJC,GAOA,SAAexnD,GAEb,IAAIynD,EAAkC,mBAAhBC,aAClBA,aAEkB,iBAAXj8C,SAAkD,mBAApBA,QAAQg8C,SAC3Ch8C,QAAQg8C,SACR,KAGFA,EAEFA,EAASznD,GAITmiC,WAAWniC,EAAI,EAEnB,UDtBA2nD,GASA,SAAe3uC,GAEb,IAAI4uC,GAAU,EAKd,OAFAL,GAAM,WAAaK,GAAU,CAAK,IAE3B,SAAwB32C,EAAKxC,GAE9Bm5C,EAEF5uC,EAAS/H,EAAKxC,GAId84C,GAAM,WAEJvuC,EAAS/H,EAAKxC,EACtB,GAEG,CACH,gCEXA,SAASo5C,EAAMl+C,GAEgB,mBAAlBrL,KAAK2hD,KAAKt2C,IAEnBrL,KAAK2hD,KAAKt2C,IAEd,aA3BAm+C,GAOA,SAAehtB,GAEbpyB,OAAOsL,KAAK8mB,EAAMmlB,MAAM/8C,QAAQ2kD,EAAMrc,KAAK1Q,IAG3CA,EAAMmlB,KAAO,CAAE,CACjB,qCCdA,IAAIr5B,EAAQhoB,KACRq3B,EAAQ7qB,YAIZ28C,GAUA,SAAiB/e,EAAMtT,EAAUoF,EAAO9hB,GAGtC,IAAIrP,EAAMmxB,EAAiB,UAAIA,EAAiB,UAAEA,EAAMviB,OAASuiB,EAAMviB,MAEvEuiB,EAAMmlB,KAAKt2C,GAsCb,SAAgB+rB,EAAU/rB,EAAKohB,EAAM/R,GAEnC,IAAIgvC,EAKFA,EAFqB,GAAnBtyB,EAASl2B,OAEDk2B,EAAS3K,EAAMnE,EAAM5N,IAKrB0c,EAAS3K,EAAMphB,EAAKid,EAAM5N,IAGtC,OAAOgvC,CACT,CAtDoBC,CAAOvyB,EAAU/rB,EAAKq/B,EAAKr/B,IAAM,SAASjL,EAAOuH,GAI3D0D,KAAOmxB,EAAMmlB,cAMZnlB,EAAMmlB,KAAKt2C,GAEdjL,EAKFu3B,EAAM6E,GAINA,EAAM0hB,QAAQ7yC,GAAO1D,EAIvB+S,EAASta,EAAOo8B,EAAM0hB,SAC1B,GACA,+CC9CA0L,GAWA,SAAelf,EAAMmf,GAEnB,IAAIC,GAAexoD,MAAMC,QAAQmpC,GAC7Bqf,EACF,CACE9vC,MAAW,EACX+vC,UAAWF,GAAeD,EAAaz/C,OAAOsL,KAAKg1B,GAAQ,KAC3DiX,KAAW,CAAE,EACbzD,QAAW4L,EAAc,CAAA,EAAK,GAC9B/uB,KAAW+uB,EAAc1/C,OAAOsL,KAAKg1B,GAAMxpC,OAASwpC,EAAKxpC,QAIzD2oD,GAIFE,EAAUC,UAAU9mD,KAAK4mD,EAAcD,EAAa,SAAS1mD,EAAGC,GAE9D,OAAOymD,EAAWnf,EAAKvnC,GAAIunC,EAAKtnC,GACtC,GAGE,OAAO2mD,CACT,qCCpCA,IAAIpyB,EAAQr3B,KACRgoB,EAAQxb,YAIZm9C,GAQA,SAAoBvvC,GAElB,IAAKtQ,OAAOsL,KAAK1V,KAAK2hD,MAAMzgD,OAE1B,OAIFlB,KAAKia,MAAQja,KAAK+6B,KAGlBpD,EAAM33B,MAGNsoB,EAAM5N,EAAN4N,CAAgB,KAAMtoB,KAAKk+C,QAC7B,qCC5BA,IAAIgM,EAAa5pD,KACbypD,EAAaj9C,KACbq9C,EAAan9C,YAIjBo9C,GAUA,SAAkB1f,EAAMtT,EAAU1c,GAEhC,IAAI8hB,EAAQutB,EAAUrf,GAEtB,KAAOlO,EAAMviB,OAASuiB,EAAiB,WAAKkO,GAAMxpC,QAEhDgpD,EAAQxf,EAAMtT,EAAUoF,GAAO,SAASp8B,EAAO+P,GAEzC/P,EAEFsa,EAASta,EAAO+P,GAKqB,IAAnC/F,OAAOsL,KAAK8mB,EAAMmlB,MAAMzgD,QAE1BwZ,EAAS,KAAM8hB,EAAM0hB,QAG7B,IAEI1hB,EAAMviB,QAGR,OAAOkwC,EAAWjd,KAAK1Q,EAAO9hB,EAChC,+FC1CA,IAAIwvC,EAAa5pD,KACbypD,EAAaj9C,KACbq9C,EAAan9C,KAyDjB,SAASq9C,EAAUlnD,EAAGC,GAEpB,OAAOD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,CAClC,QAxDAknD,GAAA/4B,QAcA,SAAuBmZ,EAAMtT,EAAUyyB,EAAYnvC,GAEjD,IAAI8hB,EAAQutB,EAAUrf,EAAMmf,GAuB5B,OArBAK,EAAQxf,EAAMtT,EAAUoF,GAAO,SAAS+tB,EAAgBnqD,EAAO+P,GAEzD/P,EAEFsa,EAASta,EAAO+P,IAIlBqsB,EAAMviB,QAGFuiB,EAAMviB,OAASuiB,EAAiB,WAAKkO,GAAMxpC,OAE7CgpD,EAAQxf,EAAMtT,EAAUoF,EAAO+tB,GAKjC7vC,EAAS,KAAM8hB,EAAM0hB,SACzB,IAESiM,EAAWjd,KAAK1Q,EAAO9hB,EAChC,EAtCA4vC,GAAA/4B,QAAA84B,UAA4BA,EAC5BC,GAAA/4B,QAAAi5B,WA8DA,SAAoBrnD,EAAGC,GAErB,OAAQ,EAAIinD,EAAUlnD,EAAGC,EAC3B,gDC1EA,IAAIqnD,EAAgBnqD,YAGpBoqD,GAUA,SAAgBhgB,EAAMtT,EAAU1c,GAE9B,OAAO+vC,EAAc/f,EAAMtT,EAAU,KAAM1c,EAC7C,mCChBciwC,GACd,CACEC,SAAgBtqD,KAChBuqD,OAAgB/9C,KAChB29C,cAAgBz9C,sCCHlB89C,GAAiB,SAASC,EAAKC,GAO7B,OALA5gD,OAAOsL,KAAKs1C,GAAKpmD,SAAQ,SAAS+iB,GAEhCojC,EAAIpjC,GAAQojC,EAAIpjC,IAASqjC,EAAIrjC,EACjC,IAESojC,CACR,sDCPD,IAAIE,EAAW3qD,EAAekW,MAE1B00C,EAAgB,CAClBC,IAAK,GACLC,OAAQ,GACRC,KAAM,GACNC,MAAO,IACPC,GAAI,GACJC,IAAK,KAGHC,EAAiBpgC,OAAOS,UAAUqK,UAAY,SAASzY,GACzD,OAAOA,EAAExc,QAAUlB,KAAKkB,SACuB,IAA7ClB,KAAKkc,QAAQwB,EAAG1d,KAAKkB,OAASwc,EAAExc,OACnC,EAuFD,SAASwqD,EAAOrgD,GACd,OAAO8B,QAAQ7C,IAAIe,EAAIm6B,gBAAkBr4B,QAAQ7C,IAAIe,EAAIT,gBAAkB,EAC7E,QAEA+gD,GAAAC,eApFA,SAAwBt4B,GACtB,IAAIu4B,EAA2B,iBAARv4B,EAAmB23B,EAAS33B,GAAOA,GAAO,CAAE,EAC/Dw4B,EAAQD,EAAUE,SAClBC,EAAWH,EAAUI,KACrBC,EAAOL,EAAUK,KACrB,GAAwB,iBAAbF,IAA0BA,GAA6B,iBAAVF,EACtD,MAAO,GAQT,GALAA,EAAQA,EAAMviD,MAAM,IAAK,GAAG,IA6B9B,SAAqByiD,EAAUE,GAC7B,IAAIC,GACDT,EAAO,wBAA0BA,EAAO,aAAalmB,cACxD,IAAK2mB,EACH,OAAO,EAET,GAAiB,MAAbA,EACF,OAAO,EAGT,OAAOA,EAAS5iD,MAAM,SAASm8B,OAAM,SAAS0mB,GAC5C,IAAKA,EACH,OAAO,EAET,IAAIC,EAAcD,EAAM9jD,MAAM,gBAC1BgkD,EAAsBD,EAAcA,EAAY,GAAKD,EACrDG,EAAkBF,EAAcjtC,SAASitC,EAAY,IAAM,EAC/D,SAAIE,GAAmBA,IAAoBL,KAItC,QAAQjjD,KAAKqjD,IAKoB,MAAlCA,EAAoBx+B,OAAO,KAE7Bw+B,EAAsBA,EAAoBrrD,MAAM,KAG1CwqD,EAAer/B,KAAK4/B,EAAUM,IAR7BN,IAAaM,EAS1B,GACA,CAzDOE,CAFLR,EAAWA,EAAStoD,QAAQ,QAAS,IACrCwoD,EAAO9sC,SAAS8sC,IAAShB,EAAcY,IAAU,GAE/C,MAAO,GAGT,IAAIM,EACFV,EAAO,cAAgBI,EAAQ,WAC/BJ,EAAOI,EAAQ,WACfJ,EAAO,qBACPA,EAAO,aAKT,OAJIU,IAAmC,IAA1BA,EAAMlwC,QAAQ,SAEzBkwC,EAAQN,EAAQ,MAAQM,GAEnBA,CACT,wHC/CA,IAAI1uC,EAAI,IACJ/I,EAAQ,GAAJ+I,EACJ+uC,EAAQ,GAAJ93C,EACJrI,EAAQ,GAAJmgD,EACJla,EAAQ,OAAJjmC,EAuIR,SAASogD,EAAO/oB,EAAIkD,EAAG5mC,GACrB,KAAI0jC,EAAKkD,GAGT,OAAIlD,EAAS,IAAJkD,EACAnhC,KAAKinD,MAAMhpB,EAAKkD,GAAK,IAAM5mC,EAE7ByF,KAAKknD,KAAKjpB,EAAKkD,GAAK,IAAM5mC,EAAO,GAC1C,QA/HA0jC,GAAiB,SAASzvB,EAAKrQ,GAC7BA,EAAUA,GAAW,CAAE,EACvB,IAAI0xB,SAAcrhB,EAClB,GAAa,WAATqhB,GAAqBrhB,EAAIhT,OAAS,EACpC,OAkBJ,SAAe8G,GAEb,IADAA,EAAMqjB,OAAOrjB,IACL9G,OAAS,IACf,OAEF,IAAIoH,EAAQ,wHAAwHsM,KAClI5M,GAEF,IAAKM,EACH,OAEF,IAAIu+B,EAAIzC,WAAW97B,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAMk9B,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOqB,EAAI0L,EACb,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO1L,EAAIv6B,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAOu6B,EAAI4lB,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO5lB,EAAIlyB,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOkyB,EAAInpB,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAOmpB,EACT,QACE,OAEN,CArEWrwB,CAAMtC,GACR,GAAa,WAATqhB,IAAoC,IAAfzL,MAAM5V,GACpC,OAAOrQ,EAAQF,KAqGnB,SAAiBggC,GACf,OAAO+oB,EAAO/oB,EAAIr3B,EAAG,QACnBogD,EAAO/oB,EAAI8oB,EAAG,SACdC,EAAO/oB,EAAIhvB,EAAG,WACd+3C,EAAO/oB,EAAIjmB,EAAG,WACdimB,EAAK,KACT,CA3G0BkpB,CAAQ34C,GA6ElC,SAAkByvB,GAChB,GAAIA,GAAMr3B,EACR,OAAO5G,KAAKqhC,MAAMpD,EAAKr3B,GAAK,IAE9B,GAAIq3B,GAAM8oB,EACR,OAAO/mD,KAAKqhC,MAAMpD,EAAK8oB,GAAK,IAE9B,GAAI9oB,GAAMhvB,EACR,OAAOjP,KAAKqhC,MAAMpD,EAAKhvB,GAAK,IAE9B,GAAIgvB,GAAMjmB,EACR,OAAOhY,KAAKqhC,MAAMpD,EAAKjmB,GAAK,IAE9B,OAAOimB,EAAK,IACd,CA3FyCmpB,CAAS54C,GAEhD,MAAM,IAAIzU,MACR,wDACE+G,KAAKC,UAAUyN,GAEpB,+CCFD,IAAI64C,EA4BJ,SAASC,EAAYC,GAEnB,SAAShwB,IAEP,GAAKA,EAAMiwB,QAAX,CAEA,IAAI30B,EAAO0E,EAGPkwB,GAAQ,IAAIl+B,KACZ0U,EAAKwpB,GAAQJ,GAAYI,GAC7B50B,EAAK60B,KAAOzpB,EACZpL,EAAK80B,KAAON,EACZx0B,EAAK40B,KAAOA,EACZJ,EAAWI,EAIX,IADA,IAAIpoD,EAAO,IAAIzD,MAAMuP,UAAU3P,QACtB4H,EAAI,EAAGA,EAAI/D,EAAK7D,OAAQ4H,IAC/B/D,EAAK+D,GAAK+H,UAAU/H,GAGtB/D,EAAK,GAAKwsB,EAAQ+7B,OAAOvoD,EAAK,IAE1B,iBAAoBA,EAAK,IAE3BA,EAAKoT,QAAQ,MAIf,IAAI8B,EAAQ,EACZlV,EAAK,GAAKA,EAAK,GAAGrB,QAAQ,iBAAiB,SAAS4E,EAAO+kB,GAEzD,GAAc,OAAV/kB,EAAgB,OAAOA,EAC3B2R,IACA,IAAI2V,EAAY2B,EAAQrG,WAAWmC,GACnC,GAAI,mBAAsBuC,EAAW,CACnC,IAAI1b,EAAMnP,EAAKkV,GACf3R,EAAQsnB,EAAUxD,KAAKmM,EAAMrkB,GAG7BnP,EAAKmkB,OAAOjP,EAAO,GACnBA,GACR,CACM,OAAO3R,CACb,IAGIipB,EAAQg8B,WAAWnhC,KAAKmM,EAAMxzB,IAElBk4B,EAAM5S,KAAOkH,EAAQlH,KAAOD,QAAQC,IAAI6iB,KAAK9iB,UACnDnX,MAAMslB,EAAMxzB,EA/CE,CAgDxB,CAYE,OAVAk4B,EAAMgwB,UAAYA,EAClBhwB,EAAMiwB,QAAU37B,EAAQ27B,QAAQD,GAChChwB,EAAMuwB,UAAYj8B,EAAQi8B,YAC1BvwB,EAAMwwB,MA5ER,SAAqBR,GACnB,IAAcnkD,EAAV4kD,EAAO,EAEX,IAAK5kD,KAAKmkD,EACRS,GAAUA,GAAQ,GAAKA,EAAQT,EAAU9lC,WAAWre,GACpD4kD,GAAQ,EAGV,OAAOn8B,EAAQo8B,OAAOjoD,KAAK2G,IAAIqhD,GAAQn8B,EAAQo8B,OAAOzsD,OACxD,CAmEgB0sD,CAAYX,GAGtB,mBAAsB17B,EAAQmS,MAChCnS,EAAQmS,KAAKzG,GAGRA,CACT,EAvHA1L,KAA2BA,QAAAy7B,EAAY/vB,MAAQ+vB,EAAqB,QAAIA,GACxEM,OA6LA,SAAgBp5C,GACd,OAAIA,aAAezU,MAAcyU,EAAI25C,OAAS35C,EAAIrU,QAC3CqU,CACT,EA/LAqd,EAAAu8B,QAyJA,WACEv8B,EAAQw8B,OAAO,GACjB,EA1JAx8B,EAAAw8B,OA8HA,SAAgBC,GACdz8B,EAAQ08B,KAAKD,GAEbz8B,QAAgB,GAChBA,QAAgB,GAKhB,IAHA,IAAIhoB,GAA+B,iBAAfykD,EAA0BA,EAAa,IAAIzkD,MAAM,UACjE4S,EAAM5S,EAAMrI,OAEP4H,EAAI,EAAGA,EAAIqT,EAAKrT,IAClBS,EAAMT,KAEW,OADtBklD,EAAazkD,EAAMT,GAAGpF,QAAQ,MAAO,QACtB,GACb6tB,EAAQ28B,MAAMjrD,KAAK,IAAIoF,OAAO,IAAM2lD,EAAW5oC,OAAO,GAAK,MAE3DmM,EAAQvnB,MAAM/G,KAAK,IAAIoF,OAAO,IAAM2lD,EAAa,MAGvD,EA/IAz8B,EAAA27B,QAmKA,SAAiBjtD,GACf,IAAI6I,EAAGqT,EACP,IAAKrT,EAAI,EAAGqT,EAAMoV,EAAQ28B,MAAMhtD,OAAQ4H,EAAIqT,EAAKrT,IAC/C,GAAIyoB,EAAQ28B,MAAMplD,GAAGG,KAAKhJ,GACxB,OAAO,EAGX,IAAK6I,EAAI,EAAGqT,EAAMoV,EAAQvnB,MAAM9I,OAAQ4H,EAAIqT,EAAKrT,IAC/C,GAAIyoB,EAAQvnB,MAAMlB,GAAGG,KAAKhJ,GACxB,OAAO,EAGX,OAAO,CACT,EA/KAsxB,EAAA48B,SAAmB7tD,KAMnBixB,EAAAvnB,MAAgB,GAChBunB,EAAA28B,MAAgB,GAQhB38B,EAAArG,WAAqB,CAAE,gICvBA,oBAAZ/d,SAA4C,aAAjBA,QAAQooB,KAC5C64B,GAAA78B,iCC+IF,SAAS88B,IACP,IAAIhnB,EACJ,IACEA,EAAI9V,EAAQ+8B,QAAQrxB,KACrB,CAAC,MAAMhQ,GAAG,CAOX,OAJKoa,GAAwB,oBAAZl6B,SAA2B,QAASA,UACnDk6B,EAAIl6B,QAAQ7C,IAAIikD,OAGXlnB,CACT,EA3JA9V,aAA2BjxB,MAC3B+pB,IA8GA,WAGE,MAAO,iBAAoBD,SACtBA,QAAQC,KACRmkC,SAAS1iC,UAAU7Y,MAAMmZ,KAAKhC,QAAQC,IAAKD,QAASvZ,UAC3D,EAnHA0gB,EAAAg8B,WAqEA,SAAoBxoD,GAClB,IAAIyoD,EAAYxtD,KAAKwtD,UASrB,GAPAzoD,EAAK,IAAMyoD,EAAY,KAAO,IAC1BxtD,KAAKitD,WACJO,EAAY,MAAQ,KACrBzoD,EAAK,IACJyoD,EAAY,MAAQ,KACrB,IAAMj8B,EAAQ48B,SAASnuD,KAAKotD,MAE3BI,EAAL,CAEA,IAAI3/B,EAAI,UAAY7tB,KAAKytD,MACzB1oD,EAAKmkB,OAAO,EAAG,EAAG2E,EAAG,kBAKrB,IAAI5T,EAAQ,EACRw0C,EAAQ,EACZ1pD,EAAK,GAAGrB,QAAQ,eAAe,SAAS4E,GAClC,OAASA,IACb2R,IACI,OAAS3R,IAGXmmD,EAAQx0C,GAEd,IAEElV,EAAKmkB,OAAOulC,EAAO,EAAG5gC,EApBN,CAqBlB,EAnGA0D,EAAA08B,KA2HA,SAAcD,GACZ,IACM,MAAQA,EACVz8B,EAAQ+8B,QAAQI,WAAW,SAE3Bn9B,EAAQ+8B,QAAQrxB,MAAQ+wB,CAE3B,CAAC,MAAM/gC,GAAG,CACb,EAlIAsE,EAAA88B,KAAeA,EACf98B,EAAAi8B,UA2BA,WAIE,QAAsB,oBAAXlmB,SAA0BA,OAAOn6B,SAAmC,aAAxBm6B,OAAOn6B,QAAQooB,OAM1C,oBAAbgS,UAA4BA,SAASonB,iBAAmBpnB,SAASonB,gBAAgBC,OAASrnB,SAASonB,gBAAgBC,MAAMC,kBAEnH,oBAAXvnB,QAA0BA,OAAOld,UAAYkd,OAAOld,QAAQ0kC,SAAYxnB,OAAOld,QAAQ2kC,WAAaznB,OAAOld,QAAQ4kC,QAGrG,oBAAd3oB,WAA6BA,UAAUG,WAAaH,UAAUG,UAAUhB,cAAcl9B,MAAM,mBAAqB8W,SAAS/W,OAAO4mD,GAAI,KAAO,IAE9H,oBAAd5oB,WAA6BA,UAAUG,WAAaH,UAAUG,UAAUhB,cAAcl9B,MAAM,qBACxG,EA5CAipB,EAAkB+8B,QAAA,oBAAsBY,aACtB,IAAsBA,OAAOZ,QAC3BY,OAAOZ,QAAQa,MAsKnC,WACE,IACE,OAAO7nB,OAAO8nB,YACf,CAAC,MAAOniC,GAAG,CACd,CAzKoBoiC,GAMpB99B,EAAiBo8B,OAAA,CACf,gBACA,cACA,YACA,aACA,aACA,WAmCFp8B,EAAQrG,WAAW3e,EAAI,SAAS4N,GAC9B,IACE,OAAO3T,KAAKC,UAAU0T,EACvB,CAAC,MAAOxH,GACP,MAAO,+BAAiCA,EAAI9S,OAChD,CACC,EAmGD0xB,EAAQw8B,OAAOM,iCD/JbD,GAAA78B,iCEJF,IAAI+9B,EAAMhvD,EACNslD,EAAO94C,GAQXykB,aAA2BvkB,MAC3B02B,KA4NA,SAAezG,GACbA,EAAMsyB,YAAc,CAAE,EAGtB,IADA,IAAI75C,EAAOtL,OAAOsL,KAAK6b,EAAQg+B,aACtBzmD,EAAI,EAAGA,EAAI4M,EAAKxU,OAAQ4H,IAC/Bm0B,EAAMsyB,YAAY75C,EAAK5M,IAAMyoB,EAAQg+B,YAAY75C,EAAK5M,GAE1D,EAlOAyoB,EAAAlH,IAgHA,WACE,OAAOsP,EAAOvqB,MAAMw2C,EAAKv4B,OAAOpa,MAAM2yC,EAAM/0C,WAAa,KAC3D,EAjHA0gB,EAAAg8B,WA2FA,SAAoBxoD,GAClB,IAAI9E,EAAOD,KAAKitD,UAGhB,GAFgBjtD,KAAKwtD,UAEN,CACb,IAAI3/B,EAAI7tB,KAAKytD,MACT9+B,EAAS,QAAed,EAAI,MAAQ5tB,EAA3B,QAEb8E,EAAK,GAAK4pB,EAAS5pB,EAAK,GAAGwE,MAAM,MAAMxH,KAAK,KAAO4sB,GACnD5pB,EAAK9B,KAAK,MAAa4qB,EAAI,KAAO0D,EAAQ48B,SAASnuD,KAAKotD,MAAQ,OACpE,MACIroD,EAAK,IAAK,IAAIkqB,MAAOugC,cACjB,IAAMvvD,EAAO,IAAM8E,EAAK,EAEhC,EAxGAwsB,EAAA08B,KAyHA,SAAcD,GACR,MAAQA,SAGH7gD,QAAQ7C,IAAIikD,MAEnBphD,QAAQ7C,IAAIikD,MAAQP,CAExB,EAhIAz8B,EAAA88B,KAAeA,EACf98B,EAAAi8B,UAuDA,WACE,MAAO,WAAYj8B,EAAQg+B,YACvBvoB,QAAQzV,EAAQg+B,YAAY5B,QAC5B2B,EAAIG,OAAOC,EACjB,EArDAn+B,EAAAo8B,OAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAQjCp8B,EAAAg+B,YAAsBnlD,OAAOsL,KAAKvI,QAAQ7C,KAAKzH,QAAO,SAAUwI,GAC9D,MAAO,WAAWpC,KAAKoC,EACxB,IAAE9F,QAAO,SAAU+mB,EAAKjhB,GAEvB,IAAIsc,EAAOtc,EACRmV,UAAU,GACVglB,cACA9hC,QAAQ,aAAa,SAAUkpB,EAAG4G,GAAK,OAAOA,EAAE5oB,iBAG/CsJ,EAAM/G,QAAQ7C,IAAIe,GAOtB,OAN0C6I,IAAtC,2BAA2BjL,KAAKiL,KAC3B,6BAA6BjL,KAAKiL,KAC1B,SAARA,EAAsB,KACpBmwB,OAAOnwB,IAElBoY,EAAI3E,GAAQzT,EACLoY,CACR,GAAE,IASH,IAAIojC,EAAKtwC,SAASjS,QAAQ7C,IAAIqlD,SAAU,KAAO,EAE3C,IAAMD,GAAM,IAAMA,GACpB9J,EAAKgK,WAAU,WAAY,GAAE,0KAA7BhK,GAGF,IAAIjsB,EAAS,IAAM+1B,EAAKviD,QAAQgC,OACnB,IAAMugD,EAAKviD,QAAQmC,OAmGhC,SAAoCogD,GAClC,IAAI/1B,EAKJ,OAJexsB,QAAQ0iD,QAAQ,YAIdC,gBAAgBJ,IAC/B,IAAK,OACH/1B,EAAS,IAAI21B,EAAIS,YAAYL,IACtBM,MAAQ,MAIXr2B,EAAOs2B,SAAWt2B,EAAOs2B,QAAQC,OACnCv2B,EAAOs2B,QAAQC,QAEjB,MAEF,IAAK,QAEHv2B,EAAS,IADAzsB,EACOijD,gBAAgBT,EAAI,CAAEU,WAAW,KAC1CJ,MAAQ,KACf,MAEF,IAAK,OACL,IAAK,OAEHr2B,EAAS,IADCvsB,EACOijD,OAAO,CACtBX,GAAIA,EACJhJ,UAAU,EACV9yB,UAAU,KAOL8yB,UAAW,EAClB/sB,EAAOG,KAAO,KACdH,EAAOq2B,MAAQ,OAIXr2B,EAAOs2B,SAAWt2B,EAAOs2B,QAAQC,OACnCv2B,EAAOs2B,QAAQC,QAEjB,MAEF,QAEE,MAAM,IAAIzwD,MAAM,2CAQpB,OAJAk6B,EAAO+1B,GAAKA,EAEZ/1B,EAAO22B,UAAW,EAEX32B,CACT,CA7Ja42B,CAA0Bb,GAuFvC,SAASrB,IACP,OAAOlhD,QAAQ7C,IAAIikD,KACrB,CAzEAh9B,EAAQrG,WAAW8C,EAAI,SAAS7T,GAE9B,OADAna,KAAKuvD,YAAY5B,OAAS3tD,KAAKwtD,UACxB5H,EAAK4K,QAAQr2C,EAAGna,KAAKuvD,aACzBhmD,MAAM,MAAMvE,KAAI,SAASgD,GACxB,OAAOA,EAAI4J,MACjB,IAAO7P,KAAK,IACX,EAMDwvB,EAAQrG,WAAWulC,EAAI,SAASt2C,GAE9B,OADAna,KAAKuvD,YAAY5B,OAAS3tD,KAAKwtD,UACxB5H,EAAK4K,QAAQr2C,EAAGna,KAAKuvD,YAC7B,EAoJDh+B,EAAQw8B,OAAOM,wFCvPf,IAWMqC,EACAC,EACAC,EAbFt9B,EAAMhzB,EACN26B,EAAM3H,EAAI2H,IACVowB,EAAOv+C,EACPw+C,EAAQt+C,EACR6jD,EAAW3jD,EAAkB2jD,SAC7BC,EAAS1jD,EACT6vB,8BCJJ8zB,GAAiB,WACf,IAAK9zB,EAAO,CACV,IAEEA,EAAQ38B,KAAiB,mBAC/B,CACI,MAAOF,GAAO,CACO,mBAAV68B,IACTA,EAAQ,WAAqB,EAEnC,CACEA,EAAMhqB,MAAM,KAAMpC,UACnB,MAdD,IAAIosB,EDMQ5vB,GAKNqjD,EAAmC,oBAAZvjD,QACvBwjD,EAAqC,oBAAXrpB,QAA8C,oBAAbC,SAC3DqpB,EAAcI,EAAWvxD,MAAMM,mBAC9B2wD,IAAkBC,GAAqBC,GAC1CxmC,QAAQ0d,KAAK,wEAKjB,IAAImpB,GAAe,EACnB,IACEH,EAAO,IAAI71B,EAAI,IACjB,CACA,MAAO76B,GACL6wD,EAA8B,oBAAf7wD,EAAMR,IACvB,CAGA,IAAIsxD,EAAqB,CACvB,OACA,OACA,WACA,OACA,OACA,WACA,OACA,WACA,QACA,SACA,QAIEC,EAAS,CAAC,QAAS,UAAW,UAAW,QAAS,SAAU,WAC5DC,EAAgBhnD,OAAOmiB,OAAO,MAClC4kC,EAAOvsD,SAAQ,SAAU2N,GACvB6+C,EAAc7+C,GAAS,SAAU8+C,EAAMC,EAAMC,GAC3CvxD,KAAKwxD,cAAcr2C,KAAK5I,EAAO8+C,EAAMC,EAAMC,EAC5C,CACH,IAGA,IAAIE,EAAkBC,EACpB,kBACA,cACAtgC,WAEEugC,EAAmBD,EACrB,6BACA,6BAEEE,EAAwBF,EAC1B,4BACA,uCACAC,GAEEE,EAA6BH,EAC/B,kCACA,gDAEEI,EAAqBJ,EACvB,6BACA,mBAIExJ,EAAU2I,EAAS/kC,UAAUo8B,SAAW6J,EAG5C,SAASC,EAAoBnuD,EAASouD,GAEpCpB,EAASzkC,KAAKpsB,MACdA,KAAKkyD,iBAAiBruD,GACtB7D,KAAK+kD,SAAWlhD,EAChB7D,KAAKmyD,QAAS,EACdnyD,KAAKoyD,SAAU,EACfpyD,KAAKqyD,eAAiB,EACtBryD,KAAKsyD,WAAa,GAClBtyD,KAAKuyD,mBAAqB,EAC1BvyD,KAAKwyD,oBAAsB,GAGvBP,GACFjyD,KAAKuU,GAAG,WAAY09C,GAItB,IAAI15B,EAAOv4B,KACXA,KAAKyyD,kBAAoB,SAAUloC,GACjC,IACEgO,EAAKm6B,iBAAiBnoC,EAC5B,CACI,MAAOoL,GACL4C,EAAKpd,KAAK,QAASwa,aAAiBg8B,EAClCh8B,EAAQ,IAAIg8B,EAAiB,CAAEh8B,MAAOA,IAC9C,CACG,EAGD31B,KAAK2yD,iBACP,CAkYA,SAASprD,EAAKqrD,GAEZ,IAAIrhC,EAAU,CACZshC,aAAc,GACdC,cAAe,UAIbC,EAAkB,CAAE,EAqDxB,OApDA3oD,OAAOsL,KAAKk9C,GAAWhuD,SAAQ,SAAUouD,GACvC,IAAIjH,EAAWiH,EAAS,IACpBC,EAAiBF,EAAgBhH,GAAY6G,EAAUI,GACvDE,EAAkB3hC,EAAQyhC,GAAU5oD,OAAOmiB,OAAO0mC,GA4CtD7oD,OAAOklC,iBAAiB4jB,EAAiB,CACvCryB,QAAS,CAAEz/B,MA1Cb,SAAiBkqC,EAAOznC,EAAS6W,GAuKrC,IAAetZ,EAzIT,OAyISA,EArKCkqC,EAsKPrQ,GAAO75B,aAAiB65B,EArKzBqQ,EAAQ6nB,EAAgB7nB,GAEjB8nB,EAAS9nB,GAChBA,EAAQ6nB,EAAgBlI,EAAS3f,KAGjC5wB,EAAW7W,EACXA,EAAUwvD,EAAY/nB,GACtBA,EAAQ,CAAEygB,SAAUA,IAElBiF,EAAWntD,KACb6W,EAAW7W,EACXA,EAAU,OAIZA,EAAUuG,OAAOC,OAAO,CACtBwoD,aAActhC,EAAQshC,aACtBC,cAAevhC,EAAQuhC,eACtBxnB,EAAOznC,IACFkvD,gBAAkBA,EACrBK,EAASvvD,EAAQooD,OAAUmH,EAASvvD,EAAQmoD,YAC/CnoD,EAAQmoD,SAAW,OAGrB8E,EAAOwC,MAAMzvD,EAAQkoD,SAAUA,EAAU,qBACzC9uB,EAAM,UAAWp5B,GACV,IAAImuD,EAAoBnuD,EAAS6W,EAC9C,EAWiCmZ,cAAc,EAAMrC,YAAY,EAAMoC,UAAU,GAC3EloB,IAAK,CAAEtK,MATT,SAAakqC,EAAOznC,EAAS6W,GAC3B,IAAI64C,EAAiBL,EAAgBryB,QAAQyK,EAAOznC,EAAS6W,GAE7D,OADA64C,EAAexL,MACRwL,CACb,EAKyB1/B,cAAc,EAAMrC,YAAY,EAAMoC,UAAU,IAEzE,IACSrC,CACT,CAEA,SAASwgC,IAAO,CAEhB,SAAS9G,EAAS3f,GAChB,IAAI1wB,EAEJ,GAAIq2C,EACFr2C,EAAS,IAAIqgB,EAAIqQ,QAKjB,IAAK8nB,GADLx4C,EAASy4C,EAAY//B,EAAI9c,MAAM80B,KACVygB,UACnB,MAAM,IAAI0F,EAAgB,CAAEnmB,UAGhC,OAAO1wB,CACT,CAOA,SAASy4C,EAAY/nB,GACnB,GAAI,MAAMriC,KAAKqiC,EAAM0gB,YAAc,oBAAoB/iD,KAAKqiC,EAAM0gB,UAChE,MAAM,IAAIyF,EAAgB,CAAEnmB,MAAOA,EAAMkoB,MAAQloB,IAEnD,GAAI,MAAMriC,KAAKqiC,EAAM2gB,QAAU,2BAA2BhjD,KAAKqiC,EAAM2gB,MACnE,MAAM,IAAIwF,EAAgB,CAAEnmB,MAAOA,EAAMkoB,MAAQloB,IAEnD,OAAOA,CACT,CAEA,SAAS6nB,EAAgBM,EAAWtgD,GAClC,IAAIugD,EAASvgD,GAAU,CAAE,EACzB,IAAK,IAAI9H,KAAO6lD,EACdwC,EAAOroD,GAAOooD,EAAUpoD,GAc1B,OAVIqoD,EAAO1H,SAASriD,WAAW,OAC7B+pD,EAAO1H,SAAW0H,EAAO1H,SAAS/qD,MAAM,GAAI,IAG1B,KAAhByyD,EAAOxH,OACTwH,EAAOxH,KAAO7nB,OAAOqvB,EAAOxH,OAG9BwH,EAAO3mD,KAAO2mD,EAAOnwB,OAASmwB,EAAOx4B,SAAWw4B,EAAOnwB,OAASmwB,EAAOx4B,SAEhEw4B,CACT,CAEA,SAASC,EAAsB/qD,EAAOusB,GACpC,IAAIy+B,EACJ,IAAK,IAAItxB,KAAUnN,EACbvsB,EAAMK,KAAKq5B,KACbsxB,EAAYz+B,EAAQmN,UACbnN,EAAQmN,IAGnB,OAAO,MAACsxB,OACNzzD,EAAYkrB,OAAOuoC,GAAWhiD,MAClC,CAEA,SAAS8/C,EAAgB9xD,EAAMC,EAASg0D,GAEtC,SAASC,EAAYC,GAEf/C,EAAWvxD,MAAMM,oBACnBN,MAAMM,kBAAkBC,KAAMA,KAAKN,aAErC0K,OAAOC,OAAOrK,KAAM+zD,GAAc,CAAA,GAClC/zD,KAAKJ,KAAOA,EACZI,KAAKH,QAAUG,KAAK21B,MAAQ91B,EAAU,KAAOG,KAAK21B,MAAM91B,QAAUA,CACtE,CAcE,OAXAi0D,EAAYhoC,UAAY,IAAK+nC,GAAap0D,OAC1C2K,OAAOklC,iBAAiBwkB,EAAYhoC,UAAW,CAC7CpsB,YAAa,CACX0B,MAAO0yD,EACPtiC,YAAY,GAEdvxB,KAAM,CACJmB,MAAO,UAAYxB,EAAO,IAC1B4xB,YAAY,KAGTsiC,CACT,CAEA,SAASE,EAAenzB,EAASzgC,GAC/B,IAAK,IAAImS,KAAS4+C,EAChBtwB,EAAQozB,eAAe1hD,EAAO6+C,EAAc7+C,IAE9CsuB,EAAQtsB,GAAG,QAASw9C,GACpBlxB,EAAQqnB,QAAQ9nD,EAClB,CAQA,SAASgzD,EAAShyD,GAChB,MAAwB,iBAAVA,GAAsBA,aAAiBiqB,MACvD,CAEA,SAAS2lC,EAAW5vD,GAClB,MAAwB,mBAAVA,CAChB,QAjjBA4wD,EAAoBlmC,UAAY1hB,OAAOmiB,OAAOskC,EAAS/kC,WAEvDkmC,EAAoBlmC,UAAU6L,MAAQ,WACpCq8B,EAAeh0D,KAAKk0D,iBACpBl0D,KAAKk0D,gBAAgBv8B,QACrB33B,KAAKmb,KAAK,QACX,EAED62C,EAAoBlmC,UAAUo8B,QAAU,SAAU9nD,GAGhD,OAFA4zD,EAAeh0D,KAAKk0D,gBAAiB9zD,GACrC8nD,EAAQ97B,KAAKpsB,KAAMI,GACZJ,IACR,EAGDgyD,EAAoBlmC,UAAU1c,MAAQ,SAAU0W,EAAMquC,EAAUz5C,GAE9D,GAAI1a,KAAKoyD,QACP,MAAM,IAAIN,EAIZ,IAAKsB,EAASttC,KA8hBU,iBADR1kB,EA7hBiB0kB,MA8hBI,WAAY1kB,IA7hB/C,MAAM,IAAIgwB,UAAU,iDA4hBxB,IAAkBhwB,EA1hBZ4vD,EAAWmD,KACbz5C,EAAWy5C,EACXA,EAAW,MAKO,IAAhBruC,EAAK5kB,OAOLlB,KAAKuyD,mBAAqBzsC,EAAK5kB,QAAUlB,KAAK+kD,SAAS+N,eACzD9yD,KAAKuyD,oBAAsBzsC,EAAK5kB,OAChClB,KAAKwyD,oBAAoBvvD,KAAK,CAAE6iB,KAAMA,EAAMquC,SAAUA,IACtDn0D,KAAKk0D,gBAAgB9kD,MAAM0W,EAAMquC,EAAUz5C,KAI3C1a,KAAKmb,KAAK,QAAS,IAAI02C,GACvB7xD,KAAK23B,SAdDjd,GACFA,GAeL,EAGDs3C,EAAoBlmC,UAAUi8B,IAAM,SAAUjiC,EAAMquC,EAAUz5C,GAY5D,GAVIs2C,EAAWlrC,IACbpL,EAAWoL,EACXA,EAAOquC,EAAW,MAEXnD,EAAWmD,KAClBz5C,EAAWy5C,EACXA,EAAW,MAIRruC,EAIA,CACH,IAAIyS,EAAOv4B,KACPo0D,EAAiBp0D,KAAKk0D,gBAC1Bl0D,KAAKoP,MAAM0W,EAAMquC,GAAU,WACzB57B,EAAK45B,QAAS,EACdiC,EAAerM,IAAI,KAAM,KAAMrtC,EACrC,IACI1a,KAAKoyD,SAAU,CACnB,MAXIpyD,KAAKmyD,OAASnyD,KAAKoyD,SAAU,EAC7BpyD,KAAKk0D,gBAAgBnM,IAAI,KAAM,KAAMrtC,EAWxC,EAGDs3C,EAAoBlmC,UAAUuoC,UAAY,SAAUp0D,EAAMmB,GACxDpB,KAAK+kD,SAAS5vB,QAAQl1B,GAAQmB,EAC9BpB,KAAKk0D,gBAAgBG,UAAUp0D,EAAMmB,EACtC,EAGD4wD,EAAoBlmC,UAAUwoC,aAAe,SAAUr0D,UAC9CD,KAAK+kD,SAAS5vB,QAAQl1B,GAC7BD,KAAKk0D,gBAAgBI,aAAar0D,EACnC,EAGD+xD,EAAoBlmC,UAAU+X,WAAa,SAAU0wB,EAAO75C,GAC1D,IAAI6d,EAAOv4B,KAGX,SAASw0D,EAAiBC,GACxBA,EAAO5wB,WAAW0wB,GAClBE,EAAOR,eAAe,UAAWQ,EAAOvM,SACxCuM,EAAOC,YAAY,UAAWD,EAAOvM,QACzC,CAGE,SAASyM,EAAWF,GACdl8B,EAAKq8B,UACP7wB,aAAaxL,EAAKq8B,UAEpBr8B,EAAKq8B,SAAW/wB,YAAW,WACzBtL,EAAKpd,KAAK,WACV05C,GACD,GAAEN,GACHC,EAAiBC,EACrB,CAGE,SAASI,IAEHt8B,EAAKq8B,WACP7wB,aAAaxL,EAAKq8B,UAClBr8B,EAAKq8B,SAAW,MAIlBr8B,EAAK07B,eAAe,QAASY,GAC7Bt8B,EAAK07B,eAAe,QAASY,GAC7Bt8B,EAAK07B,eAAe,WAAYY,GAChCt8B,EAAK07B,eAAe,QAASY,GACzBn6C,GACF6d,EAAK07B,eAAe,UAAWv5C,GAE5B6d,EAAKk8B,QACRl8B,EAAK27B,gBAAgBD,eAAe,SAAUU,EAEpD,CAsBE,OAnBIj6C,GACF1a,KAAKuU,GAAG,UAAWmG,GAIjB1a,KAAKy0D,OACPE,EAAW30D,KAAKy0D,QAGhBz0D,KAAKk0D,gBAAgBxmB,KAAK,SAAUinB,GAItC30D,KAAKuU,GAAG,SAAUigD,GAClBx0D,KAAKuU,GAAG,QAASsgD,GACjB70D,KAAKuU,GAAG,QAASsgD,GACjB70D,KAAKuU,GAAG,WAAYsgD,GACpB70D,KAAKuU,GAAG,QAASsgD,GAEV70D,IACR,EAGD,CACE,eAAgB,YAChB,aAAc,sBACd4E,SAAQ,SAAUg8B,GAClBoxB,EAAoBlmC,UAAU8U,GAAU,SAAUz9B,EAAGC,GACnD,OAAOpD,KAAKk0D,gBAAgBtzB,GAAQz9B,EAAGC,EACxC,CACH,IAGA,CAAC,UAAW,aAAc,UAAUwB,SAAQ,SAAUqvB,GACpD7pB,OAAO2gB,eAAeinC,EAAoBlmC,UAAWmI,EAAU,CAC7DvoB,IAAK,WAAc,OAAO1L,KAAKk0D,gBAAgBjgC,EAAY,GAE/D,IAEA+9B,EAAoBlmC,UAAUomC,iBAAmB,SAAUruD,GAkBzD,GAhBKA,EAAQsxB,UACXtxB,EAAQsxB,QAAU,CAAE,GAMlBtxB,EAAQooD,OAELpoD,EAAQmoD,WACXnoD,EAAQmoD,SAAWnoD,EAAQooD,aAEtBpoD,EAAQooD,OAIZpoD,EAAQq3B,UAAYr3B,EAAQkJ,KAAM,CACrC,IAAI+nD,EAAYjxD,EAAQkJ,KAAKmP,QAAQ,KACjC44C,EAAY,EACdjxD,EAAQq3B,SAAWr3B,EAAQkJ,MAG3BlJ,EAAQq3B,SAAWr3B,EAAQkJ,KAAKyT,UAAU,EAAGs0C,GAC7CjxD,EAAQ0/B,OAAS1/B,EAAQkJ,KAAKyT,UAAUs0C,GAE9C,CACC,EAID9C,EAAoBlmC,UAAU6mC,gBAAkB,WAE9C,IAAI5G,EAAW/rD,KAAK+kD,SAASgH,SACzBkH,EAAiBjzD,KAAK+kD,SAASgO,gBAAgBhH,GACnD,IAAKkH,EACH,MAAM,IAAI7hC,UAAU,wBAA0B26B,GAKhD,GAAI/rD,KAAK+kD,SAASgQ,OAAQ,CACxB,IAAI/B,EAASjH,EAAS9qD,MAAM,GAAI,GAChCjB,KAAK+kD,SAAShjB,MAAQ/hC,KAAK+kD,SAASgQ,OAAO/B,EAC/C,CAGE,IAAInyB,EAAU7gC,KAAKk0D,gBACbjB,EAAepyB,QAAQ7gC,KAAK+kD,SAAU/kD,KAAKyyD,mBAEjD,IAAK,IAAIlgD,KADTsuB,EAAQ2wB,cAAgBxxD,KACNmxD,GAChBtwB,EAAQtsB,GAAGhC,EAAO6+C,EAAc7+C,IAalC,GARAvS,KAAKg1D,YAAc,MAAM/rD,KAAKjJ,KAAK+kD,SAASh4C,MAC1CumB,EAAIjG,OAAOrtB,KAAK+kD,UAGhB/kD,KAAK+kD,SAASh4C,KAIZ/M,KAAKi1D,YAAa,CAEpB,IAAInsD,EAAI,EACJyvB,EAAOv4B,KACPk1D,EAAUl1D,KAAKwyD,qBAClB,SAAS2C,EAAU/0D,GAGlB,GAAIygC,IAAYtI,EAAK27B,gBAGnB,GAAI9zD,EACFm4B,EAAKpd,KAAK,QAAS/a,QAGhB,GAAI0I,EAAIosD,EAAQh0D,OAAQ,CAC3B,IAAI60B,EAASm/B,EAAQpsD,KAEhB+3B,EAAQu0B,UACXv0B,EAAQzxB,MAAM2mB,EAAOjQ,KAAMiQ,EAAOo+B,SAAUgB,EAExD,MAEiB58B,EAAK45B,QACZtxB,EAAQknB,KAGlB,CAtBI,EAuBJ,CACC,EAGDiK,EAAoBlmC,UAAU4mC,iBAAmB,SAAUnoC,GAEzD,IAAI8qC,EAAa9qC,EAAS8qC,WACtBr1D,KAAK+kD,SAASuQ,gBAChBt1D,KAAKsyD,WAAWrvD,KAAK,CACnBqwB,IAAKtzB,KAAKg1D,YACV7/B,QAAS5K,EAAS4K,QAClBkgC,WAAYA,IAYhB,IAwBIE,EAxBAC,EAAWjrC,EAAS4K,QAAQqgC,SAChC,IAAKA,IAA8C,IAAlCx1D,KAAK+kD,SAAS0Q,iBAC3BJ,EAAa,KAAOA,GAAc,IAOpC,OANA9qC,EAASmrC,YAAc11D,KAAKg1D,YAC5BzqC,EAASorC,UAAY31D,KAAKsyD,WAC1BtyD,KAAKmb,KAAK,WAAYoP,QAGtBvqB,KAAKwyD,oBAAsB,IAW7B,GANAwB,EAAeh0D,KAAKk0D,iBAEpB3pC,EAAS29B,YAIHloD,KAAKqyD,eAAiBryD,KAAK+kD,SAAS8N,aACxC,MAAM,IAAIjB,EAKZ,IAAIgE,EAAiB51D,KAAK+kD,SAAS6Q,eAC/BA,IACFL,EAAiBnrD,OAAOC,OAAO,CAE7BwrD,KAAMtrC,EAASsX,IAAIhF,UAAU,SAC5B78B,KAAK+kD,SAAS5vB,UAOnB,IAAIyL,EAAS5gC,KAAK+kD,SAASnkB,SACP,MAAfy0B,GAAqC,MAAfA,IAAgD,SAAzBr1D,KAAK+kD,SAASnkB,QAK5C,MAAfy0B,IAAwB,iBAAiBpsD,KAAKjJ,KAAK+kD,SAASnkB,WAC/D5gC,KAAK+kD,SAASnkB,OAAS,MAEvB5gC,KAAKwyD,oBAAsB,GAC3BmB,EAAsB,aAAc3zD,KAAK+kD,SAAS5vB,UAIpD,IA6HkB2gC,EAAUC,EA7HxBC,EAAoBrC,EAAsB,UAAW3zD,KAAK+kD,SAAS5vB,SAGnE8gC,EAAkBhL,EAASjrD,KAAKg1D,aAChCkB,EAAcF,GAAqBC,EAAgBhK,KACnDkK,EAAa,QAAQltD,KAAKusD,GAAYx1D,KAAKg1D,YAC7C1hC,EAAIjG,OAAOjjB,OAAOC,OAAO4rD,EAAiB,CAAEhK,KAAMiK,KAGhDE,GAoHcN,EApHWN,EAoHDO,EApHWI,EAsHhClF,EAAe,IAAIh2B,EAAI66B,EAAUC,GAAQ9K,EAAS33B,EAAInc,QAAQ4+C,EAAMD,KAvG3E,GAdA74B,EAAM,iBAAkBm5B,EAAY5C,MACpCxzD,KAAKi1D,aAAc,EACnB9B,EAAgBiD,EAAap2D,KAAK+kD,WAI9BqR,EAAYrK,WAAakK,EAAgBlK,UACjB,WAAzBqK,EAAYrK,UACZqK,EAAYnK,OAASiK,IA6L1B,SAAqBG,EAAWC,GAC9BxF,EAAOsC,EAASiD,IAAcjD,EAASkD,IACvC,IAAIC,EAAMF,EAAUn1D,OAASo1D,EAAOp1D,OAAS,EAC7C,OAAOq1D,EAAM,GAAwB,MAAnBF,EAAUE,IAAgBF,EAAUlgC,SAASmgC,EACjE,CAhMME,CAAYJ,EAAYnK,KAAMiK,KAChCvC,EAAsB,yCAA0C3zD,KAAK+kD,SAAS5vB,SAI5E67B,EAAW4E,GAAiB,CAC9B,IAAIa,EAAkB,CACpBthC,QAAS5K,EAAS4K,QAClBkgC,WAAYA,GAEVqB,EAAiB,CACnBpjC,IAAK6iC,EACLv1B,OAAQA,EACRzL,QAASogC,GAEXK,EAAe51D,KAAK+kD,SAAU0R,EAAiBC,GAC/C12D,KAAKkyD,iBAAiBlyD,KAAK+kD,SAC/B,CAGE/kD,KAAK2yD,iBACN,EA8LDgE,GAAAplC,QAAiBhqB,EAAK,CAAE8jD,KAAMA,EAAMC,MAAOA,IAC3CqL,GAAAplC,QAAAhqB,KAAsBA,gDE1qBtB,MAAMqvD,kCCHN,IAAI5P,EAAiB1mD,KACjBslD,EAAO94C,EACPC,EAAOC,EACPq+C,EAAOn+C,EACPo+C,EAAQl+C,EACR69C,EAAW59C,EAAemJ,MAC1BvJ,EAAKK,EACL0pB,EAASzpB,EAAkBypB,OAC3B2xB,EAAOn7C,KACPm9C,EAAWl9C,KACXq9C,EAAWjH,KAgBf,SAAS/xB,EAASjuB,GAChB,KAAM7D,gBAAgB8xB,GACpB,OAAO,IAAIA,EAASjuB,GAUtB,IAAK,IAAIL,KAPTxD,KAAK62D,gBAAkB,EACvB72D,KAAK82D,aAAe,EACpB92D,KAAK+2D,iBAAmB,GAExB/P,EAAe56B,KAAKpsB,MAEpB6D,EAAUA,GAAW,CAAE,EAErB7D,KAAKwD,GAAUK,EAAQL,EAE3B,QA5BAwzD,GAAiBllC,EAGjB8zB,EAAKS,SAASv0B,EAAUk1B,GA2BxBl1B,EAASmlC,WAAa,OACtBnlC,EAASolC,qBAAuB,2BAEhCplC,EAAShG,UAAUoQ,OAAS,SAASi7B,EAAO/1D,EAAOyC,GAK3B,iBAHtBA,EAAUA,GAAW,CAAE,KAIrBA,EAAU,CAACsa,SAAUta,IAGvB,IAAIq4B,EAAS8qB,EAAel7B,UAAUoQ,OAAOgR,KAAKltC,MAQlD,GALoB,iBAAToB,IACTA,EAAQ,GAAKA,GAIXE,MAAMC,QAAQH,GAGhBpB,KAAKo3D,OAAO,IAAI33D,MAAM,kCAHxB,CAOA,IAAI6iC,EAAStiC,KAAKq3D,iBAAiBF,EAAO/1D,EAAOyC,GAC7CyzD,EAASt3D,KAAKu3D,mBAElBr7B,EAAOoG,GACPpG,EAAO96B,GACP86B,EAAOo7B,GAGPt3D,KAAKw3D,aAAal1B,EAAQlhC,EAAOyC,EAVnC,CAWC,EAEDiuB,EAAShG,UAAU0rC,aAAe,SAASl1B,EAAQlhC,EAAOyC,GACxD,IAAI4zD,EAAc,EAMS,MAAvB5zD,EAAQ6zD,YACVD,IAAgB5zD,EAAQ6zD,YACfj5C,OAAOC,SAAStd,GACzBq2D,EAAcr2D,EAAMF,OACM,iBAAVE,IAChBq2D,EAAch5C,OAAO0iB,WAAW//B,IAGlCpB,KAAK82D,cAAgBW,EAGrBz3D,KAAK62D,iBACHp4C,OAAO0iB,WAAWmB,GAClBxQ,EAASmlC,WAAW/1D,OAGjBE,IAAYA,EAAM2L,MAAU3L,EAAMslD,UAAYtlD,EAAM6mB,eAAe,gBAAqB7mB,aAAiB41B,KAKzGnzB,EAAQ6zD,aACX13D,KAAK+2D,iBAAiB9zD,KAAK7B,GAE9B,EAED0wB,EAAShG,UAAU6rC,iBAAmB,SAASv2D,EAAOsZ,GAEhDtZ,EAAM6mB,eAAe,MASN9nB,MAAbiB,EAAM2mD,KAAoB3mD,EAAM2mD,KAAO9T,KAA2B9zC,MAAfiB,EAAMq3B,MAK3D/d,EAAS,KAAMtZ,EAAM2mD,IAAM,GAAK3mD,EAAMq3B,MAAQr3B,EAAMq3B,MAAQ,IAK5DxrB,EAAG2qD,KAAKx2D,EAAM2L,MAAM,SAAS4F,EAAKilD,GAEhC,IAAIC,EAEAllD,EACF+H,EAAS/H,IAKXklD,EAAWD,EAAK78B,MAAQ35B,EAAMq3B,MAAQr3B,EAAMq3B,MAAQ,GACpD/d,EAAS,KAAMm9C,GACvB,IAIaz2D,EAAM6mB,eAAe,eAC9BvN,EAAS,MAAOtZ,EAAM+zB,QAAQ,mBAGrB/zB,EAAM6mB,eAAe,eAE9B7mB,EAAMmT,GAAG,YAAY,SAASgW,GAC5BnpB,EAAMqlD,QACN/rC,EAAS,MAAO6P,EAAS4K,QAAQ,kBACvC,IACI/zB,EAAMwlD,UAINlsC,EAAS,iBAEZ,EAEDoX,EAAShG,UAAUurC,iBAAmB,SAASF,EAAO/1D,EAAOyC,GAI3D,GAA6B,iBAAlBA,EAAQy+B,OACjB,OAAOz+B,EAAQy+B,OAGjB,IAgBIA,EAhBAw1B,EAAqB93D,KAAK+3D,uBAAuB32D,EAAOyC,GACxD86B,EAAc3+B,KAAKg4D,gBAAgB52D,EAAOyC,GAE1Co0D,EAAW,GACX9iC,EAAW,CAEb,sBAAuB,CAAC,YAAa,SAAWgiC,EAAQ,KAAK31D,OAAOs2D,GAAsB,IAE1F,eAAgB,GAAGt2D,OAAOm9B,GAAe,KAS3C,IAAK,IAAIhX,IALoB,iBAAlB9jB,EAAQy+B,QACjBwoB,EAAS31B,EAAStxB,EAAQy+B,QAIXnN,EACVA,EAAQlN,eAAeN,IAId,OAHd2a,EAASnN,EAAQxN,MAQZrmB,MAAMC,QAAQ+gC,KACjBA,EAAS,CAACA,IAIRA,EAAOphC,SACT+2D,GAAYtwC,EAAO,KAAO2a,EAAOvgC,KAAK,MAAQ+vB,EAASmlC,aAI3D,MAAO,KAAOj3D,KAAKk4D,cAAgBpmC,EAASmlC,WAAagB,EAAWnmC,EAASmlC,UAC9E,EAEDnlC,EAAShG,UAAUisC,uBAAyB,SAAS32D,EAAOyC,GAE1D,IAAIsa,EACA25C,EAoBJ,MAjBgC,iBAArBj0D,EAAQs0D,SAEjBh6C,EAAWpR,EAAKqrD,UAAUv0D,EAAQs0D,UAAUz0D,QAAQ,MAAO,KAClDG,EAAQsa,UAAY/c,EAAMnB,MAAQmB,EAAM2L,KAIjDoR,EAAWpR,EAAKkL,SAASpU,EAAQsa,UAAY/c,EAAMnB,MAAQmB,EAAM2L,MACxD3L,EAAMslD,UAAYtlD,EAAM6mB,eAAe,iBAEhD9J,EAAWpR,EAAKkL,SAAS7W,EAAMyjC,OAAOwzB,aAAatrD,MAAQ,KAGzDoR,IACF25C,EAAqB,aAAe35C,EAAW,KAG1C25C,CACR,EAEDhmC,EAAShG,UAAUksC,gBAAkB,SAAS52D,EAAOyC,GAGnD,IAAI86B,EAAc96B,EAAQ86B,YA2B1B,OAxBKA,GAAev9B,EAAMnB,OACxB0+B,EAAcgqB,EAAKE,OAAOznD,EAAMnB,QAI7B0+B,GAAev9B,EAAM2L,OACxB4xB,EAAcgqB,EAAKE,OAAOznD,EAAM2L,QAI7B4xB,GAAev9B,EAAMslD,UAAYtlD,EAAM6mB,eAAe,iBACzD0W,EAAcv9B,EAAM+zB,QAAQ,iBAIzBwJ,IAAgB96B,EAAQs0D,WAAYt0D,EAAQsa,WAC/CwgB,EAAcgqB,EAAKE,OAAOhlD,EAAQs0D,UAAYt0D,EAAQsa,WAInDwgB,GAA+B,iBAATv9B,IACzBu9B,EAAc7M,EAASolC,sBAGlBv4B,CACR,EAED7M,EAAShG,UAAUyrC,iBAAmB,WACpC,OAAO,SAASlvC,GACd,IAAIivC,EAASxlC,EAASmlC,WAEmB,IAAzBj3D,KAAKknD,SAAShmD,SAE5Bo2D,GAAUt3D,KAAKs4D,iBAGjBjwC,EAAKivC,EACT,EAAIpqB,KAAKltC,KACR,EAED8xB,EAAShG,UAAUwsC,cAAgB,WACjC,MAAO,KAAOt4D,KAAKk4D,cAAgB,KAAOpmC,EAASmlC,UACpD,EAEDnlC,EAAShG,UAAUysC,WAAa,SAASC,GACvC,IAAIl2B,EACAm2B,EAAc,CAChB,eAAgB,iCAAmCz4D,KAAKk4D,eAG1D,IAAK51B,KAAUk2B,EACTA,EAAYvwC,eAAeqa,KAC7Bm2B,EAAYn2B,EAAOkD,eAAiBgzB,EAAYl2B,IAIpD,OAAOm2B,CACR,EAED3mC,EAAShG,UAAU4sC,YAAc,SAASC,GACxC34D,KAAK44D,UAAYD,CAClB,EAED7mC,EAAShG,UAAUosC,YAAc,WAK/B,OAJKl4D,KAAK44D,WACR54D,KAAK64D,oBAGA74D,KAAK44D,SACb,EAED9mC,EAAShG,UAAUgtC,UAAY,WAK7B,IAJA,IAAIC,EAAa,IAAIt6C,OAAOu6C,MAAO,GAC/BL,EAAW34D,KAAKk4D,cAGXpvD,EAAI,EAAGqT,EAAMnc,KAAKknD,SAAShmD,OAAQ4H,EAAIqT,EAAKrT,IACnB,mBAArB9I,KAAKknD,SAASp+C,KAIrBiwD,EADCt6C,OAAOC,SAAS1e,KAAKknD,SAASp+C,IAClB2V,OAAOjd,OAAQ,CAACu3D,EAAY/4D,KAAKknD,SAASp+C,KAE1C2V,OAAOjd,OAAQ,CAACu3D,EAAYt6C,OAAO1S,KAAK/L,KAAKknD,SAASp+C,MAIrC,iBAArB9I,KAAKknD,SAASp+C,IAAmB9I,KAAKknD,SAASp+C,GAAG0X,UAAW,EAAGm4C,EAASz3D,OAAS,KAAQy3D,IACnGI,EAAat6C,OAAOjd,OAAQ,CAACu3D,EAAYt6C,OAAO1S,KAAK+lB,EAASmlC,gBAMpE,OAAOx4C,OAAOjd,OAAQ,CAACu3D,EAAYt6C,OAAO1S,KAAK/L,KAAKs4D,kBACrD,EAEDxmC,EAAShG,UAAU+sC,kBAAoB,WAIrC,IADA,IAAIF,EAAW,6BACN7vD,EAAI,EAAGA,EAAI,GAAIA,IACtB6vD,GAAYjzD,KAAKinD,MAAsB,GAAhBjnD,KAAKk/B,UAAe3Y,SAAS,IAGtDjsB,KAAK44D,UAAYD,CAClB,EAKD7mC,EAAShG,UAAUmtC,cAAgB,WACjC,IAAIvB,EAAc13D,KAAK62D,gBAAkB72D,KAAK82D,aAgB9C,OAZI92D,KAAKknD,SAAShmD,SAChBw2D,GAAe13D,KAAKs4D,gBAAgBp3D,QAIjClB,KAAKk5D,kBAIRl5D,KAAKo3D,OAAO,IAAI33D,MAAM,uDAGjBi4D,CACR,EAKD5lC,EAAShG,UAAUotC,eAAiB,WAClC,IAAIA,GAAiB,EAMrB,OAJIl5D,KAAK+2D,iBAAiB71D,SACxBg4D,GAAiB,GAGZA,CACR,EAEDpnC,EAAShG,UAAUqtC,UAAY,SAASC,GACtC,IAAI1B,EAAc13D,KAAK62D,gBAAkB72D,KAAK82D,aAE1C92D,KAAKknD,SAAShmD,SAChBw2D,GAAe13D,KAAKs4D,gBAAgBp3D,QAGjClB,KAAK+2D,iBAAiB71D,OAK3BypD,EAASC,SAAS5qD,KAAK+2D,iBAAkB/2D,KAAK23D,kBAAkB,SAAShlD,EAAK/Q,GACxE+Q,EACFymD,EAAGzmD,IAIL/Q,EAAOgD,SAAQ,SAAS1D,GACtBw2D,GAAex2D,CACrB,IAEIk4D,EAAG,KAAM1B,GACb,IAfIvqD,QAAQg8C,SAASiQ,EAAGlsB,KAAKltC,KAAM,KAAM03D,GAgBxC,EAED5lC,EAAShG,UAAUutC,OAAS,SAAS3xC,EAAQ0xC,GAC3C,IAAIv4B,EACAh9B,EACAklB,EAAW,CAAC6X,OAAQ,QAiExB,MA5DqB,iBAAVlZ,GAETA,EAASujC,EAASvjC,GAClB7jB,EAAUinD,EAAS,CACjBoB,KAAMxkC,EAAOwkC,KACbn/C,KAAM2a,EAAOwT,SACb+wB,KAAMvkC,EAAOskC,SACbD,SAAUrkC,EAAOqkC,UAChBhjC,KAKHllB,EAAUinD,EAASpjC,EAAQqB,IAEdmjC,OACXroD,EAAQqoD,KAA2B,UAApBroD,EAAQkoD,SAAuB,IAAM,IAKxDloD,EAAQsxB,QAAUn1B,KAAKu4D,WAAW7wC,EAAOyN,SAIvC0L,EADsB,UAApBh9B,EAAQkoD,SACAT,EAAMzqB,QAAQh9B,GAEdwnD,EAAKxqB,QAAQh9B,GAIzB7D,KAAKm5D,UAAU,SAASxmD,EAAKzR,GAC3B,GAAIyR,GAAe,mBAARA,EACT3S,KAAKo3D,OAAOzkD,QAUd,GALIzR,GACF2/B,EAAQwzB,UAAU,iBAAkBnzD,GAGtClB,KAAK8mD,KAAKjmB,GACNu4B,EAAI,CACN,IAAIE,EAEA5+C,EAAW,SAAUta,EAAOm5D,GAI9B,OAHA14B,EAAQozB,eAAe,QAASv5C,GAChCmmB,EAAQozB,eAAe,WAAYqF,GAE5BF,EAAGhtC,KAAKpsB,KAAMI,EAAOm5D,EAC7B,EAEDD,EAAa5+C,EAASwyB,KAAKltC,KAAM,MAEjC6gC,EAAQtsB,GAAG,QAASmG,GACpBmmB,EAAQtsB,GAAG,WAAY+kD,EAC7B,CACA,EAAIpsB,KAAKltC,OAEA6gC,CACR,EAED/O,EAAShG,UAAUsrC,OAAS,SAASzkD,GAC9B3S,KAAKI,QACRJ,KAAKI,MAAQuS,EACb3S,KAAKymD,QACLzmD,KAAKmb,KAAK,QAASxI,GAEtB,EAEDmf,EAAShG,UAAUG,SAAW,WAC5B,MAAO,mBACR,KDjfkB3rB,GACbgzB,EAAMxmB,EACN6+C,EAAe3+C,KACfq+C,EAAOn+C,EACPo+C,EAAQl+C,EACRw4C,EAAOv4C,EACPooD,EAAkBnoD,KAClBksD,EAAOjsD,EACPosB,EAASnsB,EACT2jD,EAAS1jD,EAEf,SAASgsD,EAAuBxsC,GAAK,OAAOA,GAAkB,iBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAEvb,QAAWub,EAAI,CAEhH,MAAMysC,EAAiCD,EAAsB7C,GACvD+C,EAA4BF,EAAsBnmC,GAClDsmC,EAA6BH,EAAsBpO,GACnDwO,EAA8BJ,EAAsBnO,GACpDwO,EAA6BL,EAAsB7T,GACnDmU,EAAwCN,EAAsBhE,GAC9DuE,EAA6BP,EAAsBD,GACnDS,EAA+BR,EAAsB9/B,GAE3D,SAASuT,EAAKxrC,EAAIw4D,GAChB,OAAO,WACL,OAAOx4D,EAAGuR,MAAMinD,EAASrpD,UAC1B,CACH,CAIA,MAAMob,SAACA,GAAY7hB,OAAO0hB,WACpBquC,eAACA,GAAkB/vD,OAEnBgwD,GAAUC,EAGbjwD,OAAOmiB,OAAO,MAHQ+tC,IACrB,MAAMtyD,EAAMikB,EAASG,KAAKkuC,GAC1B,OAAOD,EAAMryD,KAASqyD,EAAMryD,GAAOA,EAAI/G,MAAM,GAAI,GAAGukC,cAAc,GAFvD,IAAC60B,EAKhB,MAAME,EAAchlC,IAClBA,EAAOA,EAAKiQ,cACJ80B,GAAUF,EAAOE,KAAW/kC,GAGhCilC,EAAajlC,GAAQ+kC,UAAgBA,IAAU/kC,GAS/Ch0B,QAACA,GAAWD,MASZm5D,EAAcD,EAAW,aAqB/B,MAAME,EAAgBH,EAAW,eA2BjC,MAAMnH,EAAWoH,EAAW,UAQtBxJ,EAAawJ,EAAW,YASxBG,EAAWH,EAAW,UAStBI,EAAYN,GAAoB,OAAVA,GAAmC,iBAAVA,EAiB/CO,EAAiB3mD,IACrB,GAAoB,WAAhBkmD,EAAOlmD,GACT,OAAO,EAGT,MAAM4X,EAAYquC,EAAejmD,GACjC,QAAsB,OAAd4X,GAAsBA,IAAc1hB,OAAO0hB,WAAkD,OAArC1hB,OAAO+vD,eAAeruC,IAA0ByB,OAAOqF,eAAe1e,GAAUqZ,OAAO6J,YAAYljB,EAAI,EAUnK4mD,EAASP,EAAW,QASpBQ,EAASR,EAAW,QASpBS,EAAST,EAAW,QASpBU,EAAaV,EAAW,YAsCxBW,EAAoBX,EAAW,oBAE9BY,EAAkBC,EAAWC,EAAYC,GAAa,CAAC,iBAAkB,UAAW,WAAY,WAAWt2D,IAAIu1D,GA2BtH,SAAS31D,EAAQ0nB,EAAK5qB,GAAI65D,WAACA,GAAa,GAAS,IAE/C,GAAIjvC,QACF,OAGF,IAAIxjB,EACA2kC,EAQJ,GALmB,iBAARnhB,IAETA,EAAM,CAACA,IAGL/qB,EAAQ+qB,GAEV,IAAKxjB,EAAI,EAAG2kC,EAAInhB,EAAIprB,OAAQ4H,EAAI2kC,EAAG3kC,IACjCpH,EAAG0qB,KAAK,KAAME,EAAIxjB,GAAIA,EAAGwjB,OAEtB,CAEL,MAAM5W,EAAO6lD,EAAanxD,OAAOmxB,oBAAoBjP,GAAOliB,OAAOsL,KAAK4W,GAClEnQ,EAAMzG,EAAKxU,OACjB,IAAImK,EAEJ,IAAKvC,EAAI,EAAGA,EAAIqT,EAAKrT,IACnBuC,EAAMqK,EAAK5M,GACXpH,EAAG0qB,KAAK,KAAME,EAAIjhB,GAAMA,EAAKihB,EAEnC,CACA,CAEA,SAASkvC,GAAQlvC,EAAKjhB,GACpBA,EAAMA,EAAIm6B,cACV,MAAM9vB,EAAOtL,OAAOsL,KAAK4W,GACzB,IACImvC,EADA3yD,EAAI4M,EAAKxU,OAEb,KAAO4H,KAAM,GAEX,GADA2yD,EAAO/lD,EAAK5M,GACRuC,IAAQowD,EAAKj2B,cACf,OAAOi2B,EAGX,OAAO,IACT,CAEA,MAAMC,GAEsB,oBAAfC,WAAmCA,WACvB,oBAATpjC,KAAuBA,KAA0B,oBAAX+O,OAAyBA,OAASs0B,EAGlFC,GAAoBt9C,IAAak8C,EAAYl8C,IAAYA,IAAYm9C,GAoD3E,MA8HMI,IAAgBC,GAKG,oBAAfvlC,YAA8B2jC,EAAe3jC,YAH9C8jC,GACEyB,IAAczB,aAAiByB,IAHrB,IAACA,GAetB,MAiCMC,GAAazB,EAAW,mBAWxBtyC,GAAiB,GAAGA,oBAAoB,CAACqE,EAAK3E,IAASM,EAAemE,KAAKE,EAAK3E,GAA/D,CAAsEvd,OAAO0hB,WAS9FmwC,GAAW1B,EAAW,UAEtB2B,GAAoB,CAAC5vC,EAAK6vC,KAC9B,MAAMC,EAAchyD,OAAOiyD,0BAA0B/vC,GAC/CgwC,EAAqB,CAAE,EAE7B13D,EAAQw3D,GAAa,CAACG,EAAYt8D,KAChC,IAAIsjB,GAC2C,KAA1CA,EAAM44C,EAAQI,EAAYt8D,EAAMqsB,MACnCgwC,EAAmBr8D,GAAQsjB,GAAOg5C,EACxC,IAGEnyD,OAAOklC,iBAAiBhjB,EAAKgwC,EAAmB,EAsD5CE,GAAQ,6BAERC,GAAQ,aAERC,GAAW,CACfD,SACAD,SACAG,YAAaH,GAAQA,GAAM5xD,cAAgB6xD,IAwB7C,MA+BMG,GAAYrC,EAAW,iBAQvBsC,IAAkBC,GAkBE,mBAAjB1T,aAlBsC2T,GAmB7C/L,EAAW0K,GAAQsB,aAlBfF,GACK1T,aAGF2T,IAAyBpX,GAW7B,SAASjgD,KAAKk/B,WAXsBq4B,GAWV,GAV3BvB,GAAQ93B,iBAAiB,WAAW,EAAEhuB,SAAQkQ,WACxClQ,IAAW8lD,IAAW51C,IAAS6/B,IACjCsX,GAAU/7D,QAAU+7D,GAAUzzD,OAAVyzD,EAC5B,IACO,GAEK7D,IACN6D,GAAUh6D,KAAKm2D,GACfsC,GAAQsB,YAAYrX,GAAO,IAAI,GAECyT,GAAOv1B,WAAWu1B,IAhBlC,IAAE0D,GAAuBC,GAKbpX,GAAOsX,GAiBzC,MAAMC,GAAiC,oBAAnBC,eAClBA,eAAejwB,KAAKwuB,IAAgC,oBAAZvuD,SAA2BA,QAAQg8C,UAAY0T,GAInFO,GAAU,CACd77D,UACAm5D,gBACAh8C,SAlpBF,SAAkBxK,GAChB,OAAe,OAARA,IAAiBumD,EAAYvmD,IAA4B,OAApBA,EAAIxU,cAAyB+6D,EAAYvmD,EAAIxU,cACpFsxD,EAAW98C,EAAIxU,YAAYgf,WAAaxK,EAAIxU,YAAYgf,SAASxK,EACxE,EAgpBEmpD,WApgBkB/C,IAClB,IAAI5oC,EACJ,OAAO4oC,IACgB,mBAAbxoC,UAA2BwoC,aAAiBxoC,UAClDk/B,EAAWsJ,EAAMp+B,UACY,cAA1BxK,EAAO0oC,EAAOE,KAEL,WAAT5oC,GAAqBs/B,EAAWsJ,EAAMruC,WAAkC,sBAArBquC,EAAMruC,YAGlE,EA2fEqxC,kBA9nBF,SAA2BppD,GACzB,IAAI/D,EAMJ,OAJEA,EAD0B,oBAAhBumB,aAAiCA,YAAkB,OACpDA,YAAY2E,OAAOnnB,GAEnB,GAAUA,EAAU,QAAMwmD,EAAcxmD,EAAI6hB,QAEhD5lB,CACT,EAunBEijD,WACAuH,WACAh0D,UA9kBgB2zD,IAAmB,IAAVA,IAA4B,IAAVA,EA+kB3CM,WACAC,gBACAM,mBACAC,YACAC,aACAC,YACAb,cACAK,SACAC,SACAC,SACAiB,YACAjL,aACAuM,SA9hBgBrpD,GAAQ0mD,EAAS1mD,IAAQ88C,EAAW98C,EAAI4yC,MA+hBxDoU,oBACAY,gBACAb,aACAr2D,UACAgnB,MAhaF,SAASA,IACP,MAAM4xC,SAACA,GAAY3B,GAAiB77D,OAASA,MAAQ,CAAE,EACjDmQ,EAAS,CAAE,EACXstD,EAAc,CAACvpD,EAAK7I,KACxB,MAAMqyD,EAAYF,GAAYhC,GAAQrrD,EAAQ9E,IAAQA,EAClDwvD,EAAc1qD,EAAOutD,KAAe7C,EAAc3mD,GACpD/D,EAAOutD,GAAa9xC,EAAMzb,EAAOutD,GAAYxpD,GACpC2mD,EAAc3mD,GACvB/D,EAAOutD,GAAa9xC,EAAM,CAAA,EAAI1X,GACrB3S,EAAQ2S,GACjB/D,EAAOutD,GAAaxpD,EAAIjT,QAExBkP,EAAOutD,GAAaxpD,CAC1B,EAGE,IAAK,IAAIpL,EAAI,EAAG2kC,EAAI58B,UAAU3P,OAAQ4H,EAAI2kC,EAAG3kC,IAC3C+H,UAAU/H,IAAMlE,EAAQiM,UAAU/H,GAAI20D,GAExC,OAAOttD,CACT,EA6YEwtD,OAjYa,CAACx6D,EAAGC,EAAG82D,GAAUqB,cAAa,MAC3C32D,EAAQxB,GAAG,CAAC8Q,EAAK7I,KACX6uD,GAAWlJ,EAAW98C,GACxB/Q,EAAEkI,GAAO6hC,EAAKh5B,EAAKgmD,GAEnB/2D,EAAEkI,GAAO6I,CACf,GACK,CAACqnD,eACGp4D,GA0XPyO,KA7fY5J,GAAQA,EAAI4J,KACxB5J,EAAI4J,OAAS5J,EAAItE,QAAQ,qCAAsC,IA6f/Dk6D,SAjXgB1uB,IACc,QAA1BA,EAAQ/nB,WAAW,KACrB+nB,EAAUA,EAAQjuC,MAAM,IAEnBiuC,GA8WPmX,SAlWe,CAAC3mD,EAAam+D,EAAkB91C,EAAOq0C,KACtD18D,EAAYosB,UAAY1hB,OAAOmiB,OAAOsxC,EAAiB/xC,UAAWswC,GAClE18D,EAAYosB,UAAUpsB,YAAcA,EACpC0K,OAAO2gB,eAAerrB,EAAa,QAAS,CAC1C0B,MAAOy8D,EAAiB/xC,YAE1B/D,GAAS3d,OAAOC,OAAO3K,EAAYosB,UAAW/D,EAAM,EA6VpD+1C,aAjVmB,CAACC,EAAWC,EAASn7D,EAAQo7D,KAChD,IAAIl2C,EACAjf,EACA6e,EACJ,MAAMu2C,EAAS,CAAE,EAIjB,GAFAF,EAAUA,GAAW,CAAE,EAEN,MAAbD,EAAmB,OAAOC,EAE9B,EAAG,CAGD,IAFAj2C,EAAQ3d,OAAOmxB,oBAAoBwiC,GACnCj1D,EAAIif,EAAM7mB,OACH4H,KAAM,GACX6e,EAAOI,EAAMjf,GACPm1D,IAAcA,EAAWt2C,EAAMo2C,EAAWC,IAAcE,EAAOv2C,KACnEq2C,EAAQr2C,GAAQo2C,EAAUp2C,GAC1Bu2C,EAAOv2C,IAAQ,GAGnBo2C,GAAuB,IAAXl7D,GAAoBs3D,EAAe4D,EACnD,OAAWA,KAAel7D,GAAUA,EAAOk7D,EAAWC,KAAaD,IAAc3zD,OAAO0hB,WAEtF,OAAOkyC,CAAO,EA2Td5D,SACAG,aACApkC,SAjTe,CAACnuB,EAAKm2D,EAAct/C,KACnC7W,EAAMqjB,OAAOrjB,SACI7H,IAAb0e,GAA0BA,EAAW7W,EAAI9G,UAC3C2d,EAAW7W,EAAI9G,QAEjB2d,GAAYs/C,EAAaj9D,OACzB,MAAMk9D,EAAYp2D,EAAIkU,QAAQiiD,EAAct/C,GAC5C,OAAsB,IAAfu/C,GAAoBA,IAAcv/C,CAAQ,EA2SjDw/C,QAhSe/D,IACf,IAAKA,EAAO,OAAO,KACnB,GAAI/4D,EAAQ+4D,GAAQ,OAAOA,EAC3B,IAAIxxD,EAAIwxD,EAAMp5D,OACd,IAAKy5D,EAAS7xD,GAAI,OAAO,KACzB,MAAM8kB,EAAM,IAAItsB,MAAMwH,GACtB,KAAOA,KAAM,GACX8kB,EAAI9kB,GAAKwxD,EAAMxxD,GAEjB,OAAO8kB,CAAG,EAwRV0wC,aA7PmB,CAAChyC,EAAK5qB,KACzB,MAEM01B,GAFY9K,GAAOA,EAAIiB,OAAO6J,WAEThL,KAAKE,GAEhC,IAAInc,EAEJ,MAAQA,EAASinB,EAAS/O,UAAYlY,EAAOqnB,MAAM,CACjD,MAAM+mC,EAAOpuD,EAAO/O,MACpBM,EAAG0qB,KAAKE,EAAKiyC,EAAK,GAAIA,EAAK,GAC/B,GAoPEC,SAzOe,CAACC,EAAQz2D,KACxB,IAAI02D,EACJ,MAAM9wC,EAAM,GAEZ,KAAwC,QAAhC8wC,EAAUD,EAAO7pD,KAAK5M,KAC5B4lB,EAAI3qB,KAAKy7D,GAGX,OAAO9wC,CAAG,EAkOVouC,cACA/zC,kBACA02C,WAAY12C,GACZi0C,qBACA0C,cAzLqBtyC,IACrB4vC,GAAkB5vC,GAAK,CAACiwC,EAAYt8D,KAElC,GAAI+wD,EAAW1kC,KAA6D,IAArD,CAAC,YAAa,SAAU,UAAUpQ,QAAQjc,GAC/D,OAAO,EAGT,MAAMmB,EAAQkrB,EAAIrsB,GAEb+wD,EAAW5vD,KAEhBm7D,EAAW/qC,YAAa,EAEpB,aAAc+qC,EAChBA,EAAW3oC,UAAW,EAInB2oC,EAAWnxD,MACdmxD,EAAWnxD,IAAM,KACf,MAAM3L,MAAM,qCAAwCQ,EAAO,IAAK,GAExE,GACI,EAmKF4+D,YAhKkB,CAACC,EAAetvC,KAClC,MAAMlD,EAAM,CAAE,EAERyyC,EAAUnxC,IACdA,EAAIhpB,SAAQxD,IACVkrB,EAAIlrB,IAAS,CAAI,GACjB,EAKJ,OAFAG,EAAQu9D,GAAiBC,EAAOD,GAAiBC,EAAO1zC,OAAOyzC,GAAev1D,MAAMimB,IAE7ElD,CAAG,EAsJV0yC,YAlOkBh3D,GACXA,EAAIw9B,cAAc9hC,QAAQ,yBAC/B,SAAkBiR,EAAGsqD,EAAIC,GACvB,OAAOD,EAAGr0D,cAAgBs0D,CAChC,IA+NEnN,KApJW,OAqJXoN,eAnJqB,CAAC/9D,EAAOR,IACb,MAATQ,GAAiBijC,OAAO+6B,SAASh+D,GAASA,GAASA,EAAQR,EAmJlE46D,WACAI,OAAQF,GACRG,oBACAa,YACA2C,eA1IqB,CAACtkC,EAAO,GAAIukC,EAAW5C,GAASC,eACrD,IAAI30D,EAAM,GACV,MAAM9G,OAACA,GAAUo+D,EACjB,KAAOvkC,KACL/yB,GAAOs3D,EAAS55D,KAAKk/B,SAAW1jC,EAAO,GAGzC,OAAO8G,CAAG,EAoIVu3D,oBA1HF,SAA6BjF,GAC3B,SAAUA,GAAStJ,EAAWsJ,EAAMp+B,SAAyC,aAA9Bo+B,EAAM/sC,OAAOqF,cAA+B0nC,EAAM/sC,OAAO6J,UAC1G,EAyHEooC,aAvHoBlzC,IACpB,MAAMuhC,EAAQ,IAAIvsD,MAAM,IAElBm+D,EAAQ,CAAC7pD,EAAQ9M,KAErB,GAAI8xD,EAAShlD,GAAS,CACpB,GAAIi4C,EAAM3xC,QAAQtG,IAAW,EAC3B,OAGF,KAAK,WAAYA,GAAS,CACxBi4C,EAAM/kD,GAAK8M,EACX,MAAMzC,EAAS5R,EAAQqU,GAAU,GAAK,CAAE,EASxC,OAPAhR,EAAQgR,GAAQ,CAACxU,EAAOiK,KACtB,MAAMq0D,EAAeD,EAAMr+D,EAAO0H,EAAI,IACrC2xD,EAAYiF,KAAkBvsD,EAAO9H,GAAOq0D,EAAa,IAG5D7R,EAAM/kD,QAAK3I,EAEJgT,CACf,CACA,CAEI,OAAOyC,CAAM,EAGf,OAAO6pD,EAAMnzC,EAAK,EAAE,EA4FpBswC,aACA+C,WAxFkBrF,GAClBA,IAAUM,EAASN,IAAUtJ,EAAWsJ,KAAWtJ,EAAWsJ,EAAMjgD,OAAS22C,EAAWsJ,EAAM7vC,OAwF9F2+B,aAAcyT,GACdK,SAcF,SAAS0C,GAAW//D,EAASD,EAAM6U,EAAQosB,EAAStW,GAClD9qB,MAAM2sB,KAAKpsB,MAEPP,MAAMM,kBACRN,MAAMM,kBAAkBC,KAAMA,KAAKN,aAEnCM,KAAK6tD,OAAQ,IAAKpuD,OAASouD,MAG7B7tD,KAAKH,QAAUA,EACfG,KAAKC,KAAO,aACZL,IAASI,KAAKJ,KAAOA,GACrB6U,IAAWzU,KAAKyU,OAASA,GACzBosB,IAAY7gC,KAAK6gC,QAAUA,GACvBtW,IACFvqB,KAAKuqB,SAAWA,EAChBvqB,KAAKk1B,OAAS3K,EAAS2K,OAAS3K,EAAS2K,OAAS,KAEtD,CAEAkoC,GAAQ/W,SAASuZ,GAAYngE,MAAO,CAClCogE,OAAQ,WACN,MAAO,CAELhgE,QAASG,KAAKH,QACdI,KAAMD,KAAKC,KAEXQ,YAAaT,KAAKS,YAClBq/D,OAAQ9/D,KAAK8/D,OAEbC,SAAU//D,KAAK+/D,SACfC,WAAYhgE,KAAKggE,WACjBC,aAAcjgE,KAAKigE,aACnBpS,MAAO7tD,KAAK6tD,MAEZp5C,OAAQ2oD,GAAQoC,aAAax/D,KAAKyU,QAClC7U,KAAMI,KAAKJ,KACXs1B,OAAQl1B,KAAKk1B,OAEnB,IAGA,MAAMgrC,GAAcN,GAAW9zC,UACzBswC,GAAc,CAAE,EAmDtB,SAAS+D,GAAY7F,GACnB,OAAO8C,GAAQvC,cAAcP,IAAU8C,GAAQ77D,QAAQ+4D,EACzD,CASA,SAAS8F,GAAe/0D,GACtB,OAAO+xD,GAAQjnC,SAAS9qB,EAAK,MAAQA,EAAIpK,MAAM,GAAI,GAAKoK,CAC1D,CAWA,SAASg1D,GAAUtzD,EAAM1B,EAAKi1D,GAC5B,OAAKvzD,EACEA,EAAKvL,OAAO6J,GAAKrG,KAAI,SAAc2gD,EAAO78C,GAG/C,OADA68C,EAAQya,GAAeza,IACf2a,GAAQx3D,EAAI,IAAM68C,EAAQ,IAAMA,CACzC,IAAE5jD,KAAKu+D,EAAO,IAAM,IALHj1D,CAMpB,CAhFA,CACE,uBACA,iBACA,eACA,YACA,cACA,4BACA,iBACA,mBACA,kBACA,eACA,kBACA,mBAEAzG,SAAQhF,IACRw8D,GAAYx8D,GAAQ,CAACwB,MAAOxB,EAAK,IAGnCwK,OAAOklC,iBAAiBswB,GAAYxD,IACpChyD,OAAO2gB,eAAem1C,GAAa,eAAgB,CAAC9+D,OAAO,IAG3Dw+D,GAAW7zD,KAAO,CAAC3L,EAAOR,EAAM6U,EAAQosB,EAAStW,EAAUg2C,KACzD,MAAMC,EAAap2D,OAAOmiB,OAAO2zC,IAgBjC,OAdA9C,GAAQU,aAAa19D,EAAOogE,GAAY,SAAgBl0C,GACtD,OAAOA,IAAQ7sB,MAAMqsB,SACtB,IAAEnE,GACe,iBAATA,IAGTi4C,GAAWxzC,KAAKo0C,EAAYpgE,EAAMP,QAASD,EAAM6U,EAAQosB,EAAStW,GAElEi2C,EAAW7qC,MAAQv1B,EAEnBogE,EAAWvgE,KAAOG,EAAMH,KAExBsgE,GAAen2D,OAAOC,OAAOm2D,EAAYD,GAElCC,CAAU,EAsDnB,MAAMC,GAAarD,GAAQU,aAAaV,GAAS,CAAA,EAAI,MAAM,SAAgBz1C,GACzE,MAAO,WAAW1e,KAAK0e,EACzB,IAyBA,SAAS+4C,GAAWp0C,EAAKq0C,EAAU98D,GACjC,IAAKu5D,GAAQxC,SAAStuC,GACpB,MAAM,IAAI8E,UAAU,4BAItBuvC,EAAWA,GAAY,IAAKjH,EAA2B,SAAK5nC,UAG5DjuB,EAAUu5D,GAAQU,aAAaj6D,EAAS,CACtC+8D,YAAY,EACZN,MAAM,EACNO,SAAS,IACR,GAAO,SAAiBr9D,EAAQoS,GAEjC,OAAQwnD,GAAQ3C,YAAY7kD,EAAOpS,GACvC,IAEE,MAAMo9D,EAAa/8D,EAAQ+8D,WAErBE,EAAUj9D,EAAQi9D,SAAWC,EAC7BT,EAAOz8D,EAAQy8D,KACfO,EAAUh9D,EAAQg9D,QAElBG,GADQn9D,EAAQkuB,MAAwB,oBAATA,MAAwBA,OACpCqrC,GAAQmC,oBAAoBoB,GAErD,IAAKvD,GAAQpM,WAAW8P,GACtB,MAAM,IAAI1vC,UAAU,8BAGtB,SAAS6vC,EAAa7/D,GACpB,GAAc,OAAVA,EAAgB,MAAO,GAE3B,GAAIg8D,GAAQtC,OAAO15D,GACjB,OAAOA,EAAM8tB,cAGf,IAAK8xC,GAAW5D,GAAQpC,OAAO55D,GAC7B,MAAM,IAAIw+D,GAAW,gDAGvB,OAAIxC,GAAQ1C,cAAct5D,IAAUg8D,GAAQtB,aAAa16D,GAChD4/D,GAA2B,mBAATjvC,KAAsB,IAAIA,KAAK,CAAC3wB,IAAUqd,OAAO1S,KAAK3K,GAG1EA,CACX,CAYE,SAAS2/D,EAAe3/D,EAAOiK,EAAK0B,GAClC,IAAI6gB,EAAMxsB,EAEV,GAAIA,IAAU2L,GAAyB,iBAAV3L,EAC3B,GAAIg8D,GAAQjnC,SAAS9qB,EAAK,MAExBA,EAAMu1D,EAAav1D,EAAMA,EAAIpK,MAAM,GAAI,GAEvCG,EAAQoF,KAAKC,UAAUrF,QAClB,GACJg8D,GAAQ77D,QAAQH,IAnGzB,SAAqBwsB,GACnB,OAAOwvC,GAAQ77D,QAAQqsB,KAASA,EAAIqO,KAAKkkC,GAC3C,CAiGmCe,CAAY9/D,KACrCg8D,GAAQnC,WAAW75D,IAAUg8D,GAAQjnC,SAAS9qB,EAAK,SAAWuiB,EAAMwvC,GAAQiB,QAAQj9D,IAYtF,OATAiK,EAAM+0D,GAAe/0D,GAErBuiB,EAAIhpB,SAAQ,SAAcu8D,EAAIlnD,IAC1BmjD,GAAQ3C,YAAY0G,IAAc,OAAPA,GAAgBR,EAASzkC,QAExC,IAAZ2kC,EAAmBR,GAAU,CAACh1D,GAAM4O,EAAOqmD,GAAqB,OAAZO,EAAmBx1D,EAAMA,EAAM,KACnF41D,EAAaE,GAEzB,KACe,EAIX,QAAIhB,GAAY/+D,KAIhBu/D,EAASzkC,OAAOmkC,GAAUtzD,EAAM1B,EAAKi1D,GAAOW,EAAa7/D,KAElD,EACX,CAEE,MAAMysD,EAAQ,GAERuT,EAAiBh3D,OAAOC,OAAOo2D,GAAY,CAC/CM,iBACAE,eACAd,iBAyBF,IAAK/C,GAAQxC,SAAStuC,GACpB,MAAM,IAAI8E,UAAU,0BAKtB,OA5BA,SAASyU,EAAMzkC,EAAO2L,GACpB,IAAIqwD,GAAQ3C,YAAYr5D,GAAxB,CAEA,IAA8B,IAA1BysD,EAAM3xC,QAAQ9a,GAChB,MAAM3B,MAAM,kCAAoCsN,EAAKhL,KAAK,MAG5D8rD,EAAM5qD,KAAK7B,GAEXg8D,GAAQx4D,QAAQxD,GAAO,SAAc+/D,EAAI91D,IAKxB,OAJE+xD,GAAQ3C,YAAY0G,IAAc,OAAPA,IAAgBL,EAAQ10C,KAClEu0C,EAAUQ,EAAI/D,GAAQhK,SAAS/nD,GAAOA,EAAIuG,OAASvG,EAAK0B,EAAMq0D,KAI9Dv7B,EAAMs7B,EAAIp0D,EAAOA,EAAKvL,OAAO6J,GAAO,CAACA,GAE7C,IAEIwiD,EAAM3/B,KAlB0B,CAmBpC,CAME2X,CAAMvZ,GAECq0C,CACT,CAUA,SAASU,GAASr5D,GAChB,MAAMs5D,EAAU,CACd,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,IAAK,MACL,MAAO,IACP,MAAO,MAET,OAAO79B,mBAAmBz7B,GAAKtE,QAAQ,oBAAoB,SAAkB4E,GAC3E,OAAOg5D,EAAQh5D,EACnB,GACA,CAUA,SAASi5D,GAAqB75C,EAAQ7jB,GACpC7D,KAAKwhE,OAAS,GAEd95C,GAAUg5C,GAAWh5C,EAAQ1nB,KAAM6D,EACrC,CAEA,MAAMioB,GAAYy1C,GAAqBz1C,UAwBvC,SAASJ,GAAOxX,GACd,OAAOuvB,mBAAmBvvB,GACxBxQ,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,IACrB,CAWA,SAAS+9B,GAASnO,EAAK5L,EAAQ7jB,GAE7B,IAAK6jB,EACH,OAAO4L,EAGT,MAAMmuC,EAAU59D,GAAWA,EAAQ6nB,QAAUA,GAEvCg2C,EAAc79D,GAAWA,EAAQ89D,UAEvC,IAAIC,EAUJ,GAPEA,EADEF,EACiBA,EAAYh6C,EAAQ7jB,GAEpBu5D,GAAQlC,kBAAkBxzC,GAC3CA,EAAOuE,WACP,IAAIs1C,GAAqB75C,EAAQ7jB,GAASooB,SAASw1C,GAGnDG,EAAkB,CACpB,MAAMC,EAAgBvuC,EAAIpX,QAAQ,MAEX,IAAnB2lD,IACFvuC,EAAMA,EAAIryB,MAAM,EAAG4gE,IAErBvuC,KAA8B,IAAtBA,EAAIpX,QAAQ,KAAc,IAAM,KAAO0lD,CACnD,CAEE,OAAOtuC,CACT,CAvEAxH,GAAUoQ,OAAS,SAAgBj8B,EAAMmB,GACvCpB,KAAKwhE,OAAOv+D,KAAK,CAAChD,EAAMmB,GACzB,EAED0qB,GAAUG,SAAW,SAAkByD,GACrC,MAAM+xC,EAAU/xC,EAAU,SAAStuB,GACjC,OAAOsuB,EAAQtD,KAAKpsB,KAAMoB,EAAOigE,GACrC,EAAMA,GAEJ,OAAOrhE,KAAKwhE,OAAOx8D,KAAI,SAAcu5D,GACnC,OAAOkD,EAAQlD,EAAK,IAAM,IAAMkD,EAAQlD,EAAK,GACjD,GAAK,IAAIx8D,KAAK,IACb,EA+HD,MAAM+/D,GAlEN,MACE,WAAApiE,GACEM,KAAK+hE,SAAW,EACpB,CAUE,GAAAC,CAAIC,EAAW7jB,EAAUv6C,GAOvB,OANA7D,KAAK+hE,SAAS9+D,KAAK,CACjBg/D,YACA7jB,WACA8jB,cAAar+D,GAAUA,EAAQq+D,YAC/BC,QAASt+D,EAAUA,EAAQs+D,QAAU,OAEhCniE,KAAK+hE,SAAS7gE,OAAS,CAClC,CASE,KAAAkhE,CAAMh6B,GACApoC,KAAK+hE,SAAS35B,KAChBpoC,KAAK+hE,SAAS35B,GAAM,KAE1B,CAOE,KAAAi6B,GACMriE,KAAK+hE,WACP/hE,KAAK+hE,SAAW,GAEtB,CAYE,OAAAn9D,CAAQlD,GACN07D,GAAQx4D,QAAQ5E,KAAK+hE,UAAU,SAAwBtV,GAC3C,OAANA,GACF/qD,EAAG+qD,EAEX,GACA,GAKM6V,GAAuB,CAC3BC,mBAAmB,EACnBC,mBAAmB,EACnBC,qBAAqB,GAKjBC,GAAa,CACjBC,QAAQ,EACRC,QAAS,CACPC,gBALoBlJ,EAAsB,QAAEkJ,gBAM5C/wC,SAAU4nC,EAA2B,QACrC3nC,KAAsB,oBAATA,MAAwBA,MAAQ,MAE/C6gC,UAAW,CAAE,OAAQ,QAAS,OAAQ,SAGlCkQ,GAAkC,oBAAXx7B,QAA8C,oBAAbC,SAExDw7B,GAAkC,iBAAd18B,WAA0BA,gBAAalmC,EAmB3D6iE,GAAwBF,MAC1BC,IAAc,CAAC,cAAe,eAAgB,MAAM7mD,QAAQ6mD,GAAWE,SAAW,GAWhFC,GAE2B,oBAAtBC,mBAEP5qC,gBAAgB4qC,mBACc,mBAAvB5qC,KAAK6qC,cAIVC,GAASP,IAAiBx7B,OAAOkuB,SAAShC,MAAQ,mBAWlDt7C,GAAW,IATU9N,OAAOk5D,OAAO,CACvCC,UAAW,KACXT,cAAeA,GACfI,+BAAgCA,GAChCF,sBAAuBA,GACvB38B,UAAW08B,GACXM,OAAQA,QAKLX,IA4DL,SAASc,GAAe7C,GACtB,SAAS8C,EAAU12D,EAAM3L,EAAO+R,EAAQ8G,GACtC,IAAIha,EAAO8M,EAAKkN,KAEhB,GAAa,cAATha,EAAsB,OAAO,EAEjC,MAAMyjE,EAAer/B,OAAO+6B,UAAUn/D,GAChC0jE,EAAS1pD,GAASlN,EAAK7L,OAG7B,GAFAjB,GAAQA,GAAQm9D,GAAQ77D,QAAQ4R,GAAUA,EAAOjS,OAASjB,EAEtD0jE,EAOF,OANIvG,GAAQuB,WAAWxrD,EAAQlT,GAC7BkT,EAAOlT,GAAQ,CAACkT,EAAOlT,GAAOmB,GAE9B+R,EAAOlT,GAAQmB,GAGTsiE,EAGLvwD,EAAOlT,IAAUm9D,GAAQxC,SAASznD,EAAOlT,MAC5CkT,EAAOlT,GAAQ,IASjB,OANewjE,EAAU12D,EAAM3L,EAAO+R,EAAOlT,GAAOga,IAEtCmjD,GAAQ77D,QAAQ4R,EAAOlT,MACnCkT,EAAOlT,GA/Cb,SAAuB2tB,GACrB,MAAMtB,EAAM,CAAE,EACR5W,EAAOtL,OAAOsL,KAAKkY,GACzB,IAAI9kB,EACJ,MAAMqT,EAAMzG,EAAKxU,OACjB,IAAImK,EACJ,IAAKvC,EAAI,EAAGA,EAAIqT,EAAKrT,IACnBuC,EAAMqK,EAAK5M,GACXwjB,EAAIjhB,GAAOuiB,EAAIviB,GAEjB,OAAOihB,CACT,CAoCqBs3C,CAAczwD,EAAOlT,MAG9ByjE,CACZ,CAEE,GAAItG,GAAQC,WAAWsD,IAAavD,GAAQpM,WAAW2P,EAAS5kC,SAAU,CACxE,MAAMzP,EAAM,CAAE,EAMd,OAJA8wC,GAAQkB,aAAaqC,GAAU,CAAC1gE,EAAMmB,KACpCqiE,EA1EN,SAAuBxjE,GAKrB,OAAOm9D,GAAQoB,SAAS,gBAAiBv+D,GAAM+E,KAAIsD,GAC7B,OAAbA,EAAM,GAAc,GAAKA,EAAM,IAAMA,EAAM,IAEtD,CAkEgBu7D,CAAc5jE,GAAOmB,EAAOkrB,EAAK,EAAE,IAGxCA,CACX,CAEE,OAAO,IACT,CA2BA,MAAMvD,GAAW,CAEf+6C,aAAcxB,GAEdyB,QAAS,CAAC,MAAO,OAAQ,SAEzBC,iBAAkB,CAAC,SAA0Bl+C,EAAMqP,GACjD,MAAMwJ,EAAcxJ,EAAQ8uC,kBAAoB,GAC1CC,EAAqBvlC,EAAYziB,QAAQ,qBAAuB,EAChEioD,EAAkB/G,GAAQxC,SAAS90C,GAErCq+C,GAAmB/G,GAAQpB,WAAWl2C,KACxCA,EAAO,IAAIgM,SAAShM,IAKtB,GAFmBs3C,GAAQC,WAAWv3C,GAGpC,OAAOo+C,EAAqB19D,KAAKC,UAAU+8D,GAAe19C,IAASA,EAGrE,GAAIs3C,GAAQ1C,cAAc50C,IACxBs3C,GAAQ1+C,SAASoH,IACjBs3C,GAAQG,SAASz3C,IACjBs3C,GAAQrC,OAAOj1C,IACfs3C,GAAQpC,OAAOl1C,IACfs3C,GAAQjC,iBAAiBr1C,GAEzB,OAAOA,EAET,GAAIs3C,GAAQE,kBAAkBx3C,GAC5B,OAAOA,EAAKiQ,OAEd,GAAIqnC,GAAQlC,kBAAkBp1C,GAE5B,OADAqP,EAAQivC,eAAe,mDAAmD,GACnEt+C,EAAKmG,WAGd,IAAIgvC,EAEJ,GAAIkJ,EAAiB,CACnB,GAAIxlC,EAAYziB,QAAQ,sCAAwC,EAC9D,OA1KR,SAA0B4J,EAAMjiB,GAC9B,OAAO68D,GAAW56C,EAAM,IAAI5N,GAAS0qD,QAAQC,gBAAmBz4D,OAAOC,OAAO,CAC5Ey2D,QAAS,SAAS1/D,EAAOiK,EAAK0B,EAAMs3D,GAClC,OAAInsD,GAASyqD,QAAUvF,GAAQ1+C,SAAStd,IACtCpB,KAAKk8B,OAAO7wB,EAAKjK,EAAM6qB,SAAS,YACzB,GAGFo4C,EAAQtD,eAAe9tD,MAAMjT,KAAM6Q,UAChD,GACKhN,GACL,CA+JeygE,CAAiBx+C,EAAM9lB,KAAKukE,gBAAgBt4C,WAGrD,IAAKgvC,EAAamC,GAAQnC,WAAWn1C,KAAU6Y,EAAYziB,QAAQ,wBAA0B,EAAG,CAC9F,MAAMsoD,EAAYxkE,KAAKsK,KAAOtK,KAAKsK,IAAIwnB,SAEvC,OAAO4uC,GACLzF,EAAa,CAAC,UAAWn1C,GAAQA,EACjC0+C,GAAa,IAAIA,EACjBxkE,KAAKukE,eAEf,CACA,CAEI,OAAIJ,GAAmBD,GACrB/uC,EAAQivC,eAAe,oBAAoB,GAxEjD,SAAyBK,EAAU32B,GACjC,GAAIsvB,GAAQhK,SAASqR,GACnB,IAEE,OADC32B,GAAUtnC,KAAKgQ,OAAOiuD,GAChBrH,GAAQxrD,KAAK6yD,EACrB,CAAC,MAAOx3C,GACP,GAAe,gBAAXA,EAAEhtB,KACJ,MAAMgtB,CAEd,CAGE,OAAO,EAAYzmB,KAAKC,WAAWg+D,EACrC,CA4DaC,CAAgB5+C,IAGlBA,CACX,GAEE6+C,kBAAmB,CAAC,SAA2B7+C,GAC7C,MAAMg+C,EAAe9jE,KAAK8jE,cAAgB/6C,GAAS+6C,aAC7CtB,EAAoBsB,GAAgBA,EAAatB,kBACjDoC,EAAsC,SAAtB5kE,KAAK6kE,aAE3B,GAAIzH,GAAQ/B,WAAWv1C,IAASs3C,GAAQjC,iBAAiBr1C,GACvD,OAAOA,EAGT,GAAIA,GAAQs3C,GAAQhK,SAASttC,KAAW08C,IAAsBxiE,KAAK6kE,cAAiBD,GAAgB,CAClG,MACME,IADoBhB,GAAgBA,EAAavB,oBACPqC,EAEhD,IACE,OAAOp+D,KAAKgQ,MAAMsP,EACnB,CAAC,MAAOmH,GACP,GAAI63C,EAAmB,CACrB,GAAe,gBAAX73C,EAAEhtB,KACJ,MAAM2/D,GAAW7zD,KAAKkhB,EAAG2yC,GAAWmF,iBAAkB/kE,KAAM,KAAMA,KAAKuqB,UAEzE,MAAM0C,CAChB,CACA,CACA,CAEI,OAAOnH,CACX,GAME6Z,QAAS,EAETqlC,eAAgB,aAChBC,eAAgB,eAEhBC,kBAAmB,EACnBpS,eAAgB,EAEhBxoD,IAAK,CACHwnB,SAAU5Z,GAAS0qD,QAAQ9wC,SAC3BC,KAAM7Z,GAAS0qD,QAAQ7wC,MAGzBozC,eAAgB,SAAwBjwC,GACtC,OAAOA,GAAU,KAAOA,EAAS,GAClC,EAEDC,QAAS,CACPiwC,OAAQ,CACNnlC,OAAU,oCACV,oBAAgB9/B,KAKtBi9D,GAAQx4D,QAAQ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,UAAWg8B,IAClE7X,GAASoM,QAAQyL,GAAU,CAAE,CAAA,IAG/B,MAAMykC,GAAat8C,GAIbu8C,GAAoBlI,GAAQyB,YAAY,CAC5C,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,eA8CtB0G,GAAah4C,OAAO,aAE1B,SAASi4C,GAAgBljC,GACvB,OAAOA,GAAUjX,OAAOiX,GAAQ1wB,OAAO4zB,aACzC,CAEA,SAASigC,GAAerkE,GACtB,OAAc,IAAVA,GAA4B,MAATA,EACdA,EAGFg8D,GAAQ77D,QAAQH,GAASA,EAAM4D,IAAIygE,IAAkBp6C,OAAOjqB,EACrE,CAgBA,SAASskE,GAAiBnnD,EAASnd,EAAOkhC,EAAQz/B,EAAQ8iE,GACxD,OAAIvI,GAAQpM,WAAWnuD,GACdA,EAAOupB,KAAKpsB,KAAMoB,EAAOkhC,IAG9BqjC,IACFvkE,EAAQkhC,GAGL86B,GAAQhK,SAAShyD,GAElBg8D,GAAQhK,SAASvwD,IACe,IAA3BzB,EAAM8a,QAAQrZ,GAGnBu6D,GAAQnB,SAASp5D,GACZA,EAAOoG,KAAK7H,QADrB,OANA,EASF,CAsBA,MAAMwkE,GACJ,WAAAlmE,CAAYy1B,GACVA,GAAWn1B,KAAKoL,IAAI+pB,EACxB,CAEE,GAAA/pB,CAAIk3B,EAAQujC,EAAgBC,GAC1B,MAAMvtC,EAAOv4B,KAEb,SAASq0D,EAAU0R,EAAQC,EAASC,GAClC,MAAMC,EAAUV,GAAgBQ,GAEhC,IAAKE,EACH,MAAM,IAAIzmE,MAAM,0CAGlB,MAAM4L,EAAM+xD,GAAQ5B,QAAQjjC,EAAM2tC,KAE9B76D,QAAqBlL,IAAdo4B,EAAKltB,KAAmC,IAAb46D,QAAmC9lE,IAAb8lE,IAAwC,IAAd1tC,EAAKltB,MACzFktB,EAAKltB,GAAO26D,GAAWP,GAAeM,GAE9C,CAEI,MAAMI,EAAa,CAAChxC,EAAS8wC,IAC3B7I,GAAQx4D,QAAQuwB,GAAS,CAAC4wC,EAAQC,IAAY3R,EAAU0R,EAAQC,EAASC,KAE3E,GAAI7I,GAAQvC,cAAcv4B,IAAWA,aAAkBtiC,KAAKN,YAC1DymE,EAAW7jC,EAAQujC,QACd,GAAGzI,GAAQhK,SAAS9wB,KAAYA,EAASA,EAAO1wB,UArExB,iCAAiC3I,KAqEqBq5B,EArEZ1wB,QAsEvEu0D,EA7HeC,KACnB,MAAMxrD,EAAS,CAAE,EACjB,IAAIvP,EACA6I,EACApL,EAsBJ,OApBAs9D,GAAcA,EAAW78D,MAAM,MAAM3E,SAAQ,SAAgBiE,GAC3DC,EAAID,EAAKqT,QAAQ,KACjB7Q,EAAMxC,EAAK2X,UAAU,EAAG1X,GAAG8I,OAAO4zB,cAClCtxB,EAAMrL,EAAK2X,UAAU1X,EAAI,GAAG8I,QAEvBvG,GAAQuP,EAAOvP,IAAQi6D,GAAkBj6D,KAIlC,eAARA,EACEuP,EAAOvP,GACTuP,EAAOvP,GAAKpI,KAAKiR,GAEjB0G,EAAOvP,GAAO,CAAC6I,GAGjB0G,EAAOvP,GAAOuP,EAAOvP,GAAOuP,EAAOvP,GAAO,KAAO6I,EAAMA,EAE7D,IAES0G,CAAM,EAmGEwnB,CAAaE,GAASujC,QAC5B,GAAIzI,GAAQ9B,UAAUh5B,GAC3B,IAAK,MAAOj3B,EAAKjK,KAAUkhC,EAAOvG,UAChCs4B,EAAUjzD,EAAOiK,EAAKy6D,QAGd,MAAVxjC,GAAkB+xB,EAAUwR,EAAgBvjC,EAAQwjC,GAGtD,OAAO9lE,IACX,CAEE,GAAA0L,CAAI42B,EAAQwL,GAGV,GAFAxL,EAASkjC,GAAgBljC,GAEb,CACV,MAAMj3B,EAAM+xD,GAAQ5B,QAAQx7D,KAAMsiC,GAElC,GAAIj3B,EAAK,CACP,MAAMjK,EAAQpB,KAAKqL,GAEnB,IAAKyiC,EACH,OAAO1sC,EAGT,IAAe,IAAX0sC,EACF,OA5GV,SAAqB9lC,GACnB,MAAMq+D,EAASj8D,OAAOmiB,OAAO,MACvB+5C,EAAW,mCACjB,IAAIh+D,EAEJ,KAAQA,EAAQg+D,EAAS1xD,KAAK5M,IAC5Bq+D,EAAO/9D,EAAM,IAAMA,EAAM,GAG3B,OAAO+9D,CACT,CAkGiBE,CAAYnlE,GAGrB,GAAIg8D,GAAQpM,WAAWljB,GACrB,OAAOA,EAAO1hB,KAAKpsB,KAAMoB,EAAOiK,GAGlC,GAAI+xD,GAAQnB,SAASnuB,GACnB,OAAOA,EAAOl5B,KAAKxT,GAGrB,MAAM,IAAIgwB,UAAU,yCAC5B,CACA,CACA,CAEE,GAAA9lB,CAAIg3B,EAAQkkC,GAGV,GAFAlkC,EAASkjC,GAAgBljC,GAEb,CACV,MAAMj3B,EAAM+xD,GAAQ5B,QAAQx7D,KAAMsiC,GAElC,SAAUj3B,QAAqBlL,IAAdH,KAAKqL,IAAwBm7D,IAAWd,GAAiB1lE,EAAMA,KAAKqL,GAAMA,EAAKm7D,GACtG,CAEI,OAAO,CACX,CAEE,OAAOlkC,EAAQkkC,GACb,MAAMjuC,EAAOv4B,KACb,IAAIymE,GAAU,EAEd,SAASC,EAAaV,GAGpB,GAFAA,EAAUR,GAAgBQ,GAEb,CACX,MAAM36D,EAAM+xD,GAAQ5B,QAAQjjC,EAAMytC,IAE9B36D,GAASm7D,IAAWd,GAAiBntC,EAAMA,EAAKltB,GAAMA,EAAKm7D,YACtDjuC,EAAKltB,GAEZo7D,GAAU,EAEpB,CACA,CAQI,OANIrJ,GAAQ77D,QAAQ+gC,GAClBA,EAAO19B,QAAQ8hE,GAEfA,EAAapkC,GAGRmkC,CACX,CAEE,KAAApE,CAAMmE,GACJ,MAAM9wD,EAAOtL,OAAOsL,KAAK1V,MACzB,IAAI8I,EAAI4M,EAAKxU,OACTulE,GAAU,EAEd,KAAO39D,KAAK,CACV,MAAMuC,EAAMqK,EAAK5M,GACb09D,IAAWd,GAAiB1lE,EAAMA,KAAKqL,GAAMA,EAAKm7D,GAAS,YACtDxmE,KAAKqL,GACZo7D,GAAU,EAElB,CAEI,OAAOA,CACX,CAEE,SAAArO,CAAU/qC,GACR,MAAMkL,EAAOv4B,KACPm1B,EAAU,CAAE,EAsBlB,OApBAioC,GAAQx4D,QAAQ5E,MAAM,CAACoB,EAAOkhC,KAC5B,MAAMj3B,EAAM+xD,GAAQ5B,QAAQrmC,EAASmN,GAErC,GAAIj3B,EAGF,OAFAktB,EAAKltB,GAAOo6D,GAAerkE,eACpBm3B,EAAK+J,GAId,MAAMqkC,EAAat5C,EA9JzB,SAAsBiV,GACpB,OAAOA,EAAO1wB,OACX4zB,cAAc9hC,QAAQ,mBAAmB,CAACwiB,EAAGQ,EAAM1e,IAC3C0e,EAAK9b,cAAgB5C,GAElC,CAyJkC4+D,CAAatkC,GAAUjX,OAAOiX,GAAQ1wB,OAE9D+0D,IAAerkC,UACV/J,EAAK+J,GAGd/J,EAAKouC,GAAclB,GAAerkE,GAElC+zB,EAAQwxC,IAAc,CAAI,IAGrB3mE,IACX,CAEE,MAAAwB,IAAUqlE,GACR,OAAO7mE,KAAKN,YAAY8B,OAAOxB,QAAS6mE,EAC5C,CAEE,MAAAhH,CAAOiH,GACL,MAAMx6C,EAAMliB,OAAOmiB,OAAO,MAM1B,OAJA6wC,GAAQx4D,QAAQ5E,MAAM,CAACoB,EAAOkhC,KACnB,MAATlhC,IAA2B,IAAVA,IAAoBkrB,EAAIgW,GAAUwkC,GAAa1J,GAAQ77D,QAAQH,GAASA,EAAMW,KAAK,MAAQX,EAAM,IAG7GkrB,CACX,CAEE,CAACiB,OAAO6J,YACN,OAAOhtB,OAAO2xB,QAAQ/7B,KAAK6/D,UAAUtyC,OAAO6J,WAChD,CAEE,QAAAnL,GACE,OAAO7hB,OAAO2xB,QAAQ/7B,KAAK6/D,UAAU76D,KAAI,EAAEs9B,EAAQlhC,KAAWkhC,EAAS,KAAOlhC,IAAOW,KAAK,KAC9F,CAEE,IAAKwrB,OAAOqF,eACV,MAAO,cACX,CAEE,WAAO7mB,CAAKuuD,GACV,OAAOA,aAAiBt6D,KAAOs6D,EAAQ,IAAIt6D,KAAKs6D,EACpD,CAEE,aAAO94D,CAAOulE,KAAUF,GACtB,MAAMG,EAAW,IAAIhnE,KAAK+mE,GAI1B,OAFAF,EAAQjiE,SAASuO,GAAW6zD,EAAS57D,IAAI+H,KAElC6zD,CACX,CAEE,eAAOC,CAAS3kC,GACd,MAIM4kC,GAJYlnE,KAAKulE,IAAevlE,KAAKulE,IAAc,CACvD2B,UAAW,CAAA,IAGeA,UACtBp7C,EAAY9rB,KAAK8rB,UAEvB,SAASq7C,EAAenB,GACtB,MAAME,EAAUV,GAAgBQ,GAE3BkB,EAAUhB,MAtNrB,SAAwB55C,EAAKgW,GAC3B,MAAM8kC,EAAehK,GAAQ4B,YAAY,IAAM18B,GAE/C,CAAC,MAAO,MAAO,OAAO19B,SAAQyiE,IAC5Bj9D,OAAO2gB,eAAeuB,EAAK+6C,EAAaD,EAAc,CACpDhmE,MAAO,SAASiwD,EAAMC,EAAMC,GAC1B,OAAOvxD,KAAKqnE,GAAYj7C,KAAKpsB,KAAMsiC,EAAQ+uB,EAAMC,EAAMC,EACxD,EACD19B,cAAc,GACd,GAEN,CA4MQyzC,CAAex7C,EAAWk6C,GAC1BkB,EAAUhB,IAAW,EAE7B,CAII,OAFA9I,GAAQ77D,QAAQ+gC,GAAUA,EAAO19B,QAAQuiE,GAAkBA,EAAe7kC,GAEnEtiC,IACX,EAGA4lE,GAAaqB,SAAS,CAAC,eAAgB,iBAAkB,SAAU,kBAAmB,aAAc,kBAGpG7J,GAAQlB,kBAAkB0J,GAAa95C,WAAW,EAAE1qB,SAAQiK,KAC1D,IAAIijB,EAASjjB,EAAI,GAAGT,cAAgBS,EAAIpK,MAAM,GAC9C,MAAO,CACLyK,IAAK,IAAMtK,EACX,GAAAgK,CAAIm8D,GACFvnE,KAAKsuB,GAAUi5C,CACrB,EACA,IAGAnK,GAAQwB,cAAcgH,IAEtB,MAAM4B,GAAiB5B,GAUvB,SAAS6B,GAAcC,EAAKn9C,GAC1B,MAAM9V,EAASzU,MAAQqlE,GACjB9mD,EAAUgM,GAAY9V,EACtB0gB,EAAUqyC,GAAez7D,KAAKwS,EAAQ4W,SAC5C,IAAIrP,EAAOvH,EAAQuH,KAQnB,OANAs3C,GAAQx4D,QAAQ8iE,GAAK,SAAmBhmE,GACtCokB,EAAOpkB,EAAG0qB,KAAK3X,EAAQqR,EAAMqP,EAAQijC,YAAa7tC,EAAWA,EAAS2K,YAAS/0B,EACnF,IAEEg1B,EAAQijC,YAEDtyC,CACT,CAEA,SAAS6hD,GAASvmE,GAChB,SAAUA,IAASA,EAAMwmE,WAC3B,CAWA,SAASC,GAAchoE,EAAS4U,EAAQosB,GAEtC++B,GAAWxzC,KAAKpsB,KAAiB,MAAXH,EAAkB,WAAaA,EAAS+/D,GAAWkI,aAAcrzD,EAAQosB,GAC/F7gC,KAAKC,KAAO,eACd,CAeA,SAAS8nE,GAAO5wD,EAASqR,EAAQ+B,GAC/B,MAAM46C,EAAiB56C,EAAS9V,OAAO0wD,eAClC56C,EAAS2K,QAAWiwC,IAAkBA,EAAe56C,EAAS2K,QAGjE1M,EAAO,IAAIo3C,GACT,mCAAqCr1C,EAAS2K,OAC9C,CAAC0qC,GAAWoI,gBAAiBpI,GAAWmF,kBAAkBr/D,KAAKinD,MAAMpiC,EAAS2K,OAAS,KAAO,GAC9F3K,EAAS9V,OACT8V,EAASsW,QACTtW,IAPFpT,EAAQoT,EAUZ,CAwCA,SAAS09C,GAAcxoC,EAASyoC,GAC9B,OAAIzoC,IAhCN,SAAuBnM,GAIrB,MAAO,8BAA8BrqB,KAAKqqB,EAC5C,CA2BkB+P,CAAc6kC,GAjBhC,SAAqBzoC,EAAS0oC,GAC5B,OAAOA,EACH1oC,EAAQ/7B,QAAQ,SAAU,IAAM,IAAMykE,EAAYzkE,QAAQ,OAAQ,IAClE+7B,CACN,CAcW2oC,CAAY3oC,EAASyoC,GAEvBA,CACT,CAvEA9K,GAAQ/W,SAASwhB,GAAejI,GAAY,CAC1CgI,YAAY,IAwEd,MAAMn2C,GAAU,QAEhB,SAAS42C,GAAc/0C,GACrB,MAAMhrB,EAAQ,4BAA4BsM,KAAK0e,GAC/C,OAAOhrB,GAASA,EAAM,IAAM,EAC9B,CAEA,MAAMggE,GAAmB,gDAgDzB,MAAMC,GAAah7C,OAAO,aAE1B,MAAMi7C,WAA6BvO,EAAyB,QAAEwO,UAC5D,WAAA/oE,CAAYmE,GAYV/D,MAAM,CACJ4oE,uBAZF7kE,EAAUu5D,GAAQU,aAAaj6D,EAAS,CACtC8kE,QAAS,EACTC,UAAW,MACXC,aAAc,IACdC,WAAY,IACZC,UAAW,EACXC,aAAc,IACb,MAAM,CAACrhD,EAAM/R,KACNwnD,GAAQ3C,YAAY7kD,EAAO+R,OAIJihD,YAGjC,MAAMK,EAAYjpE,KAAKuoE,IAAc,CACnCO,WAAYjlE,EAAQilE,WACpBF,UAAW/kE,EAAQ+kE,UACnBD,QAAS9kE,EAAQ8kE,QACjBE,aAAchlE,EAAQglE,aACtBK,UAAW,EACXC,YAAY,EACZC,oBAAqB,EACrBC,GAAIp6C,KAAKuV,MACTjO,MAAO,EACP+yC,eAAgB,MAGlBtpE,KAAKuU,GAAG,eAAehC,IACP,aAAVA,IACG02D,EAAUE,aACbF,EAAUE,YAAa,GAEjC,GAEA,CAEE,KAAAI,CAAMxuC,GACJ,MAAMkuC,EAAYjpE,KAAKuoE,IAMvB,OAJIU,EAAUK,gBACZL,EAAUK,iBAGLxpE,MAAMypE,MAAMxuC,EACvB,CAEE,UAAAyuC,CAAWvzC,EAAOk+B,EAAUz5C,GAC1B,MAAMuuD,EAAYjpE,KAAKuoE,IACjBI,EAAUM,EAAUN,QAEpBD,EAAwB1oE,KAAK0oE,sBAE7BI,EAAaG,EAAUH,WAGvBW,EAAkBd,GADR,IAAOG,GAEjBD,GAA0C,IAA3BI,EAAUJ,aAAyBnjE,KAAKF,IAAIyjE,EAAUJ,aAA+B,IAAjBY,GAAyB,EAE5GC,EAAY,CAACC,EAAQC,KACzB,MAAMrzC,EAAQ9X,OAAO0iB,WAAWwoC,GAChCV,EAAUC,WAAa3yC,EACvB0yC,EAAU1yC,OAASA,EAEnB0yC,EAAUE,YAAcnpE,KAAKmb,KAAK,WAAY8tD,EAAUC,WAEpDlpE,KAAKiD,KAAK0mE,GACZx8D,QAAQg8C,SAASygB,GAEjBX,EAAUK,eAAiB,KACzBL,EAAUK,eAAiB,KAC3Bn8D,QAAQg8C,SAASygB,EAAU,CAErC,EAGUC,EAAiB,CAACF,EAAQC,KAC9B,MAAMhB,EAAYnqD,OAAO0iB,WAAWwoC,GACpC,IAEIG,EAFAC,EAAiB,KACjBC,EAAetB,EAEfuB,EAAS,EAEb,GAAItB,EAAS,CACX,MAAMnkC,EAAMvV,KAAKuV,QAEZykC,EAAUI,KAAOY,EAAUzlC,EAAMykC,EAAUI,KAAQP,KACtDG,EAAUI,GAAK7kC,EACfslC,EAAYL,EAAiBR,EAAU1yC,MACvC0yC,EAAU1yC,MAAQuzC,EAAY,GAAKA,EAAY,EAC/CG,EAAS,GAGXH,EAAYL,EAAiBR,EAAU1yC,KAC/C,CAEM,GAAIoyC,EAAS,CACX,GAAImB,GAAa,EAEf,OAAOjmC,YAAW,KAChB+lC,EAAU,KAAMD,EAAO,GACtBb,EAAamB,GAGdH,EAAYE,IACdA,EAAeF,EAEzB,CAEUE,GAAgBpB,EAAYoB,GAAiBpB,EAAYoB,EAAgBnB,IAC3EkB,EAAiBJ,EAAOO,SAASF,GACjCL,EAASA,EAAOO,SAAS,EAAGF,IAG9BN,EAAUC,EAAQI,EAAiB,KACjC58D,QAAQg8C,SAASygB,EAAW,KAAMG,EAAe,EAC/CH,EAAU,EAGhBC,EAAe5zC,GAAO,SAASk0C,EAAmBx3D,EAAKg3D,GACrD,GAAIh3D,EACF,OAAO+H,EAAS/H,GAGdg3D,EACFE,EAAeF,EAAQQ,GAEvBzvD,EAAS,KAEjB,GACA,EAGA,MAAM0vD,GAAyB5B,IAEzBvwC,cAACA,IAAiB1K,OAclB88C,GAZW/hD,gBAAiBsS,GAC5BA,EAAKjB,aACAiB,EAAKjB,SACHiB,EAAKI,wBACFJ,EAAKI,cACRJ,EAAK3C,UACP2C,EAAK3C,YAEN2C,CAET,EAIK0vC,GAAoBlN,GAAQV,SAASC,YAAc,KAEnD4N,GAAc,IAAI3kB,EAAKptB,YAEvBgyC,GAAO,OACPC,GAAaF,GAAY7+C,OAAO8+C,IAGtC,MAAME,GACJ,WAAAhrE,CAAYO,EAAMmB,GAChB,MAAMupE,WAACA,GAAc3qE,KAAKN,YACpBkrE,EAAgBxN,GAAQhK,SAAShyD,GAEvC,IAAI+zB,EAAU,yCAAyCw1C,EAAW1qE,OAC/D2qE,GAAiBxpE,EAAMnB,KAAO,eAAe0qE,EAAWvpE,EAAMnB,SAAW,KACzEuqE,KAECI,EACFxpE,EAAQmpE,GAAY7+C,OAAOL,OAAOjqB,GAAOsC,QAAQ,eAAgB8mE,KAEjEr1C,GAAW,iBAAiB/zB,EAAMm0B,MAAQ,6BAA6Bi1C,KAGzExqE,KAAKm1B,QAAUo1C,GAAY7+C,OAAOyJ,EAAUq1C,IAE5CxqE,KAAKwhC,cAAgBopC,EAAgBxpE,EAAM+/B,WAAa//B,EAAM25B,KAE9D/6B,KAAK+6B,KAAO/6B,KAAKm1B,QAAQgM,WAAanhC,KAAKwhC,cArBtB,EAuBrBxhC,KAAKC,KAAOA,EACZD,KAAKoB,MAAQA,CACjB,CAEE,YAAOsqB,SACC1rB,KAAKm1B,QAEX,MAAM/zB,MAACA,GAASpB,KAEbo9D,GAAQtB,aAAa16D,SAChBA,QAECipE,GAAWjpE,SAGdqpE,EACV,CAEE,iBAAOE,CAAW1qE,GACd,OAAOorB,OAAOprB,GAAMyD,QAAQ,YAAa4E,IAAW,CAClD,KAAO,MACP,KAAO,MACP,IAAM,OACNA,KACR,EAGA,MAiDMuiE,GAjDmB,CAACx3C,EAAMy3C,EAAgBjnE,KAC9C,MAAMknE,IACJA,EAAM,qBAAoBhwC,KAC1BA,EAAO,GAAE49B,SACTA,EAAWoS,EAAM,IAAM3N,GAAQiC,eAAetkC,EAAMuvC,KAClDzmE,GAAW,CAAE,EAEjB,IAAIu5D,GAAQC,WAAWhqC,GACrB,MAAMjC,UAAU,8BAGlB,GAAIunC,EAASz3D,OAAS,GAAKy3D,EAASz3D,OAAS,GAC3C,MAAMzB,MAAM,0CAGd,MAAMurE,EAAgBT,GAAY7+C,OAAO,KAAOitC,EAAW6R,IACrDS,EAAcV,GAAY7+C,OAAO,KAAOitC,EAAW,KAAO6R,GAAOA,IACvE,IAAIhpC,EAAgBypC,EAAY9pC,WAEhC,MAAM/F,EAAQ95B,MAAMyK,KAAKsnB,EAAK0I,WAAW/2B,KAAI,EAAE/E,EAAMmB,MACnD,MAAM8pE,EAAO,IAAIR,GAAazqE,EAAMmB,GAEpC,OADAogC,GAAiB0pC,EAAKnwC,KACfmwC,CAAI,IAGb1pC,GAAiBwpC,EAAc7pC,WAAa/F,EAAMl6B,OAElDsgC,EAAgB47B,GAAQ+B,eAAe39B,GAEvC,MAAM2pC,EAAkB,CACtB,eAAgB,iCAAiCxS,KASnD,OANIt0B,OAAO+6B,SAAS59B,KAClB2pC,EAAgB,kBAAoB3pC,GAGtCspC,GAAkBA,EAAeK,GAE1BxxC,EAAOyxC,SAASr/D,KAAK,kBAC1B,IAAI,MAAMm/D,KAAQ9vC,QACV4vC,QACCE,EAAKx/C,eAGRu/C,CACP,CAP2B,GAOvB,EAKP,MAAMI,WAAkCpR,EAAyB,QAAEwO,UACjE,WAAA6C,CAAYr1C,EAAOk+B,EAAUz5C,GAC3B1a,KAAKiD,KAAKgzB,GACVvb,GACJ,CAEE,UAAA8uD,CAAWvzC,EAAOk+B,EAAUz5C,GAC1B,GAAqB,IAAjBub,EAAM/0B,SACRlB,KAAKwpE,WAAaxpE,KAAKsrE,YAGN,MAAbr1C,EAAM,IAAY,CACpB,MAAMqM,EAAS7jB,OAAOu6C,MAAM,GAC5B12B,EAAO,GAAK,IACZA,EAAO,GAAK,IACZtiC,KAAKiD,KAAKq/B,EAAQ6xB,EAC1B,CAGIn0D,KAAKsrE,YAAYr1C,EAAOk+B,EAAUz5C,EACtC,EAGA,MAAM6wD,GAA8BF,GAe9BG,GAbc,CAAC9pE,EAAIy6D,IAChBiB,GAAQR,UAAUl7D,GAAM,YAAaqD,GAC1C,MAAMq0D,EAAKr0D,EAAKmpB,MAChBxsB,EAAGuR,MAAMjT,KAAM+E,GAAMsV,MAAMjZ,IACzB,IACE+6D,EAAU/C,EAAG,QAAS+C,EAAQ/6D,IAAUg4D,EAAG,KAAMh4D,EAClD,CAAC,MAAOuR,GACPymD,EAAGzmD,EACX,IACOymD,EACP,EAAM13D,EAoGN,MAAM+pE,GAAuB,CAACj5D,EAAUk5D,EAAkBC,EAAO,KAC/D,IAAIC,EAAgB,EACpB,MAAMC,EA3FR,SAAqB7C,EAAcv8D,GACjCu8D,EAAeA,GAAgB,GAC/B,MAAMzyC,EAAQ,IAAIj1B,MAAM0nE,GAClB8C,EAAa,IAAIxqE,MAAM0nE,GAC7B,IAEI+C,EAFAC,EAAO,EACPC,EAAO,EAKX,OAFAx/D,OAActM,IAARsM,EAAoBA,EAAM,IAEzB,SAAcy/D,GACnB,MAAM1nC,EAAMvV,KAAKuV,MAEX2nC,EAAYL,EAAWG,GAExBF,IACHA,EAAgBvnC,GAGlBjO,EAAMy1C,GAAQE,EACdJ,EAAWE,GAAQxnC,EAEnB,IAAI17B,EAAImjE,EACJG,EAAa,EAEjB,KAAOtjE,IAAMkjE,GACXI,GAAc71C,EAAMztB,KACpBA,GAAQkgE,EASV,GANAgD,GAAQA,EAAO,GAAKhD,EAEhBgD,IAASC,IACXA,GAAQA,EAAO,GAAKjD,GAGlBxkC,EAAMunC,EAAgBt/D,EACxB,OAGF,MAAMw9D,EAASkC,GAAa3nC,EAAM2nC,EAElC,OAAOlC,EAASvkE,KAAKqhC,MAAmB,IAAbqlC,EAAoBnC,QAAU9pE,CAC1D,CACH,CA+CuBksE,CAAY,GAAI,KAErC,OAzCF,SAAkB3qE,EAAIiqE,GACpB,IAEIW,EACAC,EAHAC,EAAY,EACZC,EAAY,IAAOd,EAIvB,MAAMe,EAAS,CAAC3nE,EAAMy/B,EAAMvV,KAAKuV,SAC/BgoC,EAAYhoC,EACZ8nC,EAAW,KACPC,IACFxoC,aAAawoC,GACbA,EAAQ,MAEV7qE,EAAGuR,MAAM,KAAMlO,EAAK,EAqBtB,MAAO,CAlBW,IAAIA,KACpB,MAAMy/B,EAAMvV,KAAKuV,MACXylC,EAASzlC,EAAMgoC,EAChBvC,GAAUwC,EACbC,EAAO3nE,EAAMy/B,IAEb8nC,EAAWvnE,EACNwnE,IACHA,EAAQ1oC,YAAW,KACjB0oC,EAAQ,KACRG,EAAOJ,EAAS,GACfG,EAAYxC,IAEvB,EAGgB,IAAMqC,GAAYI,EAAOJ,GAGzC,CAMSK,EAAS1/C,IACd,MAAM2/C,EAAS3/C,EAAE2/C,OACXp6B,EAAQvlB,EAAE4/C,iBAAmB5/C,EAAEulB,WAAQryC,EACvC2sE,EAAgBF,EAAShB,EACzBmB,EAAOlB,EAAaiB,GAG1BlB,EAAgBgB,EAchBp6D,EAZa,CACXo6D,SACAp6B,QACAw6B,SAAUx6B,EAASo6B,EAASp6B,OAASryC,EACrCo2B,MAAOu2C,EACPC,KAAMA,QAAc5sE,EACpB8sE,UAAWF,GAAQv6B,GAVLo6B,GAAUp6B,GAUeA,EAAQo6B,GAAUG,OAAO5sE,EAChEoS,MAAO0a,EACP4/C,iBAA2B,MAATr6B,EAClB,CAACk5B,EAAmB,WAAa,WAAW,GAGhC,GACbC,EAAK,EAGJuB,GAAyB,CAAC16B,EAAO26B,KACrC,MAAMN,EAA4B,MAATr6B,EAEzB,MAAO,CAAEo6B,GAAWO,EAAU,GAAG,CAC/BN,mBACAr6B,QACAo6B,WACEO,EAAU,GAAG,EAGbC,GAAkB1rE,GAAO,IAAIqD,IAASq4D,GAAQF,MAAK,IAAMx7D,KAAMqD,KAE/DsoE,GAAc,CAClBz2C,MAAOojC,EAAuB,QAAEsT,UAAUC,aAC1CC,YAAaxT,EAAuB,QAAEsT,UAAUC,cAG5CE,GAAgB,CACpB72C,MAAOojC,EAAuB,QAAEsT,UAAUI,uBAC1CF,YAAaxT,EAAuB,QAAEsT,UAAUI,wBAG5CC,GAAoBvQ,GAAQpM,WAAWgJ,EAAuB,QAAE4T,yBAE/DviB,KAAMwiB,GAAYviB,MAAOwiB,IAAe/T,EAAkC,QAE3EgU,GAAU,UAEVC,GAAqB91D,GAAS06C,UAAU5tD,KAAI+mD,GACzCA,EAAW,MAGdkiB,GAAgB,CAACt0C,GAASwzC,EAAWv2C,MACzC+C,EACGplB,GAAG,MAAOqiB,GACVriB,GAAG,QAASqiB,GAERu2C,GAWT,SAASe,GAAuBrqE,EAAS4yD,GACnC5yD,EAAQsqE,gBAAgB/hB,OAC1BvoD,EAAQsqE,gBAAgB/hB,MAAMvoD,GAE5BA,EAAQsqE,gBAAgB15D,QAC1B5Q,EAAQsqE,gBAAgB15D,OAAO5Q,EAAS4yD,EAE5C,CAWA,SAAS2X,GAASvqE,EAASwqE,EAAa7Y,GACtC,IAAIpJ,EAAQiiB,EACZ,IAAKjiB,IAAmB,IAAVA,EAAiB,CAC7B,MAAMkiB,EAAW3iB,EAAaC,eAAe4J,GACzC8Y,IACFliB,EAAQ,IAAInxB,IAAIqzC,GAEtB,CACE,GAAIliB,EAAO,CAMT,GAJIA,EAAMmiB,WACRniB,EAAMoiB,MAAQpiB,EAAMmiB,UAAY,IAAM,KAAOniB,EAAMqiB,UAAY,KAG7DriB,EAAMoiB,KAAM,EAEVpiB,EAAMoiB,KAAKD,UAAYniB,EAAMoiB,KAAKC,YACpCriB,EAAMoiB,MAAQpiB,EAAMoiB,KAAKD,UAAY,IAAM,KAAOniB,EAAMoiB,KAAKC,UAAY,KAE3E,MAAMC,EAASjwD,OACZ1S,KAAKqgD,EAAMoiB,KAAM,QACjBviD,SAAS,UACZpoB,EAAQsxB,QAAQ,uBAAyB,SAAWu5C,CAC1D,CAEI7qE,EAAQsxB,QAAQ82B,KAAOpoD,EAAQmoD,UAAYnoD,EAAQqoD,KAAO,IAAMroD,EAAQqoD,KAAO,IAC/E,MAAMyiB,EAAYviB,EAAMJ,UAAYI,EAAMH,KAC1CpoD,EAAQmoD,SAAW2iB,EAEnB9qE,EAAQooD,KAAO0iB,EACf9qE,EAAQqoD,KAAOE,EAAMF,KACrBroD,EAAQkJ,KAAOyoD,EACXpJ,EAAML,WACRloD,EAAQkoD,SAAWK,EAAML,SAASjqD,SAAS,KAAOsqD,EAAML,SAAW,GAAGK,EAAML,YAElF,CAEEloD,EAAQsqE,gBAAgB/hB,MAAQ,SAAwBwiB,GAGtDR,GAASQ,EAAiBP,EAAaO,EAAgBpb,KACxD,CACH,CAEA,MAAMqb,GAA4C,oBAAZ1hE,SAAuD,YAA5BiwD,GAAQhD,OAAOjtD,SAuC1E2hE,GAAoB,CAACC,EAASC,IAVd,GAAED,UAASC,aAC/B,IAAK5R,GAAQhK,SAAS2b,GACpB,MAAM39C,UAAU,4BAElB,MAAQ,CACN29C,UACAC,OAAQA,IAAWD,EAAQ7yD,QAAQ,KAAO,EAAI,EAAI,GACnD,EAG4C+yD,CAAc7R,GAAQxC,SAASmU,GAAWA,EAAU,CAACA,UAASC,WAGvGE,GAAcL,IAA0B,SAAqBp6D,GACjE,OAvCiB06D,EAuCA7mD,eAAmCnR,EAASqR,EAAQ4mD,GACnE,IAAItpD,KAACA,EAAI+iC,OAAEA,EAAMmmB,OAAEA,GAAUv6D,EAC7B,MAAMowD,aAACA,EAAYwK,iBAAEA,GAAoB56D,EACnCmsB,EAASnsB,EAAOmsB,OAAOh2B,cAC7B,IAAI0kE,EAEAztC,EADAuc,GAAW,EAGf,GAAIyK,EAAQ,CACV,MAAM0mB,EAAU/D,GAAc3iB,GAASznD,GAAUg8D,GAAQ77D,QAAQH,GAASA,EAAQ,CAACA,KAEnFynD,EAAS,CAACmD,EAAUwjB,EAAKpW,KACvBmW,EAAQvjB,EAAUwjB,GAAK,CAAC78D,EAAK88D,EAAMpe,KACjC,GAAI1+C,EACF,OAAOymD,EAAGzmD,GAGZ,MAAM+8D,EAAYtS,GAAQ77D,QAAQkuE,GAAQA,EAAKzqE,KAAI2qE,GAAQb,GAAkBa,KAAS,CAACb,GAAkBW,EAAMpe,IAE/Gme,EAAI1zC,IAAMs9B,EAAGzmD,EAAK+8D,GAAatW,EAAGzmD,EAAK+8D,EAAU,GAAGX,QAASW,EAAU,GAAGV,OAAO,GACjF,CAEV,CAGI,MAAMY,EAAU,IAAIze,EAAOvkD,aAErBijE,EAAa,KACbp7D,EAAOq7D,aACTr7D,EAAOq7D,YAAYC,YAAYp4C,GAG7BljB,EAAOgE,QACThE,EAAOgE,OAAOu3D,oBAAoB,QAASr4C,GAG7Ci4C,EAAQK,oBAAoB,EAW9B,SAASt4C,EAAM0mB,GACbuxB,EAAQz0D,KAAK,SAAUkjC,GAAUA,EAAO9oB,KAAO,IAAIsyC,GAAc,KAAMpzD,EAAQotB,GAAOwc,EAC5F,CAVI+wB,GAAO,CAAChuE,EAAO8uE,KACbZ,GAAS,EACLY,IACF9xB,GAAW,EACXyxB,IACR,IAOID,EAAQliC,KAAK,QAASllB,IAElB/T,EAAOq7D,aAAer7D,EAAOgE,UAC/BhE,EAAOq7D,aAAer7D,EAAOq7D,YAAYK,UAAUx4C,GAC/CljB,EAAOgE,SACThE,EAAOgE,OAAOmqB,QAAUjL,IAAUljB,EAAOgE,OAAOmrB,iBAAiB,QAASjM,KAK9E,MAAMy4C,EAAWnI,GAAcxzD,EAAOgrB,QAAShrB,EAAO6e,KAChD1Y,EAAS,IAAIqgB,IAAIm1C,EAAUl4D,GAAS4qD,cAAgB5qD,GAASmrD,YAASljE,GACtE4rD,EAAWnxC,EAAOmxC,UAAYiiB,GAAmB,GAEvD,GAAiB,UAAbjiB,EAAsB,CACxB,IAAIskB,EAEJ,GAAe,QAAXzvC,EACF,OAAOmnC,GAAO5wD,EAASqR,EAAQ,CAC7B0M,OAAQ,IACRo7C,WAAY,qBACZn7C,QAAS,CAAE,EACX1gB,WAIJ,IACE47D,EArrBR,SAAqBE,EAAKC,EAAQ3sE,GAChC,MAAM4sE,EAAQ5sE,GAAWA,EAAQkuB,MAAQ7Z,GAAS0qD,QAAQ7wC,KACpDg6B,EAAWsc,GAAckI,GAM/B,QAJepwE,IAAXqwE,GAAwBC,IAC1BD,GAAS,GAGM,SAAbzkB,EAAqB,CACvBwkB,EAAMxkB,EAAS7qD,OAASqvE,EAAItvE,MAAM8qD,EAAS7qD,OAAS,GAAKqvE,EAEzD,MAAMjoE,EAAQggE,GAAiB1zD,KAAK27D,GAEpC,IAAKjoE,EACH,MAAM,IAAIs3D,GAAW,cAAeA,GAAW8Q,iBAGjD,MAAM/nB,EAAOrgD,EAAM,GACbqoE,EAAWroE,EAAM,GACjBqqB,EAAOrqB,EAAM,GACbytB,EAAStX,OAAO1S,KAAKihB,mBAAmB2F,GAAOg+C,EAAW,SAAW,QAE3E,GAAIH,EAAQ,CACV,IAAKC,EACH,MAAM,IAAI7Q,GAAW,wBAAyBA,GAAWgR,iBAG3D,OAAO,IAAIH,EAAM,CAAC16C,GAAS,CAACR,KAAMozB,GACxC,CAEI,OAAO5yB,CACX,CAEE,MAAM,IAAI6pC,GAAW,wBAA0B7T,EAAU6T,GAAWgR,gBACtE,CAmpBwBC,CAAYp8D,EAAO6e,IAAsB,SAAjBuxC,EAAyB,CAC/D9yC,KAAMtd,EAAOnK,KAAOmK,EAAOnK,IAAIynB,MAElC,CAAC,MAAOpf,GACP,MAAMitD,GAAW7zD,KAAK4G,EAAKitD,GAAWoI,gBAAiBvzD,EAC/D,CAYM,MAVqB,SAAjBowD,GACFwL,EAAgBA,EAAcpkD,SAASojD,GAElCA,GAAyC,SAArBA,IACvBgB,EAAgBjT,GAAQQ,SAASyS,KAET,WAAjBxL,IACTwL,EAAgBpW,EAAyB,QAAEmR,SAASr/D,KAAKskE,IAGpDtI,GAAO5wD,EAASqR,EAAQ,CAC7B1C,KAAMuqD,EACNn7C,OAAQ,IACRo7C,WAAY,KACZn7C,QAAS,IAAIqyC,GACb/yD,UAER,CAEI,IAA8C,IAA1Cu5D,GAAmB9xD,QAAQ6vC,GAC7B,OAAOvjC,EAAO,IAAIo3C,GAChB,wBAA0B7T,EAC1B6T,GAAWoI,gBACXvzD,IAIJ,MAAM0gB,EAAUqyC,GAAez7D,KAAK0I,EAAO0gB,SAASijC,YAMpDjjC,EAAQ/pB,IAAI,aAAc,SAAWqmB,IAAS,GAE9C,MAAMq/C,iBAACA,EAAgBC,mBAAEA,GAAsBt8D,EACzCk0D,EAAUl0D,EAAOk0D,QACvB,IAAIqI,EACAC,EAGJ,GAAI7T,GAAQmC,oBAAoBz5C,GAAO,CACrC,MAAMorD,EAAe/7C,EAAQ8uC,eAAe,+BAE5Cn+C,EAAO+kD,GAAmB/kD,GAAO2yC,IAC/BtjC,EAAQ/pB,IAAIqtD,EAAY,GACvB,CACDsS,IAAK,SAASt5C,cACdknC,SAAUuY,GAAgBA,EAAa,SAAM/wE,GAGrD,MAAW,GAAIi9D,GAAQC,WAAWv3C,IAASs3C,GAAQpM,WAAWlrC,EAAKyyC,aAG7D,GAFApjC,EAAQ/pB,IAAI0a,EAAKyyC,eAEZpjC,EAAQg8C,mBACX,IACE,MAAMzZ,QAAoBoC,EAAuB,QAAEsX,UAAUtrD,EAAKqzC,WAAW/sC,KAAKtG,GAClFue,OAAO+6B,SAAS1H,IAAgBA,GAAe,GAAKviC,EAAQk8C,iBAAiB3Z,EAE9E,CAAC,MAAOzqC,GACjB,OAEW,GAAImwC,GAAQpC,OAAOl1C,GACxBA,EAAKiV,MAAQ5F,EAAQivC,eAAet+C,EAAKyP,MAAQ,4BACjDJ,EAAQk8C,iBAAiBvrD,EAAKiV,MAAQ,GACtCjV,EAAOm0C,EAAyB,QAAEmR,SAASr/D,KAAKs+D,GAAWvkD,SACtD,GAAIA,IAASs3C,GAAQG,SAASz3C,GAAO,CAC1C,GAAIrH,OAAOC,SAASoH,SAAc,GAAIs3C,GAAQ1C,cAAc50C,GAC1DA,EAAOrH,OAAO1S,KAAK,IAAIyqB,WAAW1Q,QAC7B,KAAIs3C,GAAQhK,SAASttC,GAG1B,OAAO0C,EAAO,IAAIo3C,GAChB,oFACAA,GAAWoI,gBACXvzD,IALFqR,EAAOrH,OAAO1S,KAAK+Z,EAAM,QAOjC,CAKM,GAFAqP,EAAQk8C,iBAAiBvrD,EAAK5kB,QAAQ,GAElCuT,EAAOq+C,eAAiB,GAAKhtC,EAAK5kB,OAASuT,EAAOq+C,cACpD,OAAOtqC,EAAO,IAAIo3C,GAChB,+CACAA,GAAWoI,gBACXvzD,GAGV,CAEI,MAAM+sB,EAAgB47B,GAAQ+B,eAAehqC,EAAQm8C,oBA4BrD,IAAI9C,EAeAzhE,EAzCAqwD,GAAQ77D,QAAQonE,IAClBqI,EAAgBrI,EAAQ,GACxBsI,EAAkBtI,EAAQ,IAE1BqI,EAAgBC,EAAkBtI,EAGhC7iD,IAASgrD,GAAoBE,KAC1B5T,GAAQG,SAASz3C,KACpBA,EAAOm0C,EAAyB,QAAEmR,SAASr/D,KAAK+Z,EAAM,CAACyrD,YAAY,KAGrEzrD,EAAOm0C,EAAyB,QAAEuX,SAAS,CAAC1rD,EAAM,IAAIskD,GAAuB,CAC3EzB,QAASvL,GAAQ+B,eAAe6R,MAC7B5T,GAAQrL,MAEb+e,GAAoBhrD,EAAKvR,GAAG,WAAY05D,GACtCnoD,EACAonD,GACE1rC,EACAiqC,GAAqB2B,GAAe0D,IAAmB,EAAO,OAOhEr8D,EAAO+5D,OAGTA,GAFiB/5D,EAAO+5D,KAAKD,UAAY,IAEvB,KADD95D,EAAO+5D,KAAKC,UAAY,MAItCD,GAAQ5zD,EAAO2zD,WAGlBC,EAFoB5zD,EAAO2zD,SAEN,IADD3zD,EAAO6zD,UAI7BD,GAAQr5C,EAAQ8V,OAAO,iBAIvB,IACEl+B,EAAO00B,GACL7mB,EAAOsgB,SAAWtgB,EAAO2oB,OACzB9uB,EAAOiT,OACPjT,EAAOg9D,kBACP/tE,QAAQ,MAAO,GAClB,CAAC,MAAOiP,GACP,MAAM++D,EAAY,IAAIjyE,MAAMkT,EAAI9S,SAIhC,OAHA6xE,EAAUj9D,OAASA,EACnBi9D,EAAUp+C,IAAM7e,EAAO6e,IACvBo+C,EAAUC,QAAS,EACZnpD,EAAOkpD,EACpB,CAEIv8C,EAAQ/pB,IACN,kBACA,2BAA6BuiE,GAAoB,OAAS,KAAK,GAGjE,MAAM9pE,EAAU,CACdkJ,OACA6zB,OAAQA,EACRzL,QAASA,EAAQ0qC,SACjB9K,OAAQ,CAAE1J,KAAM52C,EAAOmrB,UAAW0rB,MAAO72C,EAAOm9D,YAChDpD,OACAziB,WACAijB,SACApZ,eAAgBsY,GAChBC,gBAAiB,CAAA,GAcnB,IAAI0D,GAVHzU,GAAQ3C,YAAY5R,KAAYhlD,EAAQglD,OAASA,GAE9Cp0C,EAAOq9D,WACTjuE,EAAQiuE,WAAar9D,EAAOq9D,YAE5BjuE,EAAQmoD,SAAWpxC,EAAOoxC,SAASriD,WAAW,KAAOiR,EAAOoxC,SAAS/qD,MAAM,GAAI,GAAK2Z,EAAOoxC,SAC3FnoD,EAAQqoD,KAAOtxC,EAAOsxC,KACtBkiB,GAASvqE,EAAS4Q,EAAO23C,MAAOL,EAAW,KAAOnxC,EAAOoxC,UAAYpxC,EAAOsxC,KAAO,IAAMtxC,EAAOsxC,KAAO,IAAMroD,EAAQkJ,OAIvH,MAAMglE,EAAiBhE,GAAQ9kE,KAAKpF,EAAQkoD,UAkM5C,GAjMAloD,EAAQk+B,MAAQgwC,EAAiBt9D,EAAOm9D,WAAan9D,EAAOmrB,UACxDnrB,EAAOo9D,UACTA,EAAYp9D,EAAOo9D,UACc,IAAxBp9D,EAAOo+C,aAChBgf,EAAYE,EAAiBlY,EAAwB,QAAID,EAAuB,SAE5EnlD,EAAOo+C,eACThvD,EAAQgvD,aAAep+C,EAAOo+C,cAE5Bp+C,EAAOmhD,iBACT/xD,EAAQsqE,gBAAgB15D,OAASA,EAAOmhD,gBAE1Cic,EAAYE,EAAiBjE,GAAcD,IAGzCp5D,EAAOq+C,eAAiB,EAC1BjvD,EAAQivD,cAAgBr+C,EAAOq+C,cAG/BjvD,EAAQivD,cAAgB7e,IAGtBx/B,EAAOu9D,qBACTnuE,EAAQmuE,mBAAqBv9D,EAAOu9D,oBAItCnwC,EAAMgwC,EAAUhxC,QAAQh9B,GAAS,SAAwBgnB,GACvD,GAAIgX,EAAIowC,UAAW,OAEnB,MAAMC,EAAU,CAACrnD,GAEXsnD,GAAkBtnD,EAAIsK,QAAQ,kBAEpC,GAAI47C,GAAsBE,EAAiB,CACzC,MAAMmB,EAAkB,IAAIhI,GAAuB,CACjDzB,QAASvL,GAAQ+B,eAAe8R,KAGlCF,GAAsBqB,EAAgB79D,GAAG,WAAY05D,GACnDmE,EACAlF,GACEiF,EACA1G,GAAqB2B,GAAe2D,IAAqB,EAAM,MAInEmB,EAAQjvE,KAAKmvE,EACrB,CAGM,IAAIC,EAAiBxnD,EAGrB,MAAMynD,EAAcznD,EAAIgX,KAAOA,EAG/B,IAA0B,IAAtBptB,EAAO89D,YAAwB1nD,EAAIsK,QAAQ,oBAO7C,OAJe,SAAXyL,GAAwC,MAAnB/V,EAAIwqC,mBACpBxqC,EAAIsK,QAAQ,qBAGZtK,EAAIsK,QAAQ,qBAAuB,IAAIqQ,eAEhD,IAAK,OACL,IAAK,SACL,IAAK,WACL,IAAK,aAEH0sC,EAAQjvE,KAAK+2D,EAAuB,QAAEwY,YAAYnF,YAG3CxiD,EAAIsK,QAAQ,oBACnB,MACF,IAAK,UACH+8C,EAAQjvE,KAAK,IAAIsoE,IAGjB2G,EAAQjvE,KAAK+2D,EAAuB,QAAEwY,YAAYnF,YAG3CxiD,EAAIsK,QAAQ,oBACnB,MACF,IAAK,KACCw4C,KACFuE,EAAQjvE,KAAK+2D,EAAuB,QAAE4T,uBAAuBH,YACtD5iD,EAAIsK,QAAQ,qBAKzBk9C,EAAiBH,EAAQhxE,OAAS,EAAI+4D,EAAyB,QAAEuX,SAASU,EAAS9U,GAAQrL,MAAQmgB,EAAQ,GAE3G,MAAMO,EAAexY,EAAyB,QAAE7E,SAASid,GAAgB,KACvEI,IACA5C,GAAY,IAGRtlD,EAAW,CACf2K,OAAQrK,EAAIwqC,WACZib,WAAYzlD,EAAI6nD,cAChBv9C,QAAS,IAAIqyC,GAAe38C,EAAIsK,SAChC1gB,SACAosB,QAASyxC,GAGX,GAAqB,WAAjBzN,EACFt6C,EAASzE,KAAOusD,EAChBtK,GAAO5wD,EAASqR,EAAQ+B,OACnB,CACL,MAAMooD,EAAiB,GACvB,IAAIC,EAAqB,EAEzBP,EAAe99D,GAAG,QAAQ,SAA0B0hB,GAClD08C,EAAe1vE,KAAKgzB,GACpB28C,GAAsB38C,EAAM/0B,OAGxBuT,EAAOywD,kBAAoB,GAAK0N,EAAqBn+D,EAAOywD,mBAE9D9mB,GAAW,EACXi0B,EAAenqB,UACf1/B,EAAO,IAAIo3C,GAAW,4BAA8BnrD,EAAOywD,iBAAmB,YAC5EtF,GAAWmF,iBAAkBtwD,EAAQ69D,IAEnD,IAEQD,EAAe99D,GAAG,WAAW,WAC3B,GAAI6pC,EACF,OAGF,MAAMzrC,EAAM,IAAIitD,GACd,4BAA8BnrD,EAAOywD,iBAAmB,YACxDtF,GAAWmF,iBACXtwD,EACA69D,GAEFD,EAAenqB,QAAQv1C,GACvB6V,EAAO7V,EACjB,IAEQ0/D,EAAe99D,GAAG,SAAS,SAA2B5B,GAChDkvB,EAAIowC,WACRzpD,EAAOo3C,GAAW7zD,KAAK4G,EAAK,KAAM8B,EAAQ69D,GACpD,IAEQD,EAAe99D,GAAG,OAAO,WACvB,IACE,IAAIs+D,EAAyC,IAA1BF,EAAezxE,OAAeyxE,EAAe,GAAKl0D,OAAOjd,OAAOmxE,GAC9D,gBAAjB9N,IACFgO,EAAeA,EAAa5mD,SAASojD,GAChCA,GAAyC,SAArBA,IACvBwD,EAAezV,GAAQQ,SAASiV,KAGpCtoD,EAASzE,KAAO+sD,CACjB,CAAC,MAAOlgE,GACP,OAAO6V,EAAOo3C,GAAW7zD,KAAK4G,EAAK,KAAM8B,EAAQ8V,EAASsW,QAAStW,GAC/E,CACUw9C,GAAO5wD,EAASqR,EAAQ+B,EAClC,GACA,CAEMqlD,EAAQliC,KAAK,SAAS/6B,IACf0/D,EAAeJ,YAClBI,EAAel3D,KAAK,QAASxI,GAC7B0/D,EAAenqB,UACzB,GAEA,IAEI0nB,EAAQliC,KAAK,SAAS/6B,IACpB6V,EAAO7V,GACPkvB,EAAIqmB,QAAQv1C,EAAI,IAIlBkvB,EAAIttB,GAAG,SAAS,SAA4B5B,GAG1C6V,EAAOo3C,GAAW7zD,KAAK4G,EAAK,KAAM8B,EAAQotB,GAChD,IAGIA,EAAIttB,GAAG,UAAU,SAA6BkgD,GAE5CA,EAAOqe,cAAa,EAAM,IAChC,IAGQr+D,EAAOkrB,QAAS,CAElB,MAAMA,EAAUvgB,SAAS3K,EAAOkrB,QAAS,IAEzC,GAAI0E,OAAOva,MAAM6V,GAQf,YAPAnX,EAAO,IAAIo3C,GACT,gDACAA,GAAWmT,qBACXt+D,EACAotB,IAWJA,EAAIgC,WAAWlE,GAAS,WACtB,GAAI2vC,EAAQ,OACZ,IAAI0D,EAAsBv+D,EAAOkrB,QAAU,cAAgBlrB,EAAOkrB,QAAU,cAAgB,mBAC5F,MAAMmkC,EAAervD,EAAOqvD,cAAgBxB,GACxC7tD,EAAOu+D,sBACTA,EAAsBv+D,EAAOu+D,qBAE/BxqD,EAAO,IAAIo3C,GACToT,EACAlP,EAAarB,oBAAsB7C,GAAWqT,UAAYrT,GAAWsT,aACrEz+D,EACAotB,IAEFlK,GACR,GACA,CAII,GAAIylC,GAAQG,SAASz3C,GAAO,CAC1B,IAAIsnB,GAAQ,EACRC,GAAU,EAEdvnB,EAAKvR,GAAG,OAAO,KACb64B,GAAQ,CAAI,IAGdtnB,EAAK4nB,KAAK,SAAS/6B,IACjB06B,GAAU,EACVxL,EAAIqmB,QAAQv1C,EAAI,IAGlBmT,EAAKvR,GAAG,SAAS,KACV64B,GAAUC,GACb1V,EAAM,IAAIkwC,GAAc,kCAAmCpzD,EAAQotB,GAC7E,IAGM/b,EAAKghC,KAAKjlB,EAChB,MACMA,EAAIkmB,IAAIjiC,EAEd,EA9iBS,IAAIyC,SAAQ,CAACpR,EAASqR,KAC3B,IAAI4mD,EACAE,EAEJ,MAAM93C,EAAO,CAACp2B,EAAO8uE,KACfZ,IACJA,GAAS,EACTF,GAAUA,EAAOhuE,EAAO8uE,GAAW,EAQ/BiD,EAAW90B,IACf7mB,EAAK6mB,GAAQ,GACb71B,EAAO61B,EAAO,EAGhB8wB,GAVkB/tE,IAChBo2B,EAAKp2B,GACL+V,EAAQ/V,EAAM,GAQQ+xE,GAAUC,GAAmBhE,EAASgE,IAAgB3oD,MAAM0oD,EAAQ,IArB9E,IAAChE,CAgjBlB,EAEKkE,GAAkBn7D,GAAS8qD,sBAI/B,WACE,MAAMsQ,EAAOp7D,GAASmuB,WAAa,kBAAkBp9B,KAAKiP,GAASmuB,UAAUG,WACvE+sC,EAAiBhsC,SAASisC,cAAc,KAC9C,IAAIC,EAQJ,SAASC,EAAWpgD,GAClB,IAAIkgC,EAAOlgC,EAWX,OATIggD,IAEFC,EAAeI,aAAa,OAAQngB,GACpCA,EAAO+f,EAAe/f,MAGxB+f,EAAeI,aAAa,OAAQngB,GAG7B,CACLA,KAAM+f,EAAe/f,KACrBzH,SAAUwnB,EAAexnB,SAAWwnB,EAAexnB,SAASroD,QAAQ,KAAM,IAAM,GAChFuoD,KAAMsnB,EAAetnB,KACrB1oB,OAAQgwC,EAAehwC,OAASgwC,EAAehwC,OAAO7/B,QAAQ,MAAO,IAAM,GAC3EgqD,KAAM6lB,EAAe7lB,KAAO6lB,EAAe7lB,KAAKhqD,QAAQ,KAAM,IAAM,GACpEsoD,SAAUunB,EAAevnB,SACzBE,KAAMqnB,EAAernB,KACrBhxB,SAAiD,MAAtCq4C,EAAer4C,SAASpN,OAAO,GACxCylD,EAAer4C,SACf,IAAMq4C,EAAer4C,SAE/B,CAUI,OARAu4C,EAAYC,EAAWpsC,OAAOkuB,SAAShC,MAQhC,SAAyBogB,GAC9B,MAAMh5D,EAAUwiD,GAAQhK,SAASwgB,GAAeF,EAAWE,GAAcA,EACzE,OAAQh5D,EAAOmxC,WAAa0nB,EAAU1nB,UAClCnxC,EAAOqxC,OAASwnB,EAAUxnB,IAC/B,CACF,CAlDD,GAsDS,WACL,OAAO,CACR,EAGC4nB,GAAU37D,GAAS8qD,sBAGvB,CACE,KAAA5zD,CAAMnP,EAAMmB,EAAO0yE,EAAS/mE,EAAMupD,EAAQyd,GACxC,MAAMC,EAAS,CAAC/zE,EAAO,IAAMwjC,mBAAmBriC,IAEhDg8D,GAAQzC,SAASmZ,IAAYE,EAAO/wE,KAAK,WAAa,IAAIgsB,KAAK6kD,GAASG,eAExE7W,GAAQhK,SAASrmD,IAASinE,EAAO/wE,KAAK,QAAU8J,GAEhDqwD,GAAQhK,SAASkD,IAAW0d,EAAO/wE,KAAK,UAAYqzD,IAEzC,IAAXyd,GAAmBC,EAAO/wE,KAAK,UAE/BskC,SAASysC,OAASA,EAAOjyE,KAAK,KAC/B,EAED,IAAA+3B,CAAK75B,GACH,MAAMqI,EAAQi/B,SAASysC,OAAO1rE,MAAM,IAAID,OAAO,aAAepI,EAAO,cACrE,OAAQqI,EAAQ0kB,mBAAmB1kB,EAAM,IAAM,IAChD,EAED,MAAA4rE,CAAOj0E,GACLD,KAAKoP,MAAMnP,EAAM,GAAIgvB,KAAKuV,MAAQ,MACxC,GAME,CACE,KAAAp1B,GAAU,EACV0qB,KAAI,IACK,KAET,MAAAo6C,GAAS,GAGPC,GAAmB7Z,GAAUA,aAAiBkN,GAAiB,IAAKlN,GAAUA,EAWpF,SAAS8Z,GAAYC,EAASC,GAE5BA,EAAUA,GAAW,CAAE,EACvB,MAAM7/D,EAAS,CAAE,EAEjB,SAAS8/D,EAAephE,EAAQyC,EAAQ4nD,GACtC,OAAIJ,GAAQvC,cAAc1nD,IAAWiqD,GAAQvC,cAAcjlD,GAClDwnD,GAAQxxC,MAAMQ,KAAK,CAACoxC,YAAWrqD,EAAQyC,GACrCwnD,GAAQvC,cAAcjlD,GACxBwnD,GAAQxxC,MAAM,CAAE,EAAEhW,GAChBwnD,GAAQ77D,QAAQqU,GAClBA,EAAO3U,QAET2U,CACX,CAGE,SAAS4+D,EAAoBrxE,EAAGC,EAAGo6D,GACjC,OAAKJ,GAAQ3C,YAAYr3D,GAEbg6D,GAAQ3C,YAAYt3D,QAAzB,EACEoxE,OAAep0E,EAAWgD,EAAGq6D,GAF7B+W,EAAepxE,EAAGC,EAAGo6D,EAIlC,CAGE,SAASiX,EAAiBtxE,EAAGC,GAC3B,IAAKg6D,GAAQ3C,YAAYr3D,GACvB,OAAOmxE,OAAep0E,EAAWiD,EAEvC,CAGE,SAASsxE,EAAiBvxE,EAAGC,GAC3B,OAAKg6D,GAAQ3C,YAAYr3D,GAEbg6D,GAAQ3C,YAAYt3D,QAAzB,EACEoxE,OAAep0E,EAAWgD,GAF1BoxE,OAAep0E,EAAWiD,EAIvC,CAGE,SAASuxE,EAAgBxxE,EAAGC,EAAGukB,GAC7B,OAAIA,KAAQ2sD,EACHC,EAAepxE,EAAGC,GAChBukB,KAAQ0sD,EACVE,OAAep0E,EAAWgD,QAD5B,CAGX,CAEE,MAAMyxE,EAAW,CACfthD,IAAKmhD,EACL7zC,OAAQ6zC,EACR3uD,KAAM2uD,EACNh1C,QAASi1C,EACT1Q,iBAAkB0Q,EAClB/P,kBAAmB+P,EACnBjD,iBAAkBiD,EAClB/0C,QAAS+0C,EACTG,eAAgBH,EAChBI,gBAAiBJ,EACjBK,cAAeL,EACf3Q,QAAS2Q,EACT7P,aAAc6P,EACd1P,eAAgB0P,EAChBzP,eAAgByP,EAChB5D,iBAAkB4D,EAClB3D,mBAAoB2D,EACpBnC,WAAYmC,EACZxP,iBAAkBwP,EAClB5hB,cAAe4hB,EACf9e,eAAgB8e,EAChB7C,UAAW6C,EACX90C,UAAW80C,EACX9C,WAAY8C,EACZ5E,YAAa4E,EACb5C,WAAY4C,EACZrF,iBAAkBqF,EAClBvP,eAAgBwP,EAChBx/C,QAAS,CAAChyB,EAAGC,IAAMoxE,EAAoBL,GAAgBhxE,GAAIgxE,GAAgB/wE,IAAI,IASjF,OANAg6D,GAAQx4D,QAAQwF,OAAOsL,KAAKtL,OAAOC,OAAO,GAAIgqE,EAASC,KAAW,SAA4B3sD,GAC5F,MAAMiE,EAAQgpD,EAASjtD,IAAS6sD,EAC1BQ,EAAcppD,EAAMyoD,EAAQ1sD,GAAO2sD,EAAQ3sD,GAAOA,GACvDy1C,GAAQ3C,YAAYua,IAAgBppD,IAAU+oD,IAAqBlgE,EAAOkT,GAAQqtD,EACvF,IAESvgE,CACT,CAEA,MAAMwgE,GAAiBxgE,IACrB,MAAMygE,EAAYd,GAAY,CAAE,EAAE3/D,GAElC,IAaIkqB,GAbA7Y,KAACA,EAAIivD,cAAEA,EAAa9P,eAAEA,EAAcD,eAAEA,EAAc7vC,QAAEA,EAAOq5C,KAAEA,GAAQ0G,EAe3E,GAbAA,EAAU//C,QAAUA,EAAUqyC,GAAez7D,KAAKopB,GAElD+/C,EAAU5hD,IAAMmO,GAASwmC,GAAciN,EAAUz1C,QAASy1C,EAAU5hD,KAAM7e,EAAOiT,OAAQjT,EAAOg9D,kBAG5FjD,GACFr5C,EAAQ/pB,IAAI,gBAAiB,SAC3B28B,MAAMymC,EAAKD,UAAY,IAAM,KAAOC,EAAKC,SAAW1hD,SAAS0W,mBAAmB+qC,EAAKC,WAAa,MAMlGrR,GAAQC,WAAWv3C,GACrB,GAAI5N,GAAS8qD,uBAAyB9qD,GAASgrD,+BAC7C/tC,EAAQivC,oBAAejkE,QAClB,IAAiD,KAA5Cw+B,EAAcxJ,EAAQ8uC,kBAA6B,CAE7D,MAAO1uC,KAAS8wC,GAAU1nC,EAAcA,EAAYp1B,MAAM,KAAKvE,KAAI2gD,GAASA,EAAM/zC,SAAQ/O,OAAOmkC,SAAW,GAC5G7R,EAAQivC,eAAe,CAAC7uC,GAAQ,yBAA0B8wC,GAAQtkE,KAAK,MAC7E,CAOE,GAAImW,GAAS8qD,wBACX+R,GAAiB3X,GAAQpM,WAAW+jB,KAAmBA,EAAgBA,EAAcG,IAEjFH,IAAoC,IAAlBA,GAA2B1B,GAAgB6B,EAAU5hD,MAAO,CAEhF,MAAM6hD,EAAYlQ,GAAkBD,GAAkB6O,GAAQ/5C,KAAKkrC,GAE/DmQ,GACFhgD,EAAQ/pB,IAAI65D,EAAgBkQ,EAEpC,CAGE,OAAOD,CAAS,EAKZE,GAFkD,oBAAnBC,gBAEO,SAAU5gE,GACpD,OAAO,IAAI8T,SAAQ,SAA4BpR,EAASqR,GACtD,MAAM8sD,EAAUL,GAAcxgE,GAC9B,IAAI8gE,EAAcD,EAAQxvD,KAC1B,MAAMyvC,EAAiBiS,GAAez7D,KAAKupE,EAAQngD,SAASijC,YAC5D,IACIod,EACAC,EAAiBC,EACjBC,EAAaC,GAHb/Q,aAACA,EAAYiM,iBAAEA,EAAgBC,mBAAEA,GAAsBuE,EAK3D,SAAS99C,IACPm+C,GAAeA,IACfC,GAAiBA,IAEjBN,EAAQxF,aAAewF,EAAQxF,YAAYC,YAAYyF,GAEvDF,EAAQ78D,QAAU68D,EAAQ78D,OAAOu3D,oBAAoB,QAASwF,EACpE,CAEI,IAAI30C,EAAU,IAAIw0C,eAOlB,SAASQ,IACP,IAAKh1C,EACH,OAGF,MAAMmC,EAAkBwkC,GAAez7D,KACrC,0BAA2B80B,GAAWA,EAAQi1C,yBAahD/N,IAAO,SAAkB3mE,GACvB+V,EAAQ/V,GACRo2B,GACR,IAAS,SAAiB7kB,GAClB6V,EAAO7V,GACP6kB,GACD,GAfgB,CACf1R,KAHoB++C,GAAiC,SAAjBA,GAA4C,SAAjBA,EACxChkC,EAAQtW,SAA/BsW,EAAQk1C,aAGR7gD,OAAQ2L,EAAQ3L,OAChBo7C,WAAYzvC,EAAQyvC,WACpBn7C,QAAS6N,EACTvuB,SACAosB,YAYFA,EAAU,IAChB,CAlCIA,EAAQm1C,KAAKV,EAAQ10C,OAAOh2B,cAAe0qE,EAAQhiD,KAAK,GAGxDuN,EAAQlB,QAAU21C,EAAQ31C,QAiCtB,cAAekB,EAEjBA,EAAQg1C,UAAYA,EAGpBh1C,EAAQo1C,mBAAqB,WACtBp1C,GAAkC,IAAvBA,EAAQq1C,aAQD,IAAnBr1C,EAAQ3L,QAAkB2L,EAAQs1C,aAAwD,IAAzCt1C,EAAQs1C,YAAYj6D,QAAQ,WAKjF2nB,WAAWgyC,EACZ,EAIHh1C,EAAQu1C,QAAU,WACXv1C,IAILrY,EAAO,IAAIo3C,GAAW,kBAAmBA,GAAWsT,aAAcz+D,EAAQosB,IAG1EA,EAAU,KACX,EAGDA,EAAQw1C,QAAU,WAGhB7tD,EAAO,IAAIo3C,GAAW,gBAAiBA,GAAW0W,YAAa7hE,EAAQosB,IAGvEA,EAAU,IACX,EAGDA,EAAQ01C,UAAY,WAClB,IAAIvD,EAAsBsC,EAAQ31C,QAAU,cAAgB21C,EAAQ31C,QAAU,cAAgB,mBAC9F,MAAMmkC,EAAewR,EAAQxR,cAAgBxB,GACzCgT,EAAQtC,sBACVA,EAAsBsC,EAAQtC,qBAEhCxqD,EAAO,IAAIo3C,GACToT,EACAlP,EAAarB,oBAAsB7C,GAAWqT,UAAYrT,GAAWsT,aACrEz+D,EACAosB,IAGFA,EAAU,IACX,OAGe1gC,IAAhBo1E,GAA6BhgB,EAAe6O,eAAe,MAGvD,qBAAsBvjC,GACxBu8B,GAAQx4D,QAAQ2wD,EAAesK,UAAU,SAA0B3rD,EAAK7I,GACtEw1B,EAAQ21C,iBAAiBnrE,EAAK6I,EACtC,IAISkpD,GAAQ3C,YAAY6a,EAAQR,mBAC/Bj0C,EAAQi0C,kBAAoBQ,EAAQR,iBAIlCjQ,GAAiC,SAAjBA,IAClBhkC,EAAQgkC,aAAeyQ,EAAQzQ,cAI7BkM,KACA2E,EAAmBE,GAAiBnK,GAAqBsF,GAAoB,GAC/ElwC,EAAQ+C,iBAAiB,WAAY8xC,IAInC5E,GAAoBjwC,EAAQ+d,UAC5B62B,EAAiBE,GAAelK,GAAqBqF,GAEvDjwC,EAAQ+d,OAAOhb,iBAAiB,WAAY6xC,GAE5C50C,EAAQ+d,OAAOhb,iBAAiB,UAAW+xC,KAGzCL,EAAQxF,aAAewF,EAAQ78D,UAGjC+8D,EAAa18C,IACN+H,IAGLrY,GAAQsQ,GAAUA,EAAOvD,KAAO,IAAIsyC,GAAc,KAAMpzD,EAAQosB,GAAW/H,GAC3E+H,EAAQlJ,QACRkJ,EAAU,KAAI,EAGhBy0C,EAAQxF,aAAewF,EAAQxF,YAAYK,UAAUqF,GACjDF,EAAQ78D,SACV68D,EAAQ78D,OAAOmqB,QAAU4yC,IAAeF,EAAQ78D,OAAOmrB,iBAAiB,QAAS4xC,KAIrF,MAAMzpB,EAAWsc,GAAciN,EAAQhiD,KAEnCy4B,IAAsD,IAA1C7zC,GAAS06C,UAAU12C,QAAQ6vC,GACzCvjC,EAAO,IAAIo3C,GAAW,wBAA0B7T,EAAW,IAAK6T,GAAWoI,gBAAiBvzD,IAM9FosB,EAAQ41C,KAAKlB,GAAe,KAChC,GACC,EA6CKmB,GA3CiB,CAACC,EAASh3C,KAC/B,MAAMz+B,OAACA,GAAWy1E,EAAUA,EAAUA,EAAQ9zE,OAAOmkC,SAAW,GAEhE,GAAIrH,GAAWz+B,EAAQ,CACrB,IAEI0hC,EAFAvL,EAAa,IAAIwL,gBAIrB,MAAMuzC,EAAU,SAAU/3B,GACxB,IAAKzb,EAAS,CACZA,GAAU,EACVmtC,IACA,MAAMp9D,EAAM0rC,aAAkB5+C,MAAQ4+C,EAASr+C,KAAKq+C,OACpDhnB,EAAWM,MAAMhlB,aAAeitD,GAAajtD,EAAM,IAAIk1D,GAAcl1D,aAAelT,MAAQkT,EAAI9S,QAAU8S,GAClH,CACK,EAED,IAAI45D,EAAQ5sC,GAAWkE,YAAW,KAChC0oC,EAAQ,KACR6J,EAAQ,IAAIxW,GAAW,WAAWjgC,mBAA0BigC,GAAWqT,WAAW,GACjFtzC,GAEH,MAAMowC,EAAc,KACd4G,IACFpK,GAASxoC,aAAawoC,GACtBA,EAAQ,KACRoK,EAAQ/xE,SAAQ6T,IACdA,EAAOs3D,YAAct3D,EAAOs3D,YAAYqG,GAAW39D,EAAOu3D,oBAAoB,QAASoG,EAAQ,IAEjGO,EAAU,KAClB,EAGIA,EAAQ/xE,SAAS6T,GAAWA,EAAOmrB,iBAAiB,QAASwyC,KAE7D,MAAM39D,OAACA,GAAU4e,EAIjB,OAFA5e,EAAOs3D,YAAc,IAAM3S,GAAQF,KAAK6S,GAEjCt3D,CACX,GAKMm+D,GAAc,UAAW3gD,EAAO2yC,GACpC,IAAIzsD,EAAM8Z,EAAMkL,WAEhB,GAAkBhlB,EAAMysD,EAEtB,kBADM3yC,GAIR,IACI8xB,EADAr3B,EAAM,EAGV,KAAOA,EAAMvU,GACX4rC,EAAMr3B,EAAMk4C,QACN3yC,EAAMh1B,MAAMyvB,EAAKq3B,GACvBr3B,EAAMq3B,CAET,EAQK8uB,GAAavuD,gBAAiBqR,GAClC,GAAIA,EAAOpM,OAAO0K,eAEhB,kBADO0B,GAIT,MAAMC,EAASD,EAAOE,YACtB,IACE,OAAS,CACP,MAAMrC,KAACA,EAAIp2B,MAAEA,SAAew4B,EAAOE,OACnC,GAAItC,EACF,YAEIp2B,CACZ,CACA,CAAY,cACFw4B,EAAOd,QACjB,CACC,EAEKg+C,GAAc,CAACn9C,EAAQivC,EAAWmO,EAAYC,KAClD,MAAM5/C,EA3BU9O,gBAAiB2uD,EAAUrO,GAC3C,UAAW,MAAM3yC,KAAS4gD,GAAWI,SAC5BL,GAAY3gD,EAAO2yC,EAE7B,CAuBkBsO,CAAUv9C,EAAQivC,GAEnC,IACIpxC,EADAjB,EAAQ,EAER4gD,EAAalqD,IACVuK,IACHA,GAAO,EACPw/C,GAAYA,EAAS/pD,GAC3B,EAGE,OAAO,IAAIgF,eAAe,CACxB,UAAMyG,CAAKrB,GACT,IACE,MAAMG,KAACA,EAAIp2B,MAAEA,SAAeg2B,EAAS/O,OAErC,GAAImP,EAGF,OAFD2/C,SACC9/C,EAAWuB,QAIb,IAAIzc,EAAM/a,EAAM+/B,WAChB,GAAI41C,EAAY,CACd,IAAIK,EAAc7gD,GAASpa,EAC3B46D,EAAWK,EACrB,CACQ//C,EAAWwB,QAAQ,IAAIrC,WAAWp1B,GACnC,CAAC,MAAOuR,GAEP,MADAwkE,EAAUxkE,GACJA,CACd,CACK,EACDmmB,OAAOulB,IACL84B,EAAU94B,GACHjnB,EAAS2B,WAEjB,CACDs+C,cAAe,GAChB,EAGGC,GAAoC,mBAAVhtD,OAA2C,mBAAZqH,SAA8C,mBAAbC,SAC1F2lD,GAA4BD,IAA8C,mBAAnBrlD,eAGvDulD,GAAaF,KAA4C,mBAAhB9+C,aACzC9I,GAA0C,IAAI8I,YAAjCxwB,GAAQ0nB,GAAQhE,OAAO1jB,IACtCsgB,MAAOtgB,GAAQ,IAAIwuB,iBAAiB,IAAI5E,SAAS5pB,GAAKgzB,gBADtD,IAAEtL,GAIN,MAAMzmB,GAAO,CAACvH,KAAOqD,KACnB,IACE,QAASrD,KAAMqD,EAChB,CAAC,MAAOkoB,GACP,OAAO,CACX,GAGMwqD,GAAwBF,IAA6BtuE,IAAK,KAC9D,IAAIyuE,GAAiB,EAErB,MAAMC,EAAiB,IAAIhmD,QAAQzZ,GAASmrD,OAAQ,CAClD1wC,KAAM,IAAIV,eACV2O,OAAQ,OACR,UAAIg3C,GAEF,OADAF,GAAiB,EACV,MACR,IACAviD,QAAQ7pB,IAAI,gBAEf,OAAOosE,IAAmBC,CAAc,IAKpCE,GAAyBN,IAC7BtuE,IAAK,IAAMm0D,GAAQjC,iBAAiB,IAAIvpC,SAAS,IAAIe,QAGjDmlD,GAAY,CAChBn+C,OAAQk+C,IAAsB,CAAMhtD,GAAQA,EAAI8H,OAG7B,IAAE9H,GAAvBysD,KAAuBzsD,GAOpB,IAAI+G,SANL,CAAC,OAAQ,cAAe,OAAQ,WAAY,UAAUhtB,SAAQ2wB,KAC3DuiD,GAAUviD,KAAUuiD,GAAUviD,GAAQ6nC,GAAQpM,WAAWnmC,GAAI0K,IAAU1K,GAAQA,EAAI0K,KAClF,CAAC3I,EAAGnY,KACF,MAAM,IAAImrD,GAAW,kBAAkBrqC,sBAA0BqqC,GAAWgR,gBAAiBn8D,EAAO,EACpG,KAIR,MA8BMsjE,GAAoBzvD,MAAO6M,EAASxC,KACxC,MAAMzxB,EAASk8D,GAAQ+B,eAAehqC,EAAQm8C,oBAE9C,OAAiB,MAAVpwE,EAjCaonB,OAAOqK,IAC3B,GAAY,MAARA,EACF,OAAO,EAGT,GAAGyqC,GAAQpC,OAAOroC,GAChB,OAAOA,EAAKoI,KAGd,GAAGqiC,GAAQmC,oBAAoB5sC,GAAO,CACpC,MAAMqlD,EAAW,IAAIrmD,QAAQzZ,GAASmrD,OAAQ,CAC5CziC,OAAQ,OACRjO,SAEF,aAAcqlD,EAASh9C,eAAemG,UAC1C,CAEE,OAAGi8B,GAAQE,kBAAkB3qC,IAASyqC,GAAQ1C,cAAc/nC,GACnDA,EAAKwO,YAGXi8B,GAAQlC,kBAAkBvoC,KAC3BA,GAAc,IAGbyqC,GAAQhK,SAASzgC,UACJ6kD,GAAW7kD,IAAOwO,gBADlC,EAEF,EAM0B82C,CAActlD,GAAQzxB,CAAM,EAGhDg3E,GAAeZ,IAAqB,OAAO7iE,IAC/C,IAAI6e,IACFA,EAAGsN,OACHA,EAAM9a,KACNA,EAAIrN,OACJA,EAAMq3D,YACNA,EAAWnwC,QACXA,EAAOoxC,mBACPA,EAAkBD,iBAClBA,EAAgBjM,aAChBA,EAAY1vC,QACZA,EAAO2/C,gBACPA,EAAkB,cAAaqD,aAC/BA,GACElD,GAAcxgE,GAElBowD,EAAeA,GAAgBA,EAAe,IAAIr/B,cAAgB,OAElE,IAEI3E,EAFAu3C,EAAiB1B,GAAiB,CAACj+D,EAAQq3D,GAAeA,EAAYuI,iBAAkB14C,GAI5F,MAAMowC,EAAcqI,GAAkBA,EAAerI,aAAW,MAC5DqI,EAAerI,aAClB,GAED,IAAIuI,EAEJ,IACE,GACExH,GAAoB2G,IAAoC,QAAX72C,GAA+B,SAAXA,GACG,KAAnE03C,QAA6BP,GAAkB5iD,EAASrP,IACzD,CACA,IAMIyyD,EANAP,EAAW,IAAIrmD,QAAQ2B,EAAK,CAC9BsN,OAAQ,OACRjO,KAAM7M,EACN8xD,OAAQ,SASV,GAJIxa,GAAQC,WAAWv3C,KAAUyyD,EAAoBP,EAAS7iD,QAAQzpB,IAAI,kBACxEypB,EAAQivC,eAAemU,GAGrBP,EAASrlD,KAAM,CACjB,MAAOokD,EAAYngD,GAASs2C,GAC1BoL,EACA7M,GAAqB2B,GAAe0D,KAGtChrD,EAAOgxD,GAAYkB,EAASrlD,KA1GT,MA0GmCokD,EAAYngD,EAC1E,CACA,CAESwmC,GAAQhK,SAAS0hB,KACpBA,EAAkBA,EAAkB,UAAY,QAKlD,MAAM0D,EAAyB,gBAAiB7mD,QAAQ7F,UACxD+U,EAAU,IAAIlP,QAAQ2B,EAAK,IACtB6kD,EACH1/D,OAAQ2/D,EACRx3C,OAAQA,EAAOh2B,cACfuqB,QAASA,EAAQijC,YAAYyH,SAC7BltC,KAAM7M,EACN8xD,OAAQ,OACRa,YAAaD,EAAyB1D,OAAkB30E,IAG1D,IAAIoqB,QAAiBD,MAAMuW,GAE3B,MAAM63C,EAAmBb,KAA4C,WAAjBhT,GAA8C,aAAjBA,GAEjF,GAAIgT,KAA2B9G,GAAuB2H,GAAoB3I,GAAe,CACvF,MAAMlsE,EAAU,CAAE,EAElB,CAAC,SAAU,aAAc,WAAWe,SAAQ+iB,IAC1C9jB,EAAQ8jB,GAAQ4C,EAAS5C,EAAK,IAGhC,MAAMgxD,EAAwBvb,GAAQ+B,eAAe50C,EAAS4K,QAAQzpB,IAAI,oBAEnEqrE,EAAYngD,GAASm6C,GAAsB7D,GAChDyL,EACAlN,GAAqB2B,GAAe2D,IAAqB,KACtD,GAELxmD,EAAW,IAAIqH,SACbklD,GAAYvsD,EAASoI,KAlJF,MAkJ4BokD,GAAY,KACzDngD,GAASA,IACTm5C,GAAeA,GAAa,IAE9BlsE,EAER,CAEIghE,EAAeA,GAAgB,OAE/B,IAAIgO,QAAqBiF,GAAU1a,GAAQ5B,QAAQsc,GAAWjT,IAAiB,QAAQt6C,EAAU9V,GAIjG,OAFCikE,GAAoB3I,GAAeA,UAEvB,IAAIxnD,SAAQ,CAACpR,EAASqR,KACjCu/C,GAAO5wD,EAASqR,EAAQ,CACtB1C,KAAM+sD,EACN19C,QAASqyC,GAAez7D,KAAKwe,EAAS4K,SACtCD,OAAQ3K,EAAS2K,OACjBo7C,WAAY/lD,EAAS+lD,WACrB77D,SACAosB,WACA,GAEL,CAAC,MAAOluB,GAGP,GAFAo9D,GAAeA,IAEXp9D,GAAoB,cAAbA,EAAI1S,MAAwB,SAASgJ,KAAK0J,EAAI9S,SACvD,MAAMuK,OAAOC,OACX,IAAIu1D,GAAW,gBAAiBA,GAAW0W,YAAa7hE,EAAQosB,GAChE,CACElL,MAAOhjB,EAAIgjB,OAAShjB,IAK1B,MAAMitD,GAAW7zD,KAAK4G,EAAKA,GAAOA,EAAI/S,KAAM6U,EAAQosB,EACxD,CACC,GAEK+3C,GAAgB,CACpBvtB,KAAM6jB,GACN2J,IAAKzD,GACL9qD,MAAO4tD,IAGT9a,GAAQx4D,QAAQg0E,IAAe,CAACl3E,EAAIN,KAClC,GAAIM,EAAI,CACN,IACE0I,OAAO2gB,eAAerpB,EAAI,OAAQ,CAACN,SACpC,CAAC,MAAO6rB,GAEb,CACI7iB,OAAO2gB,eAAerpB,EAAI,cAAe,CAACN,SAC9C,KAGA,MAAM03E,GAAgBz6B,GAAW,KAAKA,IAEhC06B,GAAoBhV,GAAY3G,GAAQpM,WAAW+S,IAAwB,OAAZA,IAAgC,IAAZA,EAEnFiV,GACSA,IACXA,EAAW5b,GAAQ77D,QAAQy3E,GAAYA,EAAW,CAACA,GAEnD,MAAM93E,OAACA,GAAU83E,EACjB,IAAIC,EACAlV,EAEJ,MAAMmV,EAAkB,CAAE,EAE1B,IAAK,IAAIpwE,EAAI,EAAGA,EAAI5H,EAAQ4H,IAAK,CAE/B,IAAIs/B,EAIJ,GALA6wC,EAAgBD,EAASlwE,GAGzBi7D,EAAUkV,GAELF,GAAiBE,KACpBlV,EAAU6U,IAAexwC,EAAK/c,OAAO4tD,IAAgBzzC,oBAErCrlC,IAAZ4jE,GACF,MAAM,IAAInE,GAAW,oBAAoBx3B,MAI7C,GAAI27B,EACF,MAGFmV,EAAgB9wC,GAAM,IAAMt/B,GAAKi7D,CACvC,CAEI,IAAKA,EAAS,CAEZ,MAAMoV,EAAU/uE,OAAO2xB,QAAQm9C,GAC5Bl0E,KAAI,EAAEojC,EAAI5L,KAAW,WAAW4L,OACpB,IAAV5L,EAAkB,sCAAwC,mCAO/D,MAAM,IAAIojC,GACR,yDALM1+D,EACLi4E,EAAQj4E,OAAS,EAAI,YAAci4E,EAAQn0E,IAAI8zE,IAAc/2E,KAAK,MAAQ,IAAM+2E,GAAaK,EAAQ,IACtG,2BAIA,kBAER,CAEI,OAAOpV,CAAO,EAYlB,SAASqV,GAA6B3kE,GAKpC,GAJIA,EAAOq7D,aACTr7D,EAAOq7D,YAAYuJ,mBAGjB5kE,EAAOgE,QAAUhE,EAAOgE,OAAOmqB,QACjC,MAAM,IAAIilC,GAAc,KAAMpzD,EAElC,CASA,SAAS6kE,GAAgB7kE,GACvB2kE,GAA6B3kE,GAE7BA,EAAO0gB,QAAUqyC,GAAez7D,KAAK0I,EAAO0gB,SAG5C1gB,EAAOqR,KAAO2hD,GAAcr7C,KAC1B3X,EACAA,EAAOuvD,mBAGgD,IAArD,CAAC,OAAQ,MAAO,SAAS9nD,QAAQzH,EAAOmsB,SAC1CnsB,EAAO0gB,QAAQivC,eAAe,qCAAqC,GAKrE,OAFgB4U,GAAoBvkE,EAAOsvD,SAAWsB,GAAWtB,QAE1DA,CAAQtvD,GAAQ4F,MAAK,SAA6BkQ,GAYvD,OAXA6uD,GAA6B3kE,GAG7B8V,EAASzE,KAAO2hD,GAAcr7C,KAC5B3X,EACAA,EAAOkwD,kBACPp6C,GAGFA,EAAS4K,QAAUqyC,GAAez7D,KAAKwe,EAAS4K,SAEzC5K,CACX,IAAK,SAA4B8zB,GAe7B,OAdKspB,GAAStpB,KACZ+6B,GAA6B3kE,GAGzB4pC,GAAUA,EAAO9zB,WACnB8zB,EAAO9zB,SAASzE,KAAO2hD,GAAcr7C,KACnC3X,EACAA,EAAOkwD,kBACPtmB,EAAO9zB,UAET8zB,EAAO9zB,SAAS4K,QAAUqyC,GAAez7D,KAAKsyC,EAAO9zB,SAAS4K,WAI3D5M,QAAQC,OAAO61B,EAC1B,GACA,CAEA,MAAMk7B,GAAe,CAAE,EAGvB,CAAC,SAAU,UAAW,SAAU,WAAY,SAAU,UAAU30E,SAAQ,CAAC2wB,EAAMzsB,KAC7EywE,GAAahkD,GAAQ,SAAmB+kC,GACtC,cAAcA,IAAU/kC,GAAQ,KAAOzsB,EAAI,EAAI,KAAO,KAAOysB,CAC9D,CAAA,IAGH,MAAMikD,GAAqB,CAAE,EAW7BD,GAAazV,aAAe,SAAsB2V,EAAW37D,EAASje,GACpE,SAAS65E,EAAclK,EAAKj/D,GAC1B,MAAO,uCAAoDi/D,EAAM,IAAOj/D,GAAQ1Q,EAAU,KAAOA,EAAU,GAC/G,CAGE,MAAO,CAACuB,EAAOouE,EAAKh/D,KAClB,IAAkB,IAAdipE,EACF,MAAM,IAAI7Z,GACR8Z,EAAclK,EAAK,qBAAuB1xD,EAAU,OAASA,EAAU,KACvE8hD,GAAW+Z,gBAef,OAXI77D,IAAY07D,GAAmBhK,KACjCgK,GAAmBhK,IAAO,EAE1BplD,QAAQ0d,KACN4xC,EACElK,EACA,+BAAiC1xD,EAAU,8CAK1C27D,GAAYA,EAAUr4E,EAAOouE,EAAKh/D,EAAY,CAExD,EAmCD,MAAMipE,GAAY,CAChBG,cAxBF,SAAuB/1E,EAASg2E,EAAQ5kE,GACtC,GAAuB,iBAAZpR,EACT,MAAM,IAAI+7D,GAAW,4BAA6BA,GAAWmT,sBAE/D,MAAMr9D,EAAOtL,OAAOsL,KAAK7R,GACzB,IAAIiF,EAAI4M,EAAKxU,OACb,KAAO4H,KAAM,GAAG,CACd,MAAM0mE,EAAM95D,EAAK5M,GACX2wE,EAAYI,EAAOrK,GACzB,GAAIiK,EAAJ,CACE,MAAMr4E,EAAQyC,EAAQ2rE,GAChBr/D,OAAmBhQ,IAAViB,GAAuBq4E,EAAUr4E,EAAOouE,EAAK3rE,GAC5D,IAAe,IAAXsM,EACF,MAAM,IAAIyvD,GAAW,UAAY4P,EAAM,YAAcr/D,EAAQyvD,GAAWmT,qBAGhF,MACI,IAAqB,IAAjB99D,EACF,MAAM,IAAI2qD,GAAW,kBAAoB4P,EAAK5P,GAAWka,eAE/D,CACA,EAIEC,WAAYR,IAGRQ,GAAaN,GAAUM,WAS7B,MAAMC,GACJ,WAAAt6E,CAAYu6E,GACVj6E,KAAK+oB,SAAWkxD,EAChBj6E,KAAKk6E,aAAe,CAClBr5C,QAAS,IAAIihC,GACbv3C,SAAU,IAAIu3C,GAEpB,CAUE,aAAMjhC,CAAQs5C,EAAa1lE,GACzB,IACE,aAAazU,KAAKg4E,SAASmC,EAAa1lE,EACzC,CAAC,MAAO9B,GACP,GAAIA,aAAelT,MAAO,CACxB,IAAI26E,EAEJ36E,MAAMM,kBAAoBN,MAAMM,kBAAkBq6E,EAAQ,CAAA,GAAOA,EAAQ,IAAI36E,MAG7E,MAAMouD,EAAQusB,EAAMvsB,MAAQusB,EAAMvsB,MAAMnqD,QAAQ,QAAS,IAAM,GAC/D,IACOiP,EAAIk7C,MAGEA,IAAUxiC,OAAO1Y,EAAIk7C,OAAO13B,SAAS03B,EAAMnqD,QAAQ,YAAa,OACzEiP,EAAIk7C,OAAS,KAAOA,GAHpBl7C,EAAIk7C,MAAQA,CAKf,CAAC,MAAO5gC,GAEjB,CACA,CAEM,MAAMta,CACZ,CACA,CAEE,QAAAqlE,CAASmC,EAAa1lE,GAGO,iBAAhB0lE,GACT1lE,EAASA,GAAU,CAAE,GACd6e,IAAM6mD,EAEb1lE,EAAS0lE,GAAe,CAAE,EAG5B1lE,EAAS2/D,GAAYp0E,KAAK+oB,SAAUtU,GAEpC,MAAMqvD,aAACA,EAAY2N,iBAAEA,EAAgBt8C,QAAEA,GAAW1gB,OAE7BtU,IAAjB2jE,GACF2V,GAAUG,cAAc9V,EAAc,CACpCvB,kBAAmBwX,GAAWjW,aAAaiW,GAAWM,SACtD7X,kBAAmBuX,GAAWjW,aAAaiW,GAAWM,SACtD5X,oBAAqBsX,GAAWjW,aAAaiW,GAAWM,WACvD,GAGmB,MAApB5I,IACErU,GAAQpM,WAAWygB,GACrBh9D,EAAOg9D,iBAAmB,CACxB9P,UAAW8P,GAGbgI,GAAUG,cAAcnI,EAAkB,CACxC/lD,OAAQquD,GAAWxuC,SACnBo2B,UAAWoY,GAAWxuC,WACrB,IAKP92B,EAAOmsB,QAAUnsB,EAAOmsB,QAAU5gC,KAAK+oB,SAAS6X,QAAU,OAAO4E,cAGjE,IAAI80C,EAAiBnlD,GAAWioC,GAAQxxC,MACtCuJ,EAAQiwC,OACRjwC,EAAQ1gB,EAAOmsB,SAGjBzL,GAAWioC,GAAQx4D,QACjB,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WACjDg8B,WACQzL,EAAQyL,EAAO,IAI1BnsB,EAAO0gB,QAAUqyC,GAAehmE,OAAO84E,EAAgBnlD,GAGvD,MAAMolD,EAA0B,GAChC,IAAIC,GAAiC,EACrCx6E,KAAKk6E,aAAar5C,QAAQj8B,SAAQ,SAAoC61E,GACjC,mBAAxBA,EAAYtY,UAA0D,IAAhCsY,EAAYtY,QAAQ1tD,KAIrE+lE,EAAiCA,GAAkCC,EAAYvY,YAE/EqY,EAAwBpiE,QAAQsiE,EAAYxY,UAAWwY,EAAYr8B,UACzE,IAEI,MAAMs8B,EAA2B,GAKjC,IAAItgE,EAJJpa,KAAKk6E,aAAa3vD,SAAS3lB,SAAQ,SAAkC61E,GACnEC,EAAyBz3E,KAAKw3E,EAAYxY,UAAWwY,EAAYr8B,SACvE,IAGI,IACIjiC,EADArT,EAAI,EAGR,IAAK0xE,EAAgC,CACnC,MAAMG,EAAQ,CAACrB,GAAgBpsC,KAAKltC,WAAOG,GAO3C,IANAw6E,EAAMxiE,QAAQlF,MAAM0nE,EAAOJ,GAC3BI,EAAM13E,KAAKgQ,MAAM0nE,EAAOD,GACxBv+D,EAAMw+D,EAAMz5E,OAEZkZ,EAAUmO,QAAQpR,QAAQ1C,GAEnB3L,EAAIqT,GACT/B,EAAUA,EAAQC,KAAKsgE,EAAM7xE,KAAM6xE,EAAM7xE,MAG3C,OAAOsR,CACb,CAEI+B,EAAMo+D,EAAwBr5E,OAE9B,IAAIg0E,EAAYzgE,EAIhB,IAFA3L,EAAI,EAEGA,EAAIqT,GAAK,CACd,MAAMy+D,EAAcL,EAAwBzxE,KACtC+xE,EAAaN,EAAwBzxE,KAC3C,IACEosE,EAAY0F,EAAY1F,EACzB,CAAC,MAAO90E,GACPy6E,EAAWzuD,KAAKpsB,KAAMI,GACtB,KACR,CACA,CAEI,IACEga,EAAUk/D,GAAgBltD,KAAKpsB,KAAMk1E,EACtC,CAAC,MAAO90E,GACP,OAAOmoB,QAAQC,OAAOpoB,EAC5B,CAKI,IAHA0I,EAAI,EACJqT,EAAMu+D,EAAyBx5E,OAExB4H,EAAIqT,GACT/B,EAAUA,EAAQC,KAAKqgE,EAAyB5xE,KAAM4xE,EAAyB5xE,MAGjF,OAAOsR,CACX,CAEE,MAAA0gE,CAAOrmE,GAGL,OAAOgtB,GADUwmC,IADjBxzD,EAAS2/D,GAAYp0E,KAAK+oB,SAAUtU,IACEgrB,QAAShrB,EAAO6e,KAC5B7e,EAAOiT,OAAQjT,EAAOg9D,iBACpD,EAIArU,GAAQx4D,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6Bg8B,GAEjFo5C,GAAMluD,UAAU8U,GAAU,SAAStN,EAAK7e,GACtC,OAAOzU,KAAK6gC,QAAQuzC,GAAY3/D,GAAU,CAAA,EAAI,CAC5CmsB,SACAtN,MACAxN,MAAOrR,GAAU,IAAIqR,OAExB,CACH,IAEAs3C,GAAQx4D,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+Bg8B,GAGvE,SAASm6C,EAAmBC,GAC1B,OAAO,SAAoB1nD,EAAKxN,EAAMrR,GACpC,OAAOzU,KAAK6gC,QAAQuzC,GAAY3/D,GAAU,CAAA,EAAI,CAC5CmsB,SACAzL,QAAS6lD,EAAS,CAChB,eAAgB,uBACd,CAAE,EACN1nD,MACAxN,SAEH,CACL,CAEEk0D,GAAMluD,UAAU8U,GAAUm6C,IAE1Bf,GAAMluD,UAAU8U,EAAS,QAAUm6C,GAAmB,EACxD,IAEA,MAAME,GAAUjB,GAShB,MAAMkB,GACJ,WAAAx7E,CAAYqtC,GACV,GAAwB,mBAAbA,EACT,MAAM,IAAI3b,UAAU,gCAGtB,IAAI+pD,EAEJn7E,KAAKoa,QAAU,IAAImO,SAAQ,SAAyBpR,GAClDgkE,EAAiBhkE,CACvB,IAEI,MAAMwuC,EAAQ3lD,KAGdA,KAAKoa,QAAQC,MAAKye,IAChB,IAAK6sB,EAAMy1B,WAAY,OAEvB,IAAItyE,EAAI68C,EAAMy1B,WAAWl6E,OAEzB,KAAO4H,KAAM,GACX68C,EAAMy1B,WAAWtyE,GAAGgwB,GAEtB6sB,EAAMy1B,WAAa,IAAI,IAIzBp7E,KAAKoa,QAAQC,KAAOglB,IAClB,IAAIg8C,EAEJ,MAAMjhE,EAAU,IAAImO,SAAQpR,IAC1BwuC,EAAMwqB,UAAUh5D,GAChBkkE,EAAWlkE,CAAO,IACjBkD,KAAKglB,GAMR,OAJAjlB,EAAQ0e,OAAS,WACf6sB,EAAMoqB,YAAYsL,EACnB,EAEMjhE,CAAO,EAGhB2yB,GAAS,SAAgBltC,EAAS4U,EAAQosB,GACpC8kB,EAAMtH,SAKVsH,EAAMtH,OAAS,IAAIwpB,GAAchoE,EAAS4U,EAAQosB,GAClDs6C,EAAex1B,EAAMtH,QAC3B,GACA,CAKE,gBAAAg7B,GACE,GAAIr5E,KAAKq+C,OACP,MAAMr+C,KAAKq+C,MAEjB,CAME,SAAA8xB,CAAU39D,GACJxS,KAAKq+C,OACP7rC,EAASxS,KAAKq+C,QAIZr+C,KAAKo7E,WACPp7E,KAAKo7E,WAAWn4E,KAAKuP,GAErBxS,KAAKo7E,WAAa,CAAC5oE,EAEzB,CAME,WAAAu9D,CAAYv9D,GACV,IAAKxS,KAAKo7E,WACR,OAEF,MAAMnhE,EAAQja,KAAKo7E,WAAWl/D,QAAQ1J,IACvB,IAAXyH,GACFja,KAAKo7E,WAAWlyD,OAAOjP,EAAO,EAEpC,CAEE,aAAAo+D,GACE,MAAMhhD,EAAa,IAAIwL,gBAEjBlL,EAAShlB,IACb0kB,EAAWM,MAAMhlB,EAAI,EAOvB,OAJA3S,KAAKmwE,UAAUx4C,GAEfN,EAAW5e,OAAOs3D,YAAc,IAAM/vE,KAAK+vE,YAAYp4C,GAEhDN,EAAW5e,MACtB,CAME,aAAO7C,GACL,IAAIkjB,EAIJ,MAAO,CACL6sB,MAJY,IAAIu1B,IAAY,SAAkBrtD,GAC9CiL,EAASjL,CACf,IAGMiL,SAEN,EAGA,MAAMwiD,GAAgBJ,GAwCtB,MAAMK,GAAiB,CACrBC,SAAU,IACVC,mBAAoB,IACpBC,WAAY,IACZC,WAAY,IACZC,GAAI,IACJC,QAAS,IACTC,SAAU,IACVC,4BAA6B,IAC7BC,UAAW,IACXC,aAAc,IACdC,eAAgB,IAChBC,YAAa,IACbC,gBAAiB,IACjBC,OAAQ,IACRC,gBAAiB,IACjBC,iBAAkB,IAClBC,MAAO,IACPC,SAAU,IACVC,YAAa,IACbC,SAAU,IACVC,OAAQ,IACRC,kBAAmB,IACnBC,kBAAmB,IACnBC,WAAY,IACZC,aAAc,IACdC,gBAAiB,IACjBC,UAAW,IACXC,SAAU,IACVC,iBAAkB,IAClBC,cAAe,IACfC,4BAA6B,IAC7BC,eAAgB,IAChBC,SAAU,IACVC,KAAM,IACNC,eAAgB,IAChBC,mBAAoB,IACpBC,gBAAiB,IACjBC,WAAY,IACZC,qBAAsB,IACtBC,oBAAqB,IACrBC,kBAAmB,IACnBC,UAAW,IACXC,mBAAoB,IACpBC,oBAAqB,IACrBC,OAAQ,IACRC,iBAAkB,IAClBC,SAAU,IACVC,gBAAiB,IACjBC,qBAAsB,IACtBC,gBAAiB,IACjBC,4BAA6B,IAC7BC,2BAA4B,IAC5BvqD,oBAAqB,IACrBwqD,eAAgB,IAChBC,WAAY,IACZC,mBAAoB,IACpBC,eAAgB,IAChBC,wBAAyB,IACzBC,sBAAuB,IACvBC,oBAAqB,IACrBC,aAAc,IACdC,YAAa,IACbC,8BAA+B,KAGjCj1E,OAAO2xB,QAAQw/C,IAAgB32E,SAAQ,EAAEyG,EAAKjK,MAC5Cm6E,GAAen6E,GAASiK,CAAG,IAG7B,MAAMi0E,GAAmB/D,GA4BzB,MAAMgE,GAnBN,SAASC,EAAeC,GACtB,MAAMlhE,EAAU,IAAI08D,GAAQwE,GACtBC,EAAWxyC,EAAK+tC,GAAQnvD,UAAU+U,QAAStiB,GAajD,OAVA6+C,GAAQO,OAAO+hB,EAAUzE,GAAQnvD,UAAWvN,EAAS,CAACg9C,YAAY,IAGlE6B,GAAQO,OAAO+hB,EAAUnhE,EAAS,KAAM,CAACg9C,YAAY,IAGrDmkB,EAASnzD,OAAS,SAAgB0tD,GAChC,OAAOuF,EAAepL,GAAYqL,EAAexF,GAClD,EAEMyF,CACT,CAGcF,CAAena,WAG7Bka,GAAMvF,MAAQiB,GAGdsE,GAAM1X,cAAgBA,GACtB0X,GAAMrE,YAAcI,GACpBiE,GAAM5X,SAAWA,GACjB4X,GAAM9tD,QAAUA,GAChB8tD,GAAM7e,WAAaA,GAGnB6e,GAAM3f,WAAaA,GAGnB2f,GAAMI,OAASJ,GAAM1X,cAGrB0X,GAAMzjD,IAAM,SAAamiB,GACvB,OAAO11B,QAAQuT,IAAImiB,EACpB,EAEDshC,GAAM7rB,OA1IN,SAAgBh5C,GACd,OAAO,SAAckT,GACnB,OAAOlT,EAASzH,MAAM,KAAM2a,EAC7B,CACH,EAyIA2xD,GAAMK,aAhIN,SAAsBC,GACpB,OAAOziB,GAAQxC,SAASilB,KAAsC,IAAzBA,EAAQD,YAC/C,EAiIAL,GAAMnL,YAAcA,GAEpBmL,GAAM3Z,aAAe4B,GAErB+X,GAAMO,WAAaxlB,GAASkJ,GAAepG,GAAQpB,WAAW1B,GAAS,IAAIxoC,SAASwoC,GAASA,GAE7FilB,GAAMQ,WAAa/G,GAEnBuG,GAAMhE,eAAiB+D,GAEvBC,GAAM7tE,QAAU6tE,GAEhBS,GAAiBT,sCE5qJjB,MAAMA,EAAwBj/E,KACxB2M,EAAKH,EACLC,EAAOC,SAsDbizE,GAAiB,CAAEC,gBA9CnB53D,eAA+B63D,EAAUC,GACrC,IAEI,MAAMrgB,EAAW,SAAS9wC,KAAKuV,YACzB67C,EAAWtzE,EAAKhL,KAAKq+E,EAAcrgB,GAGnCugB,EAAYvzE,EAAK+K,QAAQuoE,GAC1BpzE,EAAGmK,WAAWkpE,IACfrzE,EAAGszE,UAAUD,EAAW,CAAEE,WAAW,IAIzC,MAAMj2D,QAAiBg1D,EAAM,CACzBjsD,IAAK6sD,EACLv/C,OAAQ,MACRikC,aAAc,WAGZ4b,EAASxzE,EAAGyzE,kBAAkBL,GAGpC,OAFA91D,EAASzE,KAAKghC,KAAK25B,GAEZ,IAAIl4D,SAAQ,CAACpR,EAASqR,KACzBi4D,EAAOlsE,GAAG,UAAU,KAChB6V,QAAQC,IAAI,+BAA+Bg2D,KAC3ClpE,EAAQkpE,EAAS,IAErBI,EAAOlsE,GAAG,SAAU5B,IAChByX,QAAQhqB,MAAM,0BAA2BuS,GACzC6V,EAAO7V,EAAI,GACb,GAIT,CAAC,MAAOvS,GACLgqB,QAAQhqB,MAAM,gCAAiCA,EAAMP,QAC7D,CACA,EASoC8gF,sBAPLC,IACtB3zE,EAAGmK,WAAWwpE,KACf3zE,EAAGszE,UAAUK,EAAK,CAAEJ,WAAW,IAC/Bp2D,QAAQC,IAAI,sBAAsBu2D,KAC1C,yCCrDA,MAAMC,EAA0BvgF,MAC1B4/E,gBAAEA,GAAoBpzE,KACtBg0E,cCKJl8C,GAPF,WAGI,OAFYl/B,KAAKinD,MAAsB,IAAhBjnD,KAAKk/B,UAAoB,CAGpD,UD0DAm8C,GA1DAz4D,eAA6Bq8B,EAAQq8B,EAAUC,EAAiBC,GAC5D,IAEI,MAAMr8C,EAAS,IAAIg8C,EAAO,CACtBl8B,OAAQA,EACRllB,QAAS,gCAGP0hD,EAAeL,IAErB,IAAI74E,EACAkd,EAiBAi8D,EAfe,UAAfF,IACAj5E,EAAQ,KACRkd,EAAS,MAGM,YAAf+7D,IACAj5E,EAAQ,IACRkd,EAAS,MAGM,aAAf+7D,IACAj5E,EAAQ,KACRkd,EAAS,KAKT67D,IACAI,EAAaJ,GAIjB,MAAMK,QAAcx8C,EAAOyd,OAAO7sB,SAAS,CACvC6rD,OAAQF,EACRzqC,MAAO,wCACP9P,EAAE,EACF1hB,OAAQA,EACRld,MAAOA,EACPi0C,MAAO,EACPqlC,KAAMJ,IAOV,OAJAK,UAAYH,EAAMv7D,KAAK,GAAGwN,IAE1BlJ,QAAQC,IAAI,yBAEC61D,EAAgBsB,UAAWP,EAE3C,CAAC,MAAOh0D,GAEL,OADA7C,QAAQhqB,MAAM,2EACP,OACf,CACA,EExDA,IAAIqhF,kCCDJ,MAAM90E,QAAEA,GAAYrM,IACdkf,+BCCN,MAAMA,EAASlf,IACb2M,EAAKH,EACLC,EAAOC,EACP00E,EAAU30E,EAAKhL,KAAK4/E,UAAW,qBASjCniE,EAAOiJ,SAAW,SAAUxoB,EAAMooB,GAChC,OAAO,IAAIE,SAAQ,SAASpR,EAASqR,GACnC,GAAIhJ,EAAOC,SAASxf,GAGlB,OAFAooB,GAAQA,EAAK,KAAM7I,EAAOC,SAASxf,GAAM4D,cACzCsT,EAAQqI,EAAOC,SAASxf,GAAM4D,SAIhCoJ,EAAG20E,SACD70E,EAAKhL,KAAK2/E,EAASzhF,EAAO,QAC1B,CAAEk0D,SAAU,UACZ,SAAUxhD,EAAKiY,GACb,GAAIjY,EAGF,OAFA0V,GAAQA,EAAK1V,QACb6V,EAAO7V,GAITiY,GAAsB,GACtB,IACE,IAAIjL,EAAOH,EAAOwJ,UAAU/oB,EAAM2qB,GAClCvC,GAAQA,EAAK,KAAM1I,GACnBxI,EAAQwI,EACT,CAAC,MAAOvf,GACPioB,GAAQA,EAAKjoB,GACbooB,EAAOpoB,EACjB,CACA,GAEA,GACC,EAQDof,EAAOoJ,aAAe,SAAU3oB,GAC9B,GAAIuf,EAAOC,SAASxf,GAClB,OAAOuf,EAAOC,SAASxf,GAAM4D,QAG/B,IAAI+mB,EAAW3d,EAAG40E,aAAa90E,EAAKhL,KAAK2/E,EAASzhF,EAAO,QAAS,CAChEk0D,SAAU,UAIZ,OADAvpC,GAAsB,GACfpL,EAAOwJ,UAAU/oB,EAAM2qB,EAC/B,EAKDpL,EAAOmL,MAAQ,SAAUtC,GACvB,OAAO,IAAIE,SAAQ,SAASpR,EAASqR,GACnC,IAAIs5D,EAAW,GACf70E,EAAG80E,QAAQL,GAAS,SAAU/uE,EAAK2rC,GAEjC,GAAI3rC,EAGF,OAFA0V,GAAQA,EAAK1V,QACb6V,EAAO7V,GAIT2rC,EAAM15C,SAAQ,SAAUu3B,GAClB,SAASlzB,KAAKkzB,IAChB2lD,EAAS7+E,KAAKk5B,EAAKz4B,QAAQ,SAAU,IAE/C,IAEM2kB,GAAQA,EAAK,KAAMy5D,GACnB3qE,EAAQ2qE,EACd,GACA,GACC,EAEDtiE,EAAOwiE,UAAY,WACjB,IAAIF,EAAW,GAOf,OANA70E,EAAGg1E,YAAYP,GAAS98E,SAAQ,SAAUu3B,GACpC,SAASlzB,KAAKkzB,IAChB2lD,EAAS7+E,KAAKk5B,EAAKz4B,QAAQ,SAAU,IAE3C,IAESo+E,CACR,EAEDI,EAAiB1iE,EDrGF1S,GACTq1E,EAAgBn1E,MAChB2zE,sBAAEA,GAA0BzzE,MAC5Bk1E,UAACA,EAASC,WAAEA,mCENlB,MAAMp1E,EAAK3M,EAILgiF,EAHOx1E,EAGY/K,KAAKiL,EAAcu1E,UAAW,gCAIjDC,EAAmB,KAChBv1E,EAAGmK,WAAWkrE,IACfr1E,EAAGw1E,cAAcH,EAAa97E,KAAKC,UAAU,CAAEk+C,OAAQ,IAAM,KAAM,GAC3E,SAqBA+9B,GAAiB,CAACN,UAjBA,KACdI,IACeh8E,KAAKgQ,MAAMvJ,EAAG40E,aAAaS,EAAa,UACzC39B,QAAU,MAcC09B,WATT19B,IAChB69B,IACA,MAAM/tE,EAASjO,KAAKgQ,MAAMvJ,EAAG40E,aAAaS,EAAa,UACvD7tE,EAAOkwC,OAASA,EAChB13C,EAAGw1E,cAAcH,EAAa97E,KAAKC,UAAUgO,EAAQ,KAAM,IAC3D2V,QAAQC,IAAI,8BAA8B,GFtBbjd,GAC3B24B,EAAK14B,EACLN,EAAOO,EAIPgS,EAAU,IAAI3S,SAEpB2S,EACKrf,KAAK,uBACLQ,YAAY,0DACZqd,QAAQ,SAIbwB,EACK7Z,QAAQ,eACRhF,YAAY,8BACZF,SAAS,WAAY,8BACrBuS,QAAQ6xC,IAEAA,EAKL09B,EAAW19B,GAJPv6B,QAAQhqB,MAAM,uBAIA,IAI1Bkf,EACK7Z,QAAQ,YACRhF,YAAY,qBACZ+C,OAAO,wBAAyB,sFAChCA,OAAO,yBAA0B,+BAAgCuJ,EAAKhL,KAAKgkC,EAAGw8C,UAAW,aACzF/+E,OAAO,sBAAuB,qCAAsC,YACpEsP,QAAOwV,MAAOzkB,IACX,MAAMy9E,OAAEA,EAAMhB,UAAEA,EAASqC,MAAEA,GAAU9+E,EAG/B8gD,EAASy9B,IACf,IAAKz9B,EAID,YAHAv6B,QAAQhqB,MACJ,8EAKR,IAAIuiF,IACU,aAATA,GAAiC,UAATA,GAA8B,YAATA,GAI9C,YAHAv4D,QAAQhqB,MACJ,6EAMZ,IAAIkhF,EAIA,YAHAl3D,QAAQhqB,MACJ,qEAKJugF,EAAsBL,GAEtBl2D,QAAQC,IAAI,2BACZ,MAAMu4D,QAAkBT,EAAcx9B,EAAQ28B,EAAQhB,EAAWqC,GAEjD,SAAbC,GAMHx4D,QAAQC,IAAI,gDAAgDu4D,IAAY,IAIhFpjE,EAAO,mBAAmB,CAAC7M,EAAKmT,KACxBnT,EACAyX,QAAQC,IAAI,iCAAkC1X,EAAI9S,UAElDuqB,QAAQC,IAAIvE,GACZxG,EAAQ9I,MAAMrJ,QAAQ6I,MAC9B,MDxFsB6sE,GAEtB5oE,GAA4B6oE,EAAwBrB","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,99]}